{"version":3,"sources":["serviceWorker.js","reducers.js","reducers/user.js","reducers/singup.js","reducers/club.js","reducers/map.js","themes/main.js","actions/user.js","api/getUserInfo.js","components/appbar.js","actions/signup.js","actions/map.js","actions/club.js","api/getAddressFromMapbox.js","api/getMembersFromPoly.js","themes/error.js","components/getUserLocation.js","components/map.js","api/makeNewUser.js","api/isUserNew.js","components/modalError.js","components/signup.js","api/signin.js","components/signin.js","api/searchClubs.js","api/likeClub.js","api/dislikeClub.js","components/addNewClub.js","themes/blue.js","themes/red.js","components/clubs.js","components/search.js","index.js"],"names":["Boolean","window","location","hostname","match","combineReducers","user","state","isVlaid","undefined","suggest","firstname","lastname","likes","dislikes","suggests","action","type","payload","signup","phone_number","address","submitButtonState","country_code","club","cityName","countyName","cityCoords","clubGroup","clubName","primaryColor","secondaryColor","logoBase64","map","center","flyTo","coord","flyToClub","theme","createMuiTheme","palette","primary","main","dark","contrastText","secondary","error","light","warning","info","success","grey","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","background","default","log","debug","useStyles","makeStyles","grow","flexGrow","menuButton","marginRight","spacing","title","linearProgress","width","marginTop","sectionDesktop","display","breakpoints","up","sectionMobile","appbar","backgroundColor","borderBottom","redirectTo","React","forwardRef","props","ref","innerRef","updateCenter","updateFlyTo","updateFlyToClub","updateClub","container","padding","textAlign","position","top","typoContainer","height","margin","color","submitBtnTxt","lineHeight","RedirectToLink","AGketUserLocationdNav","signupReducer","useSelector","dispatch","useDispatch","classes","CssBaseline","Container","maxWidth","className","Typography","component","ThemeProvider","errorTheme","Button","to","onClick","signupActions","disabled","CircularProgress","size","mapboxgl","accessToken","setRTLTextPlugin","mapContainer","_totalLikes","RedirectTo","geojson","features","localDataRef","fsLength","searchMarker","clubMarker","userLocationMarker","coordsArray","withRouter","userReducer","mapReducer","clubReducer","useState","submitLocationOnHold","isLoader","mode","likeOrDislike","legends","clubId","chartWidth","teamId","setState","chartTotal","chartMales","chartFemales","totalLikes","step0","step1","step2","c0","c1","c2","c3","helper","setHelper","isLike","specifyCriterion","zoom","getZoom","loop","setPaintProperty","setTimeout","setChartWidthFunc","innerWidth","addEventListener","length","remove","essential","Marker","draggable","setLngLat","addTo","mapActions","c","fitBounds","poly","turf","centerOfPoly","geometry","coordinates","el","document","createElement","style","pathname","getAddress","coords","Promise","resolve","reject","push","mapboxReqAddress","lng","lat","axios","get","then","res","catch","err","getAddressFromMapboxApi","addUserLocationMarker","e","lngLat","wrap","data","place_name","addToSourceOnMove","getSource","id","split","val","bbox","getBounds","bounds","_sw","_ne","response","status","getMembersFromPoly","forEach","like","Number","fid","newLike","geo","setData","fs","queryRenderedFeatures","layers","array","f","uniqueArray","Set","reducedDuplicates","u","i","post","Object","keys","key","setFeatureState","source","sourceLayer","fans","addOnData","addToSourceOnData","addOnMove","off","clearFansLocation","_data","useEffect","Map","attributionControl","maxZoom","addControl","GeolocateControl","positionOptions","enableHighAccuracy","trackUserLocation","setStyle","mapbox","getCenter","on","pathnameSplit","base64Image","city","clubAction","name","country","group","primary_color","secondary_color","_id","firstColorStr","secondColorStr","cb","r","g","b","getColorCode","factorR","Math","round","factorG","factorB","color2","color3","calCulauteColors","team","colors","males","females","total","reduce","a","stepCiterion","numbers","isStyleLoaded","addSource","tiles","minzoom","maxzoom","addLayer","paint","layout","includes","handleRoutes","hidden","options","tooltips","displayColors","enabled","bodyFontSize","bodyFontFamily","bodyFontColor","yPadding","xPadding","cornerRadius","bodyFontStyle","legend","left","right","bottom","scales","yAxes","ticks","xAxes","maintainAspectRatio","animation","labels","datasets","label","fill","lineTension","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","IconButton","Link","variant","value","href","body","appendChild","select","execCommand","removeChild","ErrorModal","open","setOpen","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","errArray","errors","obj","DialogContentText","renderErrors","DialogActions","handleClose","root","zIndex","image","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","avatar","form","submit","button","instructions","marginBottom","activeAccountBtn","paper","flexDirection","alignItems","stepper","stepperBody","stepperBodyParrent","hello","init","facebook","google","redirect_uri","groupButton","formStyle","searchClubs","str","AddNewClub","enqueueSnackbar","useSnackbar","modalErrors","clubOptions","loading","fullWidth","Autocomplete","teamsSearch","getOptionLabel","option","onChange","inputValue","clubObj","renderInput","params","TextField","target","console","searchClubsApi","clubs","token","localStorage","fans_club","userAction","isValid","dislikeClubApi","groupBtn","favTeams","border","borderRadius","subTitle","text","input","marginLeft","flex","iconButton","iconButtonSelected","divider","searchInput","store","createStore","reducers","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","path","redirect","mobileMoreAnchorEl","setMobileMoreAnchorEl","reduxState","isMobileMenuOpen","mobileMenuId","handleMobileMenuOpen","event","currentTarget","tries","code","msg","handleMobileMenuClose","handleMenuClose","handleLogOut","removeItem","isNotuserContent","aria-label","aria-controls","aria-haspopup","getUserInfoContent","AppBar","Toolbar","content","toolbarContent","LinearProgress","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","renderMobileMenu","exact","email","signupReducers","submitOnHold","selectedDate","Date","gender","genderErr","isNewUser","activeStep","try","setUser","steps","handleChange","onModalErrorClose","handleDateChange","_user","extendedUser","birth","makeNewUsedrApi","setItem","snackMsg","isNewuser","other","Grid","item","xs","sm","md","Paper","elevation","square","Stepper","alternativeLabel","Step","StepLabel","step","FormControl","login","scope","resp","api","handler","from","first_name","last_name","fullname","picture","thumbnail","googleId","message","facebookId","noValidate","utils","DateFnsUtils","DatePicker","disableFuture","openTo","format","views","FormLabel","fontWeight","fontSize","RadioGroup","row","FormControlLabel","control","Radio","FormHelperText","handleClick","getStepContent","handleNextDisable","mapCenterReducer","global","searchMode","setOptions","setRedirect","handleSeachButton","Divider","orientation","onOpen","getOptionSelected","placeholder","newOptions","handleRedirect","signinApi","addNewClubModal","onHold","handleDeleteTeams","align","blueTheme","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","redTheme","querySelector","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7890eca8.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport user from './reducers/user';\nimport signup from './reducers/singup';\nimport map from './reducers/map';\nimport club from './reducers/club';\n\nexport default combineReducers({\n  user,\n  signup,\n  club,\n  map,\n});\n","export default (\n  state = {\n    isVlaid: undefined,\n    suggest: undefined,\n    firstname: undefined,\n    lastname: undefined,\n    likes: [],\n    dislikes: [],\n    suggests: [],\n    location: undefined,\n  },\n  action\n) => {\n  switch (action.type) {\n    case 'UPDATE_USER':\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n};\n","export default (\n  state = {\n    phone_number: undefined,\n    location: undefined,\n    address: undefined,\n    submitButtonState: false,\n    country_code: undefined,\n  },\n  action\n) => {\n  switch (action.type) {\n    case 'UPDATE_SIGNUP':\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n};\n","export default (\n  state = {\n    cityName: undefined,\n    countyName: undefined,\n    cityCoords: undefined,\n    clubGroup: undefined,\n    clubName: undefined,\n    primaryColor: undefined,\n    secondaryColor: undefined,\n    logoBase64: undefined,\n  },\n  action\n) => {\n  switch (action.type) {\n    case 'UPDATE_CLUB':\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n};\n","export default (\n  state = {\n    center: undefined,\n    flyTo: { state: false, coord: undefined },\n    flyToClub: {\n      state: false,\n      coord: undefined,\n    },\n  },\n  action\n) => {\n  switch (action.type) {\n    case 'UPDATE_CENTER':\n      return { ...state, center: action.payload };\n    case 'UPDATE_FLYTO':\n      return { ...state, flyTo: action.payload };\n    case 'UPDATE_FLYTOCLUB':\n      return { ...state, flyToClub: action.payload };\n    default:\n      return state;\n  }\n};\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      // light: '#d32f2f',\n      main: '#263238',\n      dark: '#12181b',\n      contrastText: '#fff',\n    },\n    secondary: {\n      // light: '#26a69a',\n      main: '#4caf50',\n      // dark: '#00897b',\n      contrastText: '#fff',\n    },\n    error: {\n      light: '#e57373',\n      main: '#f44336',\n      dark: '#d32f2f',\n      contrastText: '#fff',\n    },\n    warning: {\n      light: '#ffb74d',\n      main: '#ff9800',\n      dark: '#f57c00',\n      // contrastText: 'rgba(0, 0, 0, 0.87)',\n    },\n    info: {\n      light: '#2196F3',\n      main: '#2196f3',\n      dark: '#2196F3',\n      contrastText: '#fff',\n    },\n    success: {\n      light: '#81c784',\n      main: '#4caf50',\n      dark: '#388e3c',\n      // contrastText: 'rgba(0, 0, 0, 0.87)',\n    },\n    grey: {\n      50: '#fafafa',\n      100: '#f5f5f5',\n      200: '#eeeeee',\n      300: '#e0e0e0',\n      400: '#bdbdbd',\n      500: '#9e9e9e',\n      600: '#757575',\n      700: '#616161',\n      800: '#424242',\n      900: '#212121',\n      A100: '#d5d5d5',\n      A200: '#aaaaaa',\n      A400: '#303030',\n      A700: '#616161',\n    },\n    background: {\n      default: '#e6e6fa',\n    },\n  },\n});\n\nexport default theme;\n","export default payload => {\n  return {\n    type: 'UPDATE_USER',\n    payload,\n  };\n};\n","import axios from 'axios';\nimport debug from 'debug';\n\nconst log = debug('log:isUserValidAPI');\n\nexport default token => {\n  return new Promise((resolve, reject) => {\n    let tries = 0;\n    // NOTE: looping 4 times in case of connection error\n    (function loop() {\n      axios\n        .get(`http://185.8.175.15/api/v1/GET/getUserInfo/${token}`)\n        .then(res => {\n          log('is user valid response', res);\n          resolve({\n            data: res.data,\n            status: res.status.code,\n          });\n        })\n        .catch(error => {\n          log('is user valid error', error);\n          if (typeof error.response !== 'object') {\n            if (tries < 4) {\n              tries += 1;\n              setTimeout(() => {\n                loop();\n              }, 100);\n            } else\n              reject({\n                status: 503,\n              });\n          } else\n            reject({\n              status: error.response.status,\n              data: error.response.data,\n            });\n        });\n    })();\n  });\n};\n","import debug from 'debug';\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Redirect, Link as RouterLink } from 'react-router-dom';\nimport { useSnackbar } from 'notistack';\n// material-ui\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n// actions\nimport userAction from '../actions/user';\n// api\nimport getUserInfoApi from '../api/getUserInfo';\n\n// --debuger\nconst log = debug('log:Appbar');\n// creating style\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    // TODO: check it later\n    flexGrow: 1,\n  },\n  linearProgress: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n  appbar: {\n    backgroundColor: '#263238',\n    borderBottom: 'solid 6px #4caf50',\n  },\n}));\n\nconst redirectTo = React.forwardRef((props, ref) => <RouterLink innerRef={ref} {...props} />);\nexport default function Appbar() {\n  const classes = useStyles();\n  const { enqueueSnackbar } = useSnackbar();\n  const dispatch = useDispatch();\n  // redirect helper\n\n  // states\n  const [state /* setState */] = useState({\n    redirect: false,\n  });\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = useState(undefined);\n\n  // global states\n  const userReducer = useSelector(reduxState => reduxState.user);\n\n  // handling @media\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n  const mobileMenuId = 'primary-search-account-menu-mobile';\n  const handleMobileMenuOpen = event => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n\n  log(userReducer);\n\n  if (userReducer.isValid === undefined) {\n    if (localStorage.fans_club) {\n      getUserInfoApi(localStorage.fans_club)\n        .then(res => {\n          log('appbar getUserInfo valid res', res);\n          dispatch(\n            userAction({\n              isValid: true,\n              firstname: res.data.firstname,\n              lastname: res.data.lastname,\n              likes: res.data.likes,\n              dislikes: res.data.dislikes,\n              suggests: res.data.suggests,\n              location: res.data.location,\n            })\n          );\n          // TODO: ADD TO USER REDUCER\n        })\n        .catch(err => {\n          log('appbar getUserInfo valid err', err);\n          if (err.status === 503) {\n            dispatch(userAction({ isValid: false }));\n            enqueueSnackbar('Network Error', { variant: 'error' });\n          } else {\n            log('other error messages on getUserInfo Api', err);\n            dispatch(userAction({ isValid: false }));\n            enqueueSnackbar(err.msg, { variant: 'error' });\n          }\n        });\n    } else {\n      log('no token has been found for fans_club');\n      dispatch(userAction({ isValid: false }));\n      enqueueSnackbar('Signup to get more ...', { variant: 'error' });\n    }\n  }\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(undefined);\n  };\n\n  const handleMenuClose = () => {\n    // setAnchorEl(undefined);\n    handleMobileMenuClose();\n  };\n\n  const handleLogOut = () => {\n    localStorage.removeItem('fans_club');\n\n    dispatch(\n      userAction({\n        isValid: undefined,\n        firstname: undefined,\n        lastname: undefined,\n        likes: undefined,\n        dislikes: undefined,\n        suggests: undefined,\n        location: undefined,\n      })\n    );\n  };\n\n  function renderMobileMenu() {\n    switch (userReducer.isValid) {\n      case false:\n        return (\n          <Menu\n            anchorEl={mobileMoreAnchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={mobileMenuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMobileMenuOpen}\n            onClose={handleMobileMenuClose}\n          >\n            <MenuItem onClick={handleMenuClose}>\n              <Button\n                className=\"appbarButton\"\n                color=\"secondary\"\n                component={redirectTo}\n                to=\"/signup\"\n              >\n                Signup\n              </Button>\n            </MenuItem>\n            <MenuItem onClick={handleMenuClose}>\n              <Button color=\"secondary\" component={redirectTo} to=\"/signin\">\n                Signin\n              </Button>\n            </MenuItem>\n          </Menu>\n        );\n      case true:\n        return (\n          <Menu\n            anchorEl={mobileMoreAnchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={mobileMenuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMobileMenuOpen}\n            onClose={handleMobileMenuClose}\n          >\n            {/* <MenuItem onClick={handleMenuClose}>\n              <Button color=\"secondary\" component={redirectTo} to=\"/profile\">\n                profile\n              </Button>\n            </MenuItem> */}\n            <MenuItem onClick={handleMenuClose}>\n              <Button color=\"secondary\" component={redirectTo} to=\"/clubs\">\n                teams\n              </Button>\n            </MenuItem>\n            <MenuItem onClick={handleMenuClose}>\n              <Button color=\"secondary\" component={redirectTo} to=\"/\" onClick={handleLogOut}>\n                logout\n              </Button>\n            </MenuItem>\n          </Menu>\n        );\n      default:\n        return undefined;\n    }\n  }\n\n  const isNotuserContent = (\n    <>\n      <div className={classes.sectionDesktop}>\n        <Button className=\"appbarButton\" color=\"secondary\" component={redirectTo} to=\"/signup\">\n          Signup\n        </Button>\n        <Button color=\"secondary\" component={redirectTo} to=\"/signin\">\n          Signin\n        </Button>\n      </div>\n      <div className={classes.sectionMobile}>\n        <IconButton\n          aria-label=\"show more\"\n          aria-controls={mobileMenuId}\n          aria-haspopup=\"true\"\n          onClick={handleMobileMenuOpen}\n        >\n          <MoreIcon color=\"secondary\" />\n        </IconButton>\n      </div>\n    </>\n  );\n\n  const getUserInfoContent = (\n    <>\n      <div className={classes.sectionDesktop}>\n        {/* <Button color=\"secondary\" component={redirectTo} to=\"/profile\">\n          profile\n        </Button> */}\n        <Button color=\"secondary\" component={redirectTo} to=\"/clubs\">\n          teams\n        </Button>\n        <Button color=\"secondary\" component={redirectTo} to=\"/\" onClick={handleLogOut}>\n          logout\n        </Button>\n      </div>\n      <div className={classes.sectionMobile}>\n        <IconButton\n          aria-label=\"show more\"\n          aria-controls={mobileMenuId}\n          aria-haspopup=\"true\"\n          onClick={handleMobileMenuOpen}\n        >\n          <MoreIcon color=\"secondary\" />\n        </IconButton>\n      </div>\n    </>\n  );\n\n  function toolbarContent() {\n    let content;\n    if (userReducer.isValid === undefined) content = <p>loading</p>;\n    if (userReducer.isValid === false) content = isNotuserContent;\n    if (userReducer.isValid === true) content = getUserInfoContent;\n\n    return content;\n  }\n\n  return (\n    <>\n      {state.redirect ? <Redirect to={state.redirect} push /> : undefined}\n      {userReducer.isValid === undefined ? (\n        <div className=\"loading-wrapper\">\n          <div className=\"wrap\">\n            <div className=\"loading\">\n              <div className=\"bounceball\" />\n              {/* <div className=\"text\">NOW LOADING</div> */}\n            </div>\n          </div>\n        </div>\n      ) : (\n        undefined\n      )}\n      <div className={classes.grow}>\n        <AppBar position=\"static\" className={classes.appbar}>\n          <Toolbar>\n            <Typography variant=\"h5\" className={classes.title}>\n              <Button component={redirectTo} to=\"/\" style={{ color: 'white' }}>\n                <Typography variant=\"h5\" className={classes.title}>\n                  FANS CLUB\n                </Typography>\n              </Button>\n            </Typography>\n\n            {toolbarContent()}\n          </Toolbar>\n          {userReducer.isValid === undefined ? (\n            <div className={classes.linearProgress}>\n              <LinearProgress />\n            </div>\n          ) : (\n            undefined\n          )}\n        </AppBar>\n        {renderMobileMenu()}\n      </div>\n    </>\n  );\n}\n","export default payload => {\n  return {\n    type: 'UPDATE_SIGNUP',\n    payload,\n  };\n};\n","function updateCenter(payload) {\n  return {\n    type: 'UPDATE_CENTER',\n    payload,\n  };\n}\n\nfunction updateFlyTo(payload) {\n  return {\n    type: 'UPDATE_FLYTO',\n    payload,\n  };\n}\n\nfunction updateFlyToClub(payload) {\n  return {\n    type: 'UPDATE_FLYTOCLUB',\n    payload,\n  };\n}\n\nexport default {\n  updateCenter,\n  updateFlyTo,\n  updateFlyToClub,\n};\n","export default function updateClub(payload) {\n  return {\n    type: 'UPDATE_CLUB',\n    payload,\n  };\n}\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:getUserAddressFromMapbox');\n\nconst mapboxglAccessToken =\n  'pk.eyJ1IjoibW9oZXNlbSIsImEiOiJjanR3amhqcWcxZm05NDVtcG03Nm44Ynk4In0.YUdlvT5fABnW8BReNMSuPg';\n\nexport default function getUserLocationFromMapbox(coords) {\n  return new Promise((resolve, reject) => {\n    const mainAddress = 'https://api.mapbox.com/geocoding/v5/mapbox.places/';\n    const addressResumption = '.json?access_token=';\n    const mapboxReqAddress = `${mainAddress + coords.lng},${\n      coords.lat\n    }${addressResumption}${mapboxglAccessToken}`;\n\n    axios\n      .get(mapboxReqAddress)\n      .then(res => {\n        log('mapbox api', res);\n\n        resolve(res);\n      })\n      .catch(err => {\n        log('mapbox api', err);\n        reject(err);\n      });\n  });\n}\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:signin');\n\nexport default function getMembersFromPoly(bounds, val, teamId) {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(\n        `http://185.8.175.15/api/v1/GET/membersFromPoly/${bounds._sw.lng}/${bounds._sw.lat}/${bounds._ne.lng}/${bounds._ne.lat}/${val}/${teamId}`\n      )\n      .then(response => {\n        resolve(response);\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: '#f44336',\n    },\n  },\n});\n","// import debug from 'debug';\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link as RouterLink } from 'react-router-dom';\n\n// material-ui components\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// theme\nimport errorTheme from '../themes/error';\n\n// actions\nimport signupActions from '../actions/signup';\n\n// --debuger\n// const log = debug('log:getUserLocaationNav');\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    padding: '0px',\n    textAlign: 'center',\n    position: 'absolute',\n    top: 61,\n  },\n  typoContainer: {\n    backgroundColor: 'rgb(29, 41, 51)',\n    height: 'fit-content',\n    width: '100%',\n    padding: '10px',\n  },\n  address: {\n    margin: '10px',\n    color: 'white',\n  },\n  submitBtnTxt: {\n    lineHeight: 0,\n    color: 'chocolate',\n  },\n}));\n\nconst RedirectToLink = React.forwardRef((props, ref) => <RouterLink innerRef={ref} {...props} />);\n\nexport default function AGketUserLocationdNav() {\n  const signupReducer = useSelector(state => state.signup);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  return (\n    <>\n      <CssBaseline />\n\n      <Container maxWidth=\"xl\" className={classes.container}>\n        <Typography component=\"div\" className={classes.typoContainer}>\n          <h3 className={classes.address}>{signupReducer.address}</h3>\n          <ThemeProvider theme={errorTheme}>\n            <Button\n              color=\"primary\"\n              component={RedirectToLink}\n              to=\"/\"\n              onClick={() => {\n                dispatch(\n                  signupActions({\n                    location: undefined,\n                    address: undefined,\n                  })\n                );\n              }}\n            >\n              Cancel\n            </Button>\n          </ThemeProvider>\n          {signupReducer.submitButtonState ? (\n            <Button color=\"secondary\" component={RedirectToLink} to=\"/signup\">\n              Submit\n            </Button>\n          ) : (\n            <Button color=\"secondary\" disabled>\n              {signupReducer.address === null ? (\n                <p className={classes.submitBtnTxt}>submit</p>\n              ) : (\n                <CircularProgress color=\"secondary\" size=\"20px\" />\n              )}\n            </Button>\n          )}\n        </Typography>\n      </Container>\n    </>\n  );\n}\n","/* eslint-disable no-unused-vars */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport debug from 'debug';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { withRouter, Link as RouterLink } from 'react-router-dom';\nimport mapboxgl from 'mapbox-gl';\nimport axios from 'axios';\nimport * as turf from '@turf/turf';\n\n// chartjs\nimport { Line } from 'react-chartjs-2';\n\n// material-ui component\nimport Link from '@material-ui/core/Link';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport TrendingUpRoundedIcon from '@material-ui/icons/TrendingUpRounded';\nimport FormatListBulletedRoundedIcon from '@material-ui/icons/FormatListBulletedRounded';\nimport LinkRoundedIcon from '@material-ui/icons/LinkRounded';\n\n// actions\nimport signupActions from '../actions/signup';\nimport mapActions from '../actions/map';\nimport clubAction from '../actions/club';\n\n// API\nimport getAddressFromMapboxApi from '../api/getAddressFromMapbox';\nimport getMembersFromPoly from '../api/getMembersFromPoly';\n\n// components\nimport GetUserlocationNav from './getUserLocation';\n\nmapboxgl.accessToken =\n  'pk.eyJ1IjoibW9oZXNlbSIsImEiOiJjanR3amhqcWcxZm05NDVtcG03Nm44Ynk4In0.YUdlvT5fABnW8BReNMSuPg';\nmapboxgl.setRTLTextPlugin(\n  'https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js'\n);\n\n// --debug\nconst log = debug('log:Map');\n\nconst RedirectTo = React.forwardRef((props, ref) => <RouterLink innerRef={ref} {...props} />);\n\nlet mapContainer;\nlet map;\nconst geojson = {\n  type: 'FeatureCollection',\n  features: [],\n};\nlet _totalLikes;\nconst localDataRef = {};\nlet fsLength = 0;\nlet searchMarker = null;\nlet clubMarker = null;\nlet userLocationMarker = null;\nconst coordsArray = [];\n\nfunction Map(props) {\n  const dispatch = useDispatch();\n\n  const userReducer = useSelector(state => state.user);\n  const mapReducer = useSelector(state => state.map);\n  const clubReducer = useSelector(state => state.club);\n\n  // local state\n  const [state, setState] = useState({\n    submitLocationOnHold: false,\n    isLoader: true,\n    // NOTE: 0 is normal && 1 is getUserLocation && 2 is virtualization\n    mode: 'wait',\n    // NOTE: 1 is for like and 0 is for dislike\n    likeOrDislike: 1,\n    // NOTE: 0 is color helper and 1 is for chart\n    legends: 0,\n    clubId: undefined,\n    center: undefined,\n\n    chartWidth: 0,\n    teamId: undefined,\n  });\n\n  const [helper, setHelper] = useState({\n    chartTotal: undefined,\n    chartMales: undefined,\n    chartFemales: undefined,\n    totalLikes: undefined,\n    step0: undefined,\n    step1: undefined,\n    step2: undefined,\n    c0: undefined,\n    c1: undefined,\n    c2: undefined,\n    c3: 'rgb(255, 255, 255)',\n  });\n\n  // NOTE: as its for showcase we only suport likes\n  const [isLike, setIsLike] = useState(true);\n\n  function specifyCriterion() {\n    // mapbox.setPaintProperty('boundry', 'fill-color', [\n    //   'interpolate',\n    //   ['exponential', 0.5],\n    //   ['zoom'],\n    //   15,\n    //   '#e2714b',\n    //   22,\n    //   '#eee695'\n    //   ]);\n\n    const zoom = map.getZoom();\n    (function loop() {\n      if (_totalLikes) {\n        if (zoom < 4) {\n          map.setPaintProperty('boundry', 'fill-color', [\n            'case',\n            ['!=', ['feature-state', 'fans'], null],\n            [\n              'interpolate',\n              ['linear'],\n              ['feature-state', 'fans'],\n              0,\n              'rgb(236, 225, 203)',\n              _totalLikes / 200,\n              'rgba(211,47,47,1.0)',\n            ],\n            'rgba(255,255,255,1.0)',\n          ]);\n          return true;\n        }\n        if (zoom < 7) {\n          map.setPaintProperty('boundry', 'fill-color', [\n            'case',\n            ['!=', ['feature-state', 'fans'], null],\n            [\n              'interpolate',\n              ['linear'],\n              ['feature-state', 'fans'],\n              0,\n              'rgb(236, 225, 203)',\n              _totalLikes / 2000,\n              'rgba(211,47,47,1.0)',\n            ],\n            'rgba(255,255,255,1.0)',\n          ]);\n\n          return true;\n        }\n        map.setPaintProperty('boundry', 'fill-color', [\n          'case',\n          ['!=', ['feature-state', 'fans'], null],\n          [\n            'interpolate',\n            ['linear'],\n            ['feature-state', 'fans'],\n            0,\n            'rgb(236, 225, 203)',\n            _totalLikes / 20000,\n            'rgba(211,47,47,1.0)',\n          ],\n          'rgba(255,255,255,1.0)',\n        ]);\n      } else {\n        setTimeout(() => {\n          loop();\n        }, 50);\n      }\n    })();\n  }\n\n  function setChartWidthFunc() {\n    if (window.innerWidth >= 360 && state.chartWidth < 300) {\n      setState({ ...state, chartWidth: 300 });\n    }\n    if (window.innerWidth < 360) {\n      setState({ ...state, chartWidth: window.innerWidth - 60 });\n    }\n  }\n\n  window.addEventListener('resize', () => {\n    setChartWidthFunc();\n  });\n\n  function getColorCode(firstColorStr, secondColorStr, cb) {\n    let value;\n    if (firstColorStr === 'white') {\n      switch (secondColorStr) {\n        case 'red':\n          value = { r: 183, g: 28, b: 28 };\n          break;\n        default:\n          break;\n      }\n    } else {\n      switch (secondColorStr) {\n        case 'red':\n          value = { r: 183, g: 28, b: 28 };\n          break;\n        default:\n          break;\n      }\n    }\n\n    return cb({ r: 183, g: 28, b: 28 });\n    // return cb(value);\n  }\n\n  function calCulauteColors(firstColorStr, secondColorStr, cb) {\n    getColorCode(firstColorStr, secondColorStr, color => {\n      const factorR = Math.round((255 - color.r) / 3);\n      const factorG = Math.round((255 - color.g) / 3);\n      const factorB = Math.round((255 - color.b) / 3);\n      const color2 = {\n        r: color.r + factorR,\n        g: color.g + factorG,\n        b: color.b + factorB,\n      };\n      const color3 = {\n        r: color.r + factorR * 2,\n        g: color.g + factorG * 2,\n        b: color.b + factorB * 2,\n      };\n      const c0 = `rgb(${color.r}, ${color.g}, ${color.b})`;\n      const c1 = `rgb(${color2.r}, ${color2.g}, ${color2.b})`;\n      const c2 = `rgb(${color3.r}, ${color3.g},${color3.b})`;\n      return cb(c0, c1, c2);\n    });\n  }\n\n  if (mapReducer.flyTo.state === true) {\n    if (mapReducer.flyTo.coord.length === 2) {\n      if (searchMarker !== null) {\n        searchMarker.remove();\n      }\n\n      map.flyTo({\n        center: mapReducer.flyTo.coord,\n        zoom: 5,\n        essential: true, // this animation is considered essential with respect to prefers-reduced-motion\n      });\n      searchMarker = new mapboxgl.Marker({\n        draggable: false,\n      });\n      searchMarker.setLngLat(mapReducer.flyTo.coord);\n      searchMarker.addTo(map);\n      dispatch(mapActions.updateFlyTo({ state: false, coord: [] }));\n    } else {\n      if (searchMarker !== null) {\n        searchMarker.remove();\n      }\n      // map.fitBounds([\n      //   [32.958984, -5.353521],\n      //   [43.50585, 5.615985],\n      // ]);\n      const c = mapReducer.flyTo.coord;\n      map.fitBounds([\n        [c[0], c[1]],\n        [c[2], c[3]],\n      ]);\n\n      const poly = turf.bboxPolygon(c);\n      const centerOfPoly = turf.centroid(poly);\n      log('----------------------------------', centerOfPoly);\n      searchMarker = new mapboxgl.Marker({\n        draggable: false,\n      });\n\n      searchMarker.setLngLat(centerOfPoly.geometry.coordinates);\n      searchMarker.addTo(map);\n      dispatch(mapActions.updateFlyTo({ state: false, coord: [] }));\n    }\n  }\n\n  if (mapReducer.flyToClub.state === true) {\n    // log('%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%', clubMarker !== null, clubMarker);\n    if (clubMarker !== null) {\n      log('remove the fucking marker pleeeeeeeeeeeeeeeeeeeeeeeeease');\n      clubMarker.remove();\n    }\n\n    if (clubReducer.cityCoords) {\n      map.flyTo({\n        center: clubReducer.cityCoords,\n        zoom: 5,\n        essential: true, // this animation is considered essential with respect to prefers-reduced-motion\n      });\n    }\n\n    if (clubReducer.logoBase64) {\n      const el = document.createElement('div');\n      el.style.background = `url(data:image/png;base64,${clubReducer.logoBase64})`;\n      el.style['background-position'] = 'center';\n      el.style['background-size'] = 'contain';\n      el.style.height = `60px`;\n      el.style.width = `60px`;\n      el.style['background-repeat'] = 'no-repeat';\n      clubMarker = new mapboxgl.Marker(el);\n      clubMarker.setLngLat(clubReducer.cityCoords);\n      clubMarker.addTo(map);\n    }\n\n    // if (!clubReducer.logoBase64) {\n    //   if (clubMarker) {\n    //     clubMarker.remove();\n    //   }\n    // }\n    setTimeout(() => {\n      dispatch(mapActions.updateFlyToClub({ state: false, coord: [] }));\n    }, 10);\n\n    // if (clubReducer.logoBase64) {\n    //   const el = document.createElement('div');\n    //   el.className = 'club-marker';\n    //   // el.style.width = `${clubMarker.properties.iconSize[0]}px`;\n\n    //   // const imageElem = document.createElement('img');\n    //   // Just use the toString() method from your buffer instance\n    //   // to get date as base64 type\n\n    //   // imageElem.setAttribute('src', `data:image/jpg;base64,${clubReducer.logoBase64}`);\n\n    //   // imageElem.src = `url:(data:image/jpeg;base64,${MMM.toString('base64')})`;\n\n    //   // el.style.backgroundImage = `url(https://placekitten.com/g/${clubMarker.properties.iconSize.join(\n    //   //   '/'\n    //   // )}/)`;\n\n    //   // const MMM =\n    //   //   'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAIAAACRXR/mAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDUxRjY0ODgyQTkxMTFFMjk0RkU5NjI5MEVDQTI2QzUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDUxRjY0ODkyQTkxMTFFMjk0RkU5NjI5MEVDQTI2QzUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpENTFGNjQ4NjJBOTExMUUyOTRGRTk2MjkwRUNBMjZDNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpENTFGNjQ4NzJBOTExMUUyOTRGRTk2MjkwRUNBMjZDNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuT868wAAABESURBVHja7M4xEQAwDAOxuPw5uwi6ZeigB/CntJ2lkmytznwZFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW1qsrwABYuwNkimqm3gAAAABJRU5ErkJggg==';\n\n    //   el.style.background = `url(data:image/png;base64,${clubReducer.logoBase64})`;\n    //   el.style['background-position'] = 'center';\n    //   el.style['background-size'] = 'contain';\n    //   // log(`url:(data:image/jpg;base64,${clubReducer.logoBase64.toString('base64')})`);\n    //   // el.style.height = `${clubMarker.properties.iconSize[1]}px`;\n    //   el.style.height = `60px`;\n    //   el.style.width = `60px`;\n    //   //   , {\n    //   //   draggable: false,\n    //   // }\n    //   clubMarker = new mapboxgl.Marker(el);\n    //   clubMarker.setLngLat(clubReducer.cityCoords);\n    //   clubMarker.addTo(map);\n\n    //   log('$$$$$$$$$$$$$$$$$$$$$$', clubMarker);\n    //   dispatch(mapActions.updateFlyToClub({ state: false, coord: [] }));\n\n    //   // new mapboxgl.Marker(el).setLngLat(clubReducer.cityCoords).addTo(map);\n    // } else {\n    //   log(\n    //     'elseeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee'\n    //   );\n    //   // clubMarker = new mapboxgl.Marker({\n    //   //   draggable: false,\n    //   // });\n    //   // clubMarker.setLngLat(clubReducer.cityCoords);\n    //   // clubMarker.addTo(map);\n    //   // dispatch(mapActions.updateFlyToClub({ state: false, coord: [] }));\n    // }\n  }\n  // NOTE: handeling routes\n  const { location } = props;\n  const { pathname } = location;\n  function handleRoutes() {\n    // log('route pathname', pathname);\n    if (map) {\n      const mode = (() => {\n        if (pathname === '/signup/getUserLocation') return 1;\n        if (pathname === '/') return 0;\n        if (pathname.includes('/v/')) return 2;\n        return 0;\n      })();\n\n      if (mode !== state.mode) {\n        log('new state after route change');\n        setState({ ...state, mode });\n      }\n    }\n\n    // let mode;\n    // switch (pathname) {\n    //   case '/signup/getUserLocation':\n    //     mode = 1;\n    //     break;\n    //   case '/':\n    //     mode = 0;\n    //     break;\n    //   case pathname.includes('/'):\n    //     mode = 2;\n    //     break;\n    //   default:\n    //     mode = 0;\n    //     break;\n    // }\n  }\n\n  function getAddress(coords) {\n    return new Promise((resolve, reject) => {\n      /* TODO: use getLocation bar as a sub component and pass submit on hold to that */\n      setState({ ...state, submitLocationOnHold: true });\n      coordsArray.push(coords);\n\n      getAddressFromMapboxApi(coords)\n        .then(res => {\n          log('mapbox res', res);\n          resolve(res);\n          setState({ ...state, submitLocationOnHold: false });\n        })\n        .catch(err => {\n          reject(err);\n        });\n    });\n  }\n\n  function addUserLocationMarker(e) {\n    dispatch(signupActions({ submitButtonState: false }));\n    getAddress(e.lngLat.wrap())\n      .then(address => {\n        if (address) {\n          log('final result is ==> ', {\n            location: e.lngLat.wrap(),\n            address: address.data.features[0].place_name,\n          });\n          dispatch(\n            signupActions({\n              location: e.lngLat.wrap(),\n              address: address.data.features[0].place_name,\n              submitButtonState: true,\n            })\n          );\n        }\n      })\n      .catch(() => {\n        log('some error came from mapbox');\n      });\n\n    if (userLocationMarker !== null) {\n      userLocationMarker.remove();\n    }\n    userLocationMarker = new mapboxgl.Marker({\n      draggable: false,\n    });\n    userLocationMarker.setLngLat(e.lngLat.wrap());\n    userLocationMarker.addTo(map);\n  }\n\n  function handleLegendsVisibility() {\n    if (state.legends === 0) return setState({ ...state, legends: 1 });\n    return setState({ ...state, legends: 0 });\n  }\n\n  function addToSourceOnMove() {\n    if (map.getSource('boundary-source')) {\n      const pathnameSplit = pathname.split('/');\n      const id = pathnameSplit[2];\n      const val = isLike === true ? 'like' : 'dislike';\n      const bbox = map.getBounds();\n\n      // log('bbox is ', bbox);\n      if (map.getZoom() > 8) {\n        getMembersFromPoly(bbox, val, id)\n          .then(res => {\n            geojson.features = [];\n\n            // log('&&&&&&&&&&&&&&&&&&', res);\n            res.data.likes.forEach(like => {\n              if (Number(like.fid) < 500) {\n                const newLike = {\n                  type: 'Feature',\n                  geometry: like.geo,\n                };\n                geojson.features.push(newLike);\n              }\n            });\n\n            map.getSource('custom').setData(geojson);\n          })\n          .catch(err => {\n            log(err);\n          });\n      }\n      const fs = map.queryRenderedFeatures({ layers: ['boundry'] });\n      const { length } = fs;\n      if (fsLength !== length) {\n        fsLength = length;\n        const array = fs.map(f => f.id);\n        const uniqueArray = [...new Set(array)];\n        const reducedDuplicates = [];\n\n        uniqueArray.forEach((u, i) => {\n          if (!localDataRef[u]) {\n            localDataRef[u] = 1;\n            reducedDuplicates.push(u);\n          }\n\n          if (uniqueArray.length - 1 === i && reducedDuplicates.length) {\n            axios\n              .post('http://185.8.175.15/api/v1/POST/getLikesForPolys', {\n                teamId: state.teamId,\n                reducedDuplicates,\n              })\n              .then(response => {\n                const { likes } = response.data;\n                Object.keys(likes).forEach(key => {\n                  map.setFeatureState(\n                    {\n                      source: 'boundary-source',\n                      sourceLayer: 'boundry',\n                      id: key /* dataValues['USA1' + row.STATE_ID].id_int */,\n                    },\n                    { fans: likes[key] / 3 }\n                  );\n                });\n              })\n              .catch(error => {\n                // TODO: check this out\n              });\n          }\n        });\n      }\n    }\n\n    return null;\n  }\n\n  function addToSourceOnData() {\n    if (map.getSource('boundary-source')) {\n      const bbox = map.getBounds();\n\n      const fs = map.queryRenderedFeatures({ layers: ['boundry'] });\n      const { length } = fs;\n      if (fsLength !== length) {\n        // log('bbox is addToSourceOnData', bbox);\n        fsLength = length;\n        const array = fs.map(f => f.id);\n        const uniqueArray = [...new Set(array)];\n        const reducedDuplicates = [];\n\n        uniqueArray.forEach((u, i) => {\n          if (!localDataRef[u]) {\n            localDataRef[u] = 1;\n            reducedDuplicates.push(u);\n          }\n\n          if (uniqueArray.length - 1 === i && reducedDuplicates.length) {\n            axios\n              .post('http://185.8.175.15/api/v1/POST/getLikesForPolys', {\n                teamId: state.teamId,\n                reducedDuplicates,\n              })\n              .then(response => {\n                const { likes } = response.data;\n                Object.keys(likes).forEach(key => {\n                  map.setFeatureState(\n                    {\n                      source: 'boundary-source',\n                      sourceLayer: 'boundry',\n                      id: key /* dataValues['USA1' + row.STATE_ID].id_int */,\n                    },\n                    { fans: likes[key] / 3 }\n                  );\n                });\n              })\n              .catch(error => {\n                // TODO: check this out\n              });\n          }\n        });\n      }\n    }\n\n    return null;\n  }\n\n  function addOnData() {\n    addToSourceOnData();\n    specifyCriterion();\n  }\n\n  function addOnMove() {\n    // const pathnameSplit = pathname.split('/');\n    // const id = pathnameSplit[2];\n    // const val = isLike === true ? 'like' : 'dislike';\n    // const bbox = map.getBounds();\n    // callApi(bbox, val, id);\n    addToSourceOnMove();\n    specifyCriterion();\n\n    map.off('data', addOnData);\n  }\n\n  function onClick(e) {\n    getAddress(e.lngLat.wrap(), (err, address) => {\n      if (address) {\n        dispatch(signupActions.updateLocation(e.lngLat.wrap()));\n        dispatch(signupActions.updateAddress(address.data.features[0].place_name));\n      }\n    });\n\n    if (userLocationMarker !== null) {\n      userLocationMarker.remove();\n    }\n    userLocationMarker = new mapboxgl.Marker({\n      draggable: false,\n    });\n    userLocationMarker.setLngLat(e.lngLat.wrap());\n    userLocationMarker.addTo(map);\n  }\n\n  useEffect(() => {\n    if (map === undefined) {\n      map = new mapboxgl.Map({\n        container: mapContainer,\n        center: userReducer.location || [0, 0],\n        zoom: 2,\n        attributionControl: false,\n        maxZoom: 14,\n      });\n      map.addControl(\n        new mapboxgl.GeolocateControl({\n          positionOptions: {\n            enableHighAccuracy: true,\n          },\n          trackUserLocation: true,\n        }),\n        'bottom-right'\n      );\n      map.setStyle('mapbox://styles/mohesem/ck59dnl2k1ij41co38c3zy6ib');\n\n      // map.on('style.load', () => {\n      //   if (!map.isStyleLoaded()) {\n      //     let count = 0;\n      //     (function loop() {\n      //       setTimeout(() => {\n      //         count += 50;\n      //         if (!map.isStyleLoaded()) return loop();\n      //         return setState({ ...state, render: false, loaded: true });\n      //       }, 0 + count);\n      //     })();\n      //   }\n      // });\n\n      // FIXME: delete on production\n      window.mapbox = map;\n\n      dispatch(mapActions.updateCenter(map.getCenter()));\n      // setState({ ...state, isLoaded: true });\n    }\n  });\n\n  function clearFansLocation() {\n    if (\n      map.getZoom() < 8 &&\n      map.getSource('custom') &&\n      map.getSource('custom')._data.features.length\n    ) {\n      map.getSource('custom').setData({\n        type: 'FeatureCollection',\n        features: [],\n      });\n    }\n  }\n\n  if (state.mode === 0) {\n    map.off('click', addUserLocationMarker);\n    if (userLocationMarker !== null) {\n      userLocationMarker.remove();\n    }\n  }\n  if (state.mode === 1) {\n    map.on('click', addUserLocationMarker);\n  }\n\n  if (state.mode !== 'wait' && state.mode !== 2) {\n    map.off('moveend', clearFansLocation);\n  }\n  if (state.mode === 2) {\n    setChartWidthFunc();\n\n    map.on('moveend', clearFansLocation);\n\n    const pathnameSplit = pathname.split('/');\n\n    // log('-------------------------------', <i className=\"fas fa-helicopter    \" />);\n\n    if (pathnameSplit[2] && state.teamId !== pathnameSplit[2]) {\n      // alert(pathnameSplit[2]);\n      log(\n        '<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<',\n        state.teamId,\n        pathnameSplit[2],\n        pathnameSplit[2] && state.teamId !== pathnameSplit[2]\n      );\n\n      _totalLikes = null;\n\n      axios\n        .get(`http://185.8.175.15/api/v1/GET/club/${pathnameSplit[2]}`)\n        .then(res => {\n          // log('............................. club has been found', res);\n          if (res.data.base64Image) {\n            dispatch(\n              mapActions.updateFlyToClub({\n                state: true,\n                coord: res.data.city.geo.coordinates,\n              })\n            );\n\n            dispatch(\n              clubAction({\n                cityName: res.data.city.name,\n                countyName: res.data.city.country,\n                cityCoords: res.data.city.geo.coordinates,\n                clubGroup: res.data.club.group,\n                clubName: res.data.club.name,\n                primaryColor: res.data.club.primary_color,\n                secondaryColor: res.data.club.secondary_color,\n                logoBase64: res.data.base64Image,\n                teamId: res.data.club._id,\n              })\n            );\n          } else {\n            dispatch(\n              mapActions.updateFlyToClub({\n                state: true,\n                coord: undefined,\n              })\n            );\n\n            dispatch(\n              clubAction({\n                cityName: undefined,\n                countyName: res.data.country,\n                cityCoords: undefined,\n                clubGroup: res.data.group,\n                clubName: res.data.name,\n                primaryColor: res.data.primary_color,\n                secondaryColor: res.data.secondary_color,\n                logoBase64: undefined,\n                teamId: res.data._id,\n              })\n            );\n          }\n        })\n        .catch(err => {\n          log(err);\n        });\n\n      axios\n        .get(`http://185.8.175.15/api/v1/GET/getClubTotalLikes/${pathnameSplit[2]}`)\n        .then(response => {\n          const firstColorStr = response.data.team.primary_color;\n          const secondColorStr = response.data.team.secondary_color;\n          calCulauteColors(firstColorStr, secondColorStr, (c0, c1, c2) => {\n            const colors = { c0, c1, c2 };\n            const { males } = response.data;\n            const { females } = response.data;\n            const chartMales = [\n              males[0] / 3,\n              males[1] / 3,\n              males[2] / 3,\n              males[3] / 3,\n              males[4] / 3,\n              males[5] / 3,\n            ];\n\n            const chartFemales = [\n              females[0] / 3 - ((females[0] / 3) * 20) / 100,\n              females[1] / 3 - ((females[1] / 3) * 20) / 100,\n              females[2] / 3 - ((females[2] / 3) * 20) / 100,\n              females[3] / 3 - ((females[3] / 3) * 20) / 100,\n              females[4] / 3 - ((females[4] / 3) * 20) / 100,\n              females[5] / 3 - ((females[5] / 3) * 20) / 100,\n            ];\n\n            const chartTotal = [\n              chartFemales[0] + chartMales[0],\n              chartFemales[1] + chartMales[1],\n              chartFemales[2] + chartMales[2],\n              chartFemales[3] + chartMales[3],\n              chartFemales[4] + chartMales[4],\n              chartFemales[5] + chartMales[5],\n            ];\n\n            const sumMales = chartMales.reduce((a, b) => a + b, 0) / 3;\n            const sumFemales = chartFemales.reduce((a, b) => a + b, 0) / 3;\n            const total = sumMales + sumFemales;\n\n            // NOTE: dividing total to stimated number of countries\n            // TODO: finding a better logic for dividing\n            const step0 = Math.round(total / 200);\n            const stepCiterion = step0 / 3;\n            const step1 = Math.round(step0 - stepCiterion);\n            const step2 = Math.round(step1 - stepCiterion);\n            const numbers = { totalLikes: Math.round(total), step0, step1, step2 };\n            _totalLikes = Math.round(total);\n            setHelper({ ...helper, ...numbers, ...colors, chartMales, chartFemales, chartTotal });\n          });\n        })\n        .catch(error => {\n          // NOTE: as there may be lots of requests for tiles it seems that best option is poping errors on console\n          log(error);\n        });\n\n      setState({ ...state, teamId: pathnameSplit[2] });\n    }\n\n    (function loop() {\n      if (map && map.isStyleLoaded()) {\n        if (!map.getSource('boundary-source')) {\n          map.addSource('boundary-source', {\n            type: 'vector',\n            tiles: ['http://185.8.175.15/api/v1/GET/tiles/{z}/{x}/{y}'],\n            minzoom: 0,\n            maxzoom: 18,\n          });\n\n          const boundry = {\n            id: 'boundry',\n            type: 'fill',\n            source: 'boundary-source',\n            'source-layer': 'boundry',\n            paint: {\n              'fill-color': 'rgb(255, 255, 255)',\n              // [\n              //   'case',\n              //   ['!=', ['feature-state', 'fans'], null],\n              //   [\n              //     'interpolate',\n              //     ['linear'],\n              //     ['feature-state', 'fans'],\n              //     0,\n              //     'rgb(236, 225, 203)',\n              //     10000000,\n              //     'rgba(211,47,47,1.0)',\n              //   ],\n              //   'rgba(255,255,255,1.0)',\n              // ],\n            },\n          };\n\n          const boundry2 = {\n            id: 'boundryLine',\n            type: 'line',\n            source: 'boundary-source',\n            'source-layer': 'boundry',\n            layout: {\n              'line-join': 'round',\n              'line-cap': 'round',\n            },\n            paint: {\n              'line-color': '#424242',\n              'line-width': 2,\n            },\n          };\n\n          map.addSource('custom', {\n            type: 'geojson',\n            data: geojson,\n          });\n\n          const likesLayer = {\n            id: 'likes',\n            type: 'circle',\n            source: 'custom',\n            paint: {\n              'circle-radius': 6,\n              'circle-color': '#B42222',\n            },\n          };\n\n          // (async () => {\n          map.addLayer(boundry, 'waterway-label');\n          map.addLayer(boundry2, 'waterway-label');\n          map.addLayer(likesLayer, 'waterway-label');\n          map.on('data', addOnData);\n          map.on('moveend', addOnMove);\n          map.off('click', onClick);\n          // })();\n        }\n      } else {\n        setTimeout(() => {\n          loop();\n        }, 50);\n      }\n    })();\n  }\n\n  return (\n    <>\n      {handleRoutes()}\n      <div\n        ref={function ref(el) {\n          mapContainer = el;\n        }}\n        className=\"mapContainer\"\n      />\n      {state.mode === 1 ? <GetUserlocationNav /> : null}\n      {state.mode === 2 ? (\n        <>\n          <div id=\"state-legend\" className=\"legend\" hidden={state.legends === 0}>\n            <h4>Population</h4>\n            <div>\n              <span style={{ backgroundColor: helper.c0 }} />\n              {helper.step0}\n            </div>\n            <div>\n              <span style={{ backgroundColor: helper.c1 }} />\n              {helper.step1}\n            </div>\n            <div>\n              <span style={{ backgroundColor: helper.c2 }} />\n              {helper.step2}\n            </div>\n            <div>\n              <span style={{ backgroundColor: helper.c3 }} />0\n            </div>\n          </div>\n          <div\n            id=\"state-legend\"\n            className=\"legend legend-chart\"\n            style={{ width: state.chartWidth }}\n            hidden={state.legends === 1}\n          >\n            <h4>Population</h4>\n            <div>\n              <Line\n                options={{\n                  tooltips: {\n                    displayColors: false,\n                    // backgroundColor: 'black',\n                    enabled: true,\n                    mode: 'multiple',\n                    bodyFontSize: 15,\n                    bodyFontFamily: 'Gamja Flower',\n                    bodyFontColor: 'white',\n                    yPadding: 5,\n                    xPadding: 5,\n                    cornerRadius: 4,\n                    bodyFontStyle: 'bold',\n                    // callbacks: {\n                    //   title: () => {\n                    //     return '';\n                    //   },\n                    //   label: (tooltipItems, data) => {\n                    //     return tooltipItems.yLabel;\n                    //   },\n                    // },\n                  },\n                  legend: {\n                    display: true,\n                  },\n                  layout: {\n                    padding: {\n                      left: 0,\n                      right: 0,\n                      top: 0,\n                      bottom: 0,\n                    },\n                  },\n                  scales: {\n                    yAxes: [\n                      {\n                        // gridLines: {\n                        //   drawBorder: true,\n                        //   color: 'pink',\n                        //   zeroLineColor: 'pink',\n                        // },\n                        ticks: {\n                          // fontColor: 'green',\n                          // fontFamily: 'Gamja Flower',\n                          // fontSize: 10,\n                          // fontStyle: 'bold',\n                          // display: false,\n                        },\n                      },\n                    ],\n                    xAxes: [\n                      {\n                        // gridLines: {\n                        //   drawBorder: true,\n                        //   color: 'pink',\n                        //   zeroLineColor: 'pink',\n                        // },\n                        ticks: {\n                          // fontColor: 'blue',\n                          // fontFamily: 'Gamja Flower',\n                          // fontSize: 12,\n                          // fontStyle: 'bold',\n                          // dispaly: false,\n                        },\n                      },\n                    ],\n                  },\n                  maintainAspectRatio: true,\n                  animation: true,\n                }}\n                data={{\n                  labels: ['0', '1', '2', '3', '4', '5', '6'],\n\n                  datasets: [\n                    {\n                      label: 'total',\n                      fill: false,\n                      lineTension: 0.1,\n                      backgroundColor: 'rgba(75,192,192,0.4)',\n                      borderColor: '#2196f3',\n                      borderCapStyle: 'butt',\n                      borderDash: [],\n                      borderDashOffset: 0.0,\n                      borderJoinStyle: 'miter',\n                      pointBorderColor: 'rgba(75,192,192,1)',\n                      pointBackgroundColor: '#fff',\n                      pointBorderWidth: 1,\n                      pointHoverRadius: 5,\n                      pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n                      pointHoverBorderColor: 'rgba(220,220,220,1)',\n                      pointHoverBorderWidth: 2,\n                      pointRadius: 3,\n                      pointHitRadius: 10,\n                      data: helper.chartTotal,\n                    },\n                    {\n                      label: 'male',\n                      fill: false,\n                      lineTension: 0.1,\n                      backgroundColor: 'rgba(75,192,192,0.4)',\n                      borderColor: '#fb8c00',\n                      borderCapStyle: 'butt',\n                      borderDash: [],\n                      borderDashOffset: 0.0,\n                      borderJoinStyle: 'miter',\n                      pointBorderColor: 'rgba(75,192,192,1)',\n                      pointBackgroundColor: '#fff',\n                      pointBorderWidth: 1,\n                      pointHoverRadius: 5,\n                      pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n                      pointHoverBorderColor: 'rgba(220,220,220,1)',\n                      pointHoverBorderWidth: 2,\n                      pointRadius: 3,\n                      pointHitRadius: 10,\n                      data: helper.chartMales,\n                    },\n                    {\n                      label: 'female',\n                      fill: false,\n                      lineTension: 0.1,\n                      backgroundColor: 'rgba(75,192,192,0.4)',\n                      borderColor: '#673ab7',\n                      borderCapStyle: 'butt',\n                      borderDash: [],\n                      borderDashOffset: 0.0,\n                      borderJoinStyle: 'miter',\n                      pointBorderColor: 'rgba(75,192,192,1)',\n                      pointBackgroundColor: '#fff',\n                      pointBorderWidth: 1,\n                      pointHoverRadius: 5,\n                      pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n                      pointHoverBorderColor: 'rgba(220,220,220,1)',\n                      pointHoverBorderWidth: 2,\n                      pointRadius: 3,\n                      pointHitRadius: 10,\n                      data: helper.chartFemales,\n                    },\n                  ],\n                }}\n              />\n            </div>\n          </div>\n          <div id=\"stop-virtualization\" className=\"legend-stop-virtualization\">\n            <IconButton style={{ padding: 3, color: '#dd2c01' }}>\n              <Link\n                variant=\"body2\"\n                component={RedirectTo}\n                to=\"/\"\n                style={{ height: '24px', width: '24px' }}\n              >\n                <CloseRoundedIcon />\n              </Link>\n            </IconButton>\n          </div>\n\n          <div id=\"show-chart\" className=\"legend-show-chart\">\n            <IconButton style={{ padding: 3, color: '#263238' }}>\n              <Link\n                variant=\"body2\"\n                onClick={handleLegendsVisibility}\n                style={{ height: '24px', width: '24px' }}\n              >\n                {state.legends === 0 ? (\n                  <FormatListBulletedRoundedIcon />\n                ) : (\n                  <TrendingUpRoundedIcon />\n                )}\n              </Link>\n            </IconButton>\n          </div>\n\n          <div id=\"link-legend\" className=\"legend-Link\">\n            <IconButton\n              style={{ padding: 3, color: '#263238' }}\n              onClick={() => {\n                (() => {\n                  const el = document.createElement('textarea');\n                  el.value = window.location.href;\n                  document.body.appendChild(el);\n                  el.select();\n                  document.execCommand('copy');\n                  document.body.removeChild(el);\n                })();\n              }}\n            >\n              <LinkRoundedIcon />\n            </IconButton>\n          </div>\n        </>\n      ) : null}\n    </>\n  );\n}\n\nexport default withRouter(Map);\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:makeNewUser');\n\nexport default function makeNewUser(user) {\n  log('user is : ', user);\n  return new Promise((resolve, reject) => {\n    axios\n      .post('http://185.8.175.15/api/v1/POST/makeNewUser', user)\n      .then(res => {\n        log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status.code,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:isUserNew');\n\nexport default function isUserNew(email) {\n  return new Promise((resolve, reject) => {\n    axios\n      .post('http://185.8.175.15/api/v1/POST/isUserNew', { email })\n      .then(res => {\n        log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","import React from 'react';\n\n// material-ui component\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default function ErrorModal(props) {\n  const [open, setOpen] = React.useState(true);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  function renderErrors() {\n    const errArray = [];\n    props.errors.forEach((obj, i) => {\n      Object.keys(obj).forEach(key => {\n        errArray.push(\n          <DialogContentText style={{ color: 'red' }} key={i}>\n            {obj[key]}\n          </DialogContentText>\n        );\n      });\n    });\n    return errArray;\n  }\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">ERROR</DialogTitle>\n        <DialogContent>{renderErrors()}</DialogContent>\n        <DialogActions>\n          <Button onClick={props.handleClose} color=\"primary\">\n            close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","// debug\nimport debug from 'debug';\nimport React, { useState } from 'react';\nimport { Redirect, Link as RouterLink } from 'react-router-dom';\nimport { useSelector /* useDispatch */ } from 'react-redux';\nimport { useSnackbar } from 'notistack';\nimport hello from 'hellojs';\nimport { FacebookLoginButton, GoogleLoginButton } from 'react-social-login-buttons';\nimport { DatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\n\n// material-ui component\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\n\n// api\nimport makeNewUsedrApi from '../api/makeNewUser';\nimport isUserNewApi from '../api/isUserNew';\n// action\n/*  */\n\n// theme\nimport errorTheme from '../themes/error';\n\n// COMPONENT\nimport ModalError from './modalError';\n\n// --debug\nconst log = debug('log:signupComponent');\n\nconst RedirectToLink = React.forwardRef((props, ref) => <RouterLink innerRef={ref} {...props} />);\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    zIndex: -1,\n  },\n  image: {\n    backgroundImage: 'url(./img/3.jpeg)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'dark' ? theme.palette.grey[900] : theme.palette.grey[50],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    position: 'fixed',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    zIndex: -1,\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n    backgroundColor: theme.palette.background.default,\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  button: {\n    marginRight: theme.spacing(1),\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  activeAccountBtn: {\n    margin: '21px 0px',\n  },\n  paper: {\n    margin: '25% 10% 10% 10%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  stepper: {\n    padding: theme.spacing(0),\n    margin: theme.spacing(0, 0, 2, 0),\n    background: theme.palette.background.default,\n    width: '-webkit-fill-available',\n    marginBottom: '20%',\n  },\n  stepperBody: {\n    '& > *': {\n      marginBottom: '7%',\n    },\n  },\n  stepperBodyParrent: {\n    width: '-webkit-fill-available',\n    textAlign: 'center',\n  },\n  title: {\n    marginBottom: '20%',\n  },\n}));\n\nhello.init(\n  {\n    facebook: '726965834493962',\n    google: '951334179095-359plh303nv4b6oi184594gi11jmpvfk.apps.googleusercontent.com',\n  },\n  { redirect_uri: 'http://localhost:3000/auth/google/callback' }\n);\n\nexport default function Signup() {\n  const { enqueueSnackbar } = useSnackbar();\n  // const dispatch = useDispatch();\n  const signupReducers = useSelector(state => state.signup);\n\n  const classes = useStyles();\n\n  // local states\n  const [state, setState] = useState({\n    modalErrors: [],\n    submitOnHold: false,\n    redirect: false,\n    selectedDate: new Date(0),\n    gender: undefined,\n    genderErr: undefined,\n    isNewUser: undefined,\n    activeStep: 0,\n    try: false,\n  });\n\n  const [user, setUser] = useState({});\n\n  function getSteps() {\n    return ['submit location', 'signup with', 'complete registration'];\n  }\n  const steps = getSteps();\n\n  function handleChange(event) {\n    setState({ ...state, gender: event.target.value });\n  }\n\n  function handleBack() {\n    setState({ ...state, activeStep: state.activeStep - 1 });\n  }\n\n  function onModalErrorClose() {\n    setState({ ...state, modalErrors: [] });\n  }\n\n  function handleDateChange(e) {\n    log('DATE', e);\n    setState({ ...state, selectedDate: new Date(e) });\n  }\n\n  function signup(_user) {\n    return new Promise((resolve, reject) => {\n      console.log(user);\n      const extendedUser = _user;\n      extendedUser.location = signupReducers.location;\n      extendedUser.address = signupReducers.address;\n      extendedUser.birth = state.selectedDate;\n      extendedUser.gender = state.gender;\n\n      log('extendedUser', extendedUser);\n      makeNewUsedrApi(extendedUser)\n        .then(res => {\n          log('newUserApi res', res);\n          localStorage.setItem('fans-club', res.data.token);\n          enqueueSnackbar(`${res.data.snackMsg}`, { variant: 'success' });\n          /* TODO: change user reducer */\n          resolve();\n        })\n        .catch(err => {\n          if (err.status === 503) {\n            enqueueSnackbar('Network Error', { variant: 'error' });\n          } else {\n            log(err);\n            setState({\n              ...state,\n              modalErrors: [err],\n            });\n          }\n          reject();\n        });\n    });\n  }\n\n  if (state.try === true) {\n    // setState({ ...state, try: false });\n\n    isUserNewApi(user.email)\n      .then(res => {\n        log('reeeeeeeeeeeees', res);\n        setState({\n          ...state,\n          isNewuser: true,\n          try: false,\n        });\n      })\n      .catch(err => {\n        log(err);\n        if (err === 'network error') {\n          setState({\n            ...state,\n            modalErrors: [{ other: 'network error' }],\n            isNewuser: false,\n            try: false,\n          });\n        } else {\n          setState({\n            ...state,\n            modalErrors: [err],\n            isNewuser: false,\n            try: false,\n          });\n        }\n      });\n  }\n\n  const handleNext = () => {\n    if (state.activeStep === 1) {\n      return setState({ ...state, activeStep: state.activeStep + 1 });\n    }\n    if (state.activeStep === 2) {\n      if (state.selectedDate && state.gender) {\n        signup(user)\n          .then(() => {\n            return setState({ ...state, activeStep: state.activeStep + 1 });\n          })\n          .catch(() => {\n            return false;\n          });\n      }\n\n      if (!state.gender) {\n        setState({ ...state, genderErr: true });\n      }\n\n      if (state.gender) {\n        setState({ ...state, genderErr: false });\n      }\n    } else {\n      return setState({ ...state, activeStep: state.activeStep + 1 });\n    }\n    return undefined;\n  };\n\n  function getStepContent(step) {\n    switch (step) {\n      case 0:\n        return (\n          <>\n            {signupReducers.location ? (\n              <div className={classes.stepperBody}>\n                <Typography className={classes.instructions}>\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n                  incididunt ut labore et dolore magna aliqua.\n                </Typography>\n\n                <Typography className={classes.instructions}>\n                  {signupReducers.address || undefined}\n                </Typography>\n\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submit}\n                  disabled={state.submitOnHold === true}\n                  component={RedirectToLink}\n                  to=\"/signup/getUserLocation\"\n                >\n                  change your location\n                </Button>\n              </div>\n            ) : (\n              <div className={classes.stepperBody}>\n                <Typography className={classes.instructions}>\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n                  incididunt ut labore et dolore magna aliqua.\n                </Typography>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  disabled={state.submitOnHold === true}\n                  component={RedirectToLink}\n                  to=\"/signup/getUserLocation\"\n                >\n                  Choose your location on map\n                </Button>\n              </div>\n            )}\n          </>\n        );\n      case 1:\n        return (\n          <div className={classes.stepperBody}>\n            <Typography className={classes.instructions}>Signin with</Typography>\n            <FormControl fullWidth disabled={signupReducers.location === undefined}>\n              <GoogleLoginButton\n                onClick={() => {\n                  hello('google')\n                    .login({\n                      scope: 'email',\n                    })\n                    .then(\n                      resp => {\n                        console.log(resp);\n                        hello('google')\n                          .api('me')\n                          .then(\n                            handler => {\n                              setUser({\n                                from: 'google',\n                                email: handler.email,\n                                firstname: handler.first_name,\n                                lastname: handler.last_name,\n                                fullname: handler.name,\n                                picture: handler.picture,\n                                thumbnail: handler.thumbnail,\n                                googleId: handler.id,\n                              });\n                              setState({ ...state, try: true });\n                            },\n                            e => {\n                              setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                            }\n                          );\n                      },\n                      e => {\n                        console.log(e);\n                        setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                      }\n                    );\n                }}\n              />\n\n              <FacebookLoginButton\n                onClick={() => {\n                  hello('facebook')\n                    .login()\n                    .then(\n                      resp => {\n                        console.log(resp);\n                        hello('facebook')\n                          .api('me')\n                          .then(\n                            handler => {\n                              setUser({\n                                from: 'facebook',\n                                email: handler.email,\n                                firstname: handler.first_name,\n                                lastname: handler.last_name,\n                                fullname: handler.name,\n                                picture: handler.picture,\n                                thumbnail: handler.thumbnail,\n                                facebookId: handler.id,\n                              });\n                              setState({ ...state, try: true });\n                            },\n                            e => {\n                              setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                            }\n                          );\n                      },\n                      e => {\n                        setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                      }\n                    );\n                }}\n              />\n            </FormControl>\n          </div>\n        );\n      case 2:\n        return (\n          <div className={classes.stepperBody}>\n            <Typography className={classes.instructions}>\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n              incididunt ut labore et dolore magna aliqua.\n            </Typography>\n\n            <FormControl fullWidth className={classes.formStyle} variant=\"outlined\" noValidate>\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <DatePicker\n                  disableFuture\n                  openTo=\"year\"\n                  format=\"dd/MM/yyyy\"\n                  label=\"Date of birth\"\n                  views={['year', 'month', 'date']}\n                  value={state.selectedDate}\n                  onChange={handleDateChange}\n                />\n              </MuiPickersUtilsProvider>\n              <FormLabel\n                component=\"legend\"\n                style={{\n                  fontWeight: 600,\n                  textAlign: 'left',\n                  margin: '30px 0px 15px 0px',\n                  fontSize: 'large',\n                  color: 'rgb(230, 230, 250)',\n                  background: '#4caf50',\n                  width: 'fit-content',\n                  padding: '10px',\n                  borderRadius: '5px',\n                }}\n              >\n                Gender\n              </FormLabel>\n              <RadioGroup\n                aria-label=\"gender\"\n                name=\"gender1\"\n                value={state.gender}\n                onChange={handleChange}\n                row\n              >\n                <FormControlLabel value=\"male\" control={<Radio />} label=\"Male\" />\n                <FormControlLabel value=\"female\" control={<Radio />} label=\"Female\" />\n                <FormControlLabel value=\"other\" control={<Radio />} label=\"Other\" />\n              </RadioGroup>\n              <FormHelperText>\n                {state.genderErr === true ? 'gender is required' : undefined}\n              </FormHelperText>\n            </FormControl>\n            {state.modalErrors.length ? (\n              <ModalError errors={state.modalErrors} handleClick={onModalErrorClose} />\n            ) : (\n              undefined\n            )}\n          </div>\n        );\n      default:\n        return 'Unknown step';\n    }\n  }\n\n  function handleNextDisable() {\n    let val = true;\n    if (state.activeStep === 0 && signupReducers.location) {\n      val = false;\n    }\n    if (state.activeStep === 1 && state.isNewuser === true) {\n      val = false;\n    }\n    if (state.activeStep === 2) {\n      val = false;\n    }\n    return val;\n  }\n\n  return (\n    <>\n      {state.redirect ? <Redirect to={state.redirect} push /> : undefined}\n\n      <Grid container component=\"main\" className={classes.root}>\n        <CssBaseline />\n        <Grid item xs={false} sm={12} md={12} className={classes.image} />\n        <Grid item xs={false} sm={2} md={3} />\n        <Grid\n          className={classes.form}\n          item\n          xs={12}\n          sm={8}\n          md={6}\n          component={Paper}\n          elevation={6}\n          square\n        >\n          <div className={classes.paper}>\n            <Typography className={classes.title} color=\"secondary\" component=\"h5\" variant=\"h3\">\n              Signup\n            </Typography>\n            <Stepper activeStep={state.activeStep} alternativeLabel className={classes.stepper}>\n              {steps.map(label => (\n                <Step key={label}>\n                  <StepLabel>{label}</StepLabel>\n                </Step>\n              ))}\n            </Stepper>\n\n            <div className={classes.stepperBodyParrent}>\n              {state.activeStep === steps.length ? (\n                <div className={classes.stepperBody}>\n                  <Typography className={classes.instructions}>\n                    All steps completed - you&apos;re finished\n                  </Typography>\n                  <ThemeProvider theme={errorTheme}>\n                    <Button\n                      color=\"primary\"\n                      component={RedirectToLink}\n                      to=\"/\"\n                      className={classes.button}\n                    >\n                      Back To Home\n                    </Button>\n                  </ThemeProvider>\n                </div>\n              ) : (\n                <>\n                  <div className={classes.instructions}>{getStepContent(state.activeStep)}</div>\n                  <div>\n                    <ThemeProvider theme={errorTheme}>\n                      <Button\n                        disabled={state.activeStep === 0}\n                        onClick={handleBack}\n                        className={classes.button}\n                        color=\"primary\"\n                        variant=\"contained\"\n                      >\n                        Back\n                      </Button>\n                    </ThemeProvider>\n\n                    <Button\n                      variant=\"contained\"\n                      disabled={handleNextDisable()}\n                      color=\"primary\"\n                      onClick={handleNext}\n                      className={classes.button}\n                    >\n                      {state.activeStep === steps.length - 1 ? 'Submit' : 'Next'}\n                    </Button>\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        </Grid>\n        <Grid item xs={false} sm={2} md={3} />\n      </Grid>\n\n      {state.modalErrors.length ? (\n        <ModalError errors={state.modalErrors} handleClick={onModalErrorClose} />\n      ) : (\n        undefined\n      )}\n    </>\n  );\n}\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:signin');\n\nexport default function signin(user) {\n  log('====================== user is : ', user);\n  return new Promise((resolve, reject) => {\n    axios\n      .post('http://185.8.175.15/api/v1/POST/signin', user)\n      .then(res => {\n        log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status.code,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","import debug from 'debug';\n\nimport React, { useState } from 'react';\nimport { Redirect /* Link as  RouterLink */ } from 'react-router-dom';\nimport { FacebookLoginButton, GoogleLoginButton } from 'react-social-login-buttons';\nimport { /* useSelector */ useDispatch } from 'react-redux';\nimport hello from 'hellojs';\nimport { useSnackbar } from 'notistack';\n\n// material-ui component\nimport { makeStyles /* ThemeProvider */ } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\n// api\nimport signinApi from '../api/signin';\n\n// componnet\nimport ModalError from './modalError';\n\n// actions\nimport userAction from '../actions/user';\n\n// --debugger\nconst log = debug('log:signinComponent');\n\nconst useStyles = makeStyles(theme => ({\n  groupButton: {\n    marginTop: '10%',\n\n    '& > *': {\n      marginRight: theme.spacing(1),\n    },\n  },\n  root: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    zIndex: -1,\n  },\n  image: {\n    backgroundImage: 'url(./img/4.jpeg)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'dark' ? theme.palette.grey[900] : theme.palette.grey[50],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    position: 'fixed',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    zIndex: -1,\n  },\n  paper: {\n    margin: '25% 10% 10% 10%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n    background: theme.palette.background.default,\n  },\n  formStyle: {\n    '& > *': {\n      margin: '3% 0%',\n    },\n  },\n  title: {\n    marginBottom: '20%',\n  },\n}));\n\nhello.init(\n  {\n    facebook: '726965834493962',\n    google: '951334179095-359plh303nv4b6oi184594gi11jmpvfk.apps.googleusercontent.com',\n  },\n  { redirect_uri: 'http://localhost:3000/auth/google/callback' }\n);\n\nexport default function Singin() {\n  const { enqueueSnackbar } = useSnackbar();\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const [state, setState] = useState({\n    modalErrors: [],\n    redirect: false,\n    try: false,\n  });\n  const [user, setUser] = useState({});\n\n  function onModalErrorClose() {\n    setState({ ...state, modalErrors: [] });\n  }\n\n  if (state.try === true) {\n    setState({ ...state, try: false });\n    log('this fucking shit is working ');\n    signinApi(user)\n      .then(res => {\n        log(res);\n        localStorage.setItem('fans_club', res.data.token);\n        setState({ ...state, redirect: '/' });\n        dispatch(\n          userAction({\n            isValid: true,\n            firstname: res.data.firstname,\n            lastname: res.data.lastname,\n            likes: res.data.likes,\n            dislikes: res.data.dislikes,\n            suggests: res.data.suggests,\n            location: res.data.location,\n          })\n        );\n        enqueueSnackbar(`${res.data.snackMsg}`, { variant: 'success' });\n      })\n      .catch(err => {\n        log(err);\n        if (err.status === 503) {\n          enqueueSnackbar('Network Error', { variant: 'error' });\n        } else {\n          log(err);\n          setState({\n            ...state,\n            modalErrors: [err],\n          });\n        }\n      });\n  }\n\n  return (\n    <>\n      {state.redirect ? <Redirect to={state.redirect} push /> : null}\n\n      <Grid container component=\"main\" className={classes.root}>\n        <CssBaseline />\n        <Grid item xs={false} sm={12} md={12} className={classes.image} />\n        <Grid item xs={false} sm={2} md={3} />\n        <Grid\n          className={classes.form}\n          item\n          xs={12}\n          sm={8}\n          md={6}\n          component={Paper}\n          elevation={6}\n          square\n        >\n          <div className={classes.paper}>\n            <Typography className={classes.title} color=\"secondary\" component=\"h5\" variant=\"h3\">\n              Signin\n            </Typography>\n            <FormControl fullWidth className={classes.formStyle} variant=\"outlined\">\n              <Typography color=\"primary\" className={classes.instructions}>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n                incididunt ut labore et dolore magna aliqua.\n              </Typography>\n              <GoogleLoginButton\n                onClick={() => {\n                  hello('google')\n                    .login({\n                      scope: 'email',\n                    })\n                    .then(\n                      resp => {\n                        console.log(resp);\n                        hello('google')\n                          .api('me')\n                          .then(\n                            handler => {\n                              console.log('handler', handler);\n\n                              setUser({\n                                from: 'google',\n                                email: handler.email,\n                                firstname: handler.first_name,\n                                lastname: handler.last_name,\n                                fullname: handler.name,\n                                picture: handler.picture,\n                                thumbnail: handler.thumbnail,\n                                googleId: handler.id,\n                              });\n                              setState({ ...state, try: true });\n                            },\n                            e => {\n                              setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                            }\n                          );\n                      },\n                      e => {\n                        console.log(e);\n                        setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                      }\n                    );\n                }}\n              />\n              <FacebookLoginButton\n                onClick={() => {\n                  hello('facebook')\n                    .login()\n                    .then(\n                      resp => {\n                        console.log(resp);\n                        hello('facebook')\n                          .api('me')\n                          .then(\n                            handler => {\n                              console.log(handler);\n\n                              setUser({\n                                from: 'facebook',\n                                email: handler.email,\n                                firstname: handler.first_name,\n                                lastname: handler.last_name,\n                                fullname: handler.name,\n                                picture: handler.picture,\n                                thumbnail: handler.thumbnail,\n                                facebookId: handler.id,\n                              });\n                              setState({ ...state, try: true });\n                            },\n                            e => {\n                              setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                            }\n                          );\n                      },\n                      e => {\n                        console.log('*******', e);\n                        setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                      }\n                    );\n                }}\n              />\n              {/* TODO: check it */}\n              {/* <h3 style={{ color: '#dd2c00', marginBottom: '-15px' }}>{msg}</h3> */}\n            </FormControl>\n          </div>\n        </Grid>\n        <Grid item xs={false} sm={2} md={3} />\n      </Grid>\n\n      {state.modalErrors.length ? (\n        <ModalError errors={state.modalErrors} handleClick={onModalErrorClose} />\n      ) : null}\n    </>\n  );\n}\n","import debug from 'debug';\nimport axios from 'axios';\n\nconst log = debug('log:searchClubsApi');\n\nexport default function searchClubs(str) {\n  return new Promise((resolve, reject) => {\n    axios\n      .post('http://185.8.175.15/api/v1/POST/searchClubs', { str })\n      .then(res => {\n        // log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:isUserNew');\n\nexport default function likeClub(club) {\n  return new Promise((resolve, reject) => {\n    axios\n      .post('http://185.8.175.15/api/v1/POST/likeClub', {\n        token: localStorage.fans_club,\n        club,\n      })\n      .then(res => {\n        log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:isUserNew');\n\nexport default function likeClub(club) {\n  return new Promise((resolve, reject) => {\n    axios\n      .post('http://185.8.175.15/api/v1/POST/dislikeClub', {\n        token: localStorage.fans_club,\n        club,\n      })\n      .then(res => {\n        log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","/* eslint-disable react/prop-types */\nimport debug from 'debug';\nimport React, { useState } from 'react';\n// import { Redirect } from 'react-router-dom';\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport { useDispatch } from 'react-redux';\nimport { useSnackbar } from 'notistack';\n\n// material-ui component\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\n// API\nimport searchClubsApi from '../api/searchClubs';\nimport likeClubApi from '../api/likeClub';\nimport dislikeClubApi from '../api/dislikeClub';\n\n// themes\nimport errorTheme from '../themes/error';\n\n// actions\nimport userAction from '../actions/user';\n\n// component\nimport ModalError from './modalError';\n\n// --debugger\nconst log = debug('log:addNewTeam');\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n}));\n\nexport default function AddNewClub(props) {\n  const dispatch = useDispatch();\n\n  const [open /* setOpen */] = useState(true);\n  const { enqueueSnackbar } = useSnackbar();\n\n  log(props);\n\n  const [state, setState] = useState({\n    modalErrors: [],\n    club: null,\n    clubOptions: [],\n    value: null,\n  });\n\n  const classes = useStyles();\n  const loading = open && state.clubOptions.length === 1;\n\n  const handleClose = () => {\n    // setOpen(false);\n    props.handleClose();\n  };\n\n  function handleSearch(clubObj) {\n    setState({ ...state, club: clubObj, clubOptions: [] });\n  }\n\n  function getClubs(str) {\n    console.log(str);\n    searchClubsApi(str)\n      .then(res => {\n        log('search result is', res);\n        setState({ ...state, clubOptions: res.data.clubs });\n      })\n      .catch(err => {\n        log(err);\n        if (err.status === 503) {\n          enqueueSnackbar('Network Error', { variant: 'error' });\n        } else {\n          log(err);\n          setState({\n            ...state,\n            modalErrors: [err],\n          });\n        }\n      });\n  }\n\n  function onModalErrorClose() {\n    log('clooooooooooooooose modal');\n    setState({ ...state, modalErrors: [] });\n  }\n\n  // function handleChange(event) {\n  //   setState({ ...state, value: event.target.value });\n  // }\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        fullWidth\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{props.type}</DialogTitle>\n        <DialogContent className={classes.root}>\n          <DialogContentText>Add new club</DialogContentText>\n\n          <Autocomplete\n            id=\"seatchInput\"\n            className={classes.teamsSearch}\n            options={state.clubOptions}\n            getOptionLabel={option => option.name}\n            onChange={(e, inputValue) => handleSearch(inputValue)}\n            loading={loading}\n            // getOptionSelected={(option, v) => option.name === v.name}\n            // style={{ width: 300 }}\n            renderInput={params => (\n              <TextField\n                {...params}\n                label=\"Combo box\"\n                variant=\"outlined\"\n                fullWidth\n                onChange={e => {\n                  getClubs(e.target.value);\n                }}\n              />\n            )}\n          />\n\n          {/* <Autocomplete\n            // className={classes.teamsSearch}\n            // style={{ width: 300 }}\n            open={open}\n            // onOpen={() => {\n            //   setOpen(true);\n            // }}\n            // onClose={() => {\n            //   setOpen(false);\n            // }}\n            value={state.value}\n            onChange={(e, inputValue) => handleSearch(inputValue)}\n            getOptionSelected={(option, v) => option.name === v.name}\n            getOptionLabel={option => option.name}\n            options={state.clubOptions}\n            loading={loading}\n            renderInput={params => (\n              <TextField\n                {...params}\n                placeholder=\"search teams\"\n                fullWidth\n                variant=\"outlined\"\n                onChange={e => {\n                  getClubs(e.target.value);\n                }}\n              />\n            )}\n          /> */}\n          {/* <RadioGroup\n            aria-label=\"gender\"\n            name=\"gender1\"\n            value={state.value}\n            onChange={handleChange}\n            row\n          >\n            <FormControlLabel value=\"like\" control={<Radio />} label=\"like\" />\n            <FormControlLabel value=\"dislike\" control={<Radio />} label=\"dislike\" />\n          </RadioGroup> */}\n        </DialogContent>\n\n        <DialogActions>\n          <ThemeProvider theme={errorTheme}>\n            <Button onClick={props.handleClose} color=\"primary\" variant=\"contained\">\n              close\n            </Button>\n          </ThemeProvider>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => {\n              log(props.type);\n              if (props.type === 'like') {\n                likeClubApi(state.club)\n                  .then(res => {\n                    log(res);\n                    // TODO: dispatch new like to user on redux\n                    dispatch(\n                      userAction({\n                        isValid: true,\n                        firstname: res.data.firstname,\n                        lastname: res.data.lastname,\n                        likes: res.data.likes,\n                        dislikes: res.data.dislikes,\n                        suggests: res.data.suggests,\n                        location: res.data.location,\n                      })\n                    );\n                    props.handleClose();\n                  })\n                  .catch(err => {\n                    log('errrrrrror', err);\n                    if (err.status === 503) {\n                      enqueueSnackbar('Network Error', { variant: 'error' });\n                    } else {\n                      log(err);\n                      setState({\n                        ...state,\n                        modalErrors: [err],\n                      });\n                    }\n                  });\n              }\n              if (props.type === 'dislike') {\n                dislikeClubApi(state.club)\n                  .then(res => {\n                    log(res);\n                    // TODO: dispatch new like to user on redux\n                    dispatch(\n                      userAction({\n                        isValid: true,\n                        firstname: res.data.firstname,\n                        lastname: res.data.lastname,\n                        likes: res.data.likes,\n                        dislikes: res.data.dislikes,\n                        suggests: res.data.suggests,\n                        location: res.data.location,\n                      })\n                    );\n                    props.handleClose();\n                  })\n                  .catch(err => {\n                    log('errrrrrror', err);\n                    if (err.status === 503) {\n                      enqueueSnackbar('Network Error', { variant: 'error' });\n                    } else {\n                      log(err);\n                      setState({\n                        ...state,\n                        modalErrors: [err],\n                      });\n                    }\n                  });\n              }\n            }}\n          >\n            submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {state.modalErrors.length ? (\n        <ModalError errors={state.modalErrors} handleClose={onModalErrorClose} />\n      ) : null}\n    </div>\n  );\n}\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: '#2196F3',\n    },\n  },\n});\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: '#f44336',\n    },\n  },\n});\n","// import debug from 'debug';\nimport { useSelector /* useDispatch */ } from 'react-redux';\nimport React, { useState } from 'react';\nimport { Redirect /* Link as RouterLink */ } from 'react-router-dom';\n\n// material-ui\nimport TableRow from '@material-ui/core/TableRow';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableBody from '@material-ui/core/TableBody';\nimport Table from '@material-ui/core/Table';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\n\n// COMPONENT\nimport ModalError from './modalError';\nimport AddNewClub from './addNewClub';\n\n// Themes\nimport blueTheme from '../themes/blue';\nimport redTheme from '../themes/red';\n\n// --debuger\n// const log = debug('log:clubs');\n\nconst useStyles = makeStyles(theme => ({\n  groupBtn: {\n    '& > *': {\n      margin: theme.spacing(1, 0),\n    },\n  },\n\n  root: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    zIndex: -1,\n  },\n  image: {\n    backgroundImage: 'url(./img/4.jpeg)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'dark' ? theme.palette.grey[900] : theme.palette.grey[50],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    position: 'fixed',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    zIndex: -1,\n  },\n  paper: {\n    margin: '25% 10% 10% 10%',\n    display: 'flex',\n    flexDirection: 'column',\n    // alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  favTeams: {\n    background: '#E0E0E0',\n    border: 'solid 1px #212f3a',\n    borderRadius: 5,\n    marginBottom: 35,\n    marginTop: 25,\n  },\n  title: {\n    marginBottom: '5%',\n  },\n  subTitle: {\n    marginTop: 30,\n  },\n  text: {\n    margin: 20,\n  },\n  formStyle: {\n    width: '-webkit-fill-available',\n\n    '& > *': {\n      margin: '3% 0%',\n    },\n  },\n}));\n\n// const RedirectToLink = React.forwardRef((props, ref) => <RouterLink innerRef={ref} {...props} />);\n\nexport default function Club() {\n  // const dispatch = useDispatch();\n  const userReducer = useSelector(state => state.user);\n  const classes = useStyles();\n\n  const [state, setState] = useState({\n    addNewClubModal: undefined,\n    modalErrors: [],\n    onHold: false,\n    redirect: false,\n  });\n\n  function onModalErrorClose() {\n    setState({ ...state, modalErrors: [] });\n  }\n\n  function onAddNewClubModalClose() {\n    setState({ ...state, addNewClubModal: undefined });\n  }\n\n  function handleDeleteTeams(teamId, type) {\n    console.log(teamId, type);\n\n    // setOnHold(true);\n\n    // APIDeleteTeam(teamId, action)\n    //   .then(res => {\n    //     console.log(res);\n    //     dispatch(likesAction(res.likes));\n    //     dispatch(dislikeAction(res.dislikes));\n\n    //     // setRedirect('/teams');\n    //   })\n    //   .catch(err => {\n    //     console.log(err);\n    //   })\n    //   .finally(() => {\n    //     setOnHold(false);\n    //   });\n  }\n\n  return (\n    <>\n      {state.redirect ? <Redirect to={state.redirect} push /> : null}\n\n      <Grid container component=\"main\" className={classes.root}>\n        <CssBaseline />\n        <Grid item xs={false} sm={12} md={12} className={classes.image} />\n        <Grid item xs={false} sm={2} md={3} />\n        <Grid\n          className={classes.form}\n          // style={{ backgroundColor: 'red' }}\n          item\n          xs={12}\n          sm={8}\n          md={6}\n          component={Paper}\n          elevation={6}\n          square\n        >\n          <div className={classes.paper}>\n            {/* <Avatar className={classes.avatar}>\n              <LockOutlinedIcon />\n            </Avatar>\n            */}\n            <Typography className={classes.title} align=\"center\" color=\"secondary\" variant=\"h3\">\n              Clubs\n            </Typography>\n\n            <ThemeProvider theme={blueTheme}>\n              <Typography className={classes.subTitle} align=\"left\" color=\"primary\" variant=\"h4\">\n                Likes\n              </Typography>\n              {userReducer.likes.length ? (\n                <Typography align=\"left\" variant=\"subtitle1\">\n                  <div className={classes.favTeams}>\n                    <TableContainer component={Paper}>\n                      <Table aria-label=\"simple table\">\n                        <TableHead>\n                          <TableRow>\n                            <TableCell>Name</TableCell>\n                            <TableCell>Country</TableCell>\n                            <TableCell />\n                          </TableRow>\n                        </TableHead>\n                        <TableBody>\n                          {userReducer.likes.map(team => {\n                            console.log(team);\n                            return (\n                              <TableRow key={team._id}>\n                                <TableCell component=\"th\" scope=\"row\">\n                                  {team.name}\n                                </TableCell>\n                                <TableCell>{team.country}</TableCell>\n                                <TableCell align=\"right\">\n                                  <Button\n                                    // disabled={onHold}\n                                    // autoFocus\n                                    color=\"primary\"\n                                    // className={classes.deleteButton}\n                                    // className={classes.headerLogoutButton}\n                                    onClick={() => handleDeleteTeams(team, 'like')}\n                                  >\n                                    delete\n                                  </Button>\n                                </TableCell>\n                              </TableRow>\n                            );\n                          })}\n                        </TableBody>\n                      </Table>\n                    </TableContainer>\n                  </div>\n                </Typography>\n              ) : (\n                <Typography className={classes.text} align=\"left\" variant=\"subtitle1\">\n                  You didn&rsquo;t add any club yet\n                </Typography>\n              )}\n              {userReducer.likes.length < 5 ? (\n                <Button\n                  // onClick={handleClose}\n                  // className={classes.addNewTeamBtn}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  // component={RedirectToLink}\n                  // to=\"/teams/addnewteam\"\n                  style={{ marginRight: '10px' }}\n                  onClick={() => {\n                    setState({ ...state, addNewClubModal: 'like' });\n                  }}\n                >\n                  LIKE A CLUB\n                </Button>\n              ) : null}\n            </ThemeProvider>\n            <ThemeProvider theme={redTheme}>\n              <Typography className={classes.subTitle} align=\"left\" color=\"primary\" variant=\"h4\">\n                Dislikes\n              </Typography>\n              {userReducer.dislikes.length ? (\n                <Typography align=\"left\" variant=\"subtitle1\">\n                  <div className={classes.favTeams}>\n                    <TableContainer component={Paper}>\n                      <Table aria-label=\"simple table\">\n                        <TableHead>\n                          <TableRow>\n                            <TableCell>Name</TableCell>\n                            <TableCell>Country</TableCell>\n                            <TableCell />\n                          </TableRow>\n                        </TableHead>\n                        <TableBody>\n                          {userReducer.dislikes.map(team => {\n                            console.log(team);\n                            return (\n                              <TableRow key={team._id}>\n                                <TableCell component=\"th\" scope=\"row\">\n                                  {team.name}\n                                </TableCell>\n                                <TableCell>{team.country}</TableCell>\n                                <TableCell align=\"right\">\n                                  <Button\n                                    // disabled={onHold}\n                                    // autoFocus\n                                    color=\"primary\"\n                                    // className={classes.deleteButton}\n                                    // className={classes.headerLogoutButton}\n                                    onClick={() => handleDeleteTeams(team, 'like')}\n                                  >\n                                    delete\n                                  </Button>\n                                </TableCell>\n                              </TableRow>\n                            );\n                          })}\n                        </TableBody>\n                      </Table>\n                    </TableContainer>\n                  </div>\n                </Typography>\n              ) : (\n                <Typography className={classes.text} align=\"left\" variant=\"subtitle1\">\n                  You didn&rsquo;t add any club yet\n                </Typography>\n              )}\n\n              {userReducer.dislikes.length < 5 ? (\n                <Button\n                  // onClick={handleClose}\n                  // className={classes.addNewTeamBtn}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  // component={RedirectToLink}\n                  // to=\"/teams/addnewteam\"\n                  style={{ marginRight: '10px' }}\n                  onClick={() => {\n                    setState({ ...state, addNewClubModal: 'dislike' });\n                  }}\n                >\n                  DISLIKE A CLUB\n                </Button>\n              ) : null}\n            </ThemeProvider>\n          </div>\n        </Grid>\n        <Grid item xs={false} sm={2} md={3} />\n      </Grid>\n\n      {state.modalErrors.length ? (\n        <ModalError errors={state.modalErrors} handleClose={onModalErrorClose} />\n      ) : null}\n\n      {state.addNewClubModal ? (\n        <AddNewClub type={state.addNewClubModal} handleClose={onAddNewClubModalClose} />\n      ) : null}\n    </>\n  );\n}\n\n// <div className={classes.formStyle}>\n//   {/* <TableContainer component={Paper}>\n//               <Table aria-label=\"simple table\">\n//                  <TableHead>\n//             <TableRow>\n//               <TableCell>Dessert (100g serving)</TableCell>\n//               <TableCell align=\"right\">Calories</TableCell>\n//               <TableCell align=\"right\">Fat&nbsp;(g)</TableCell>\n//               <TableCell align=\"right\">Carbs&nbsp;(g)</TableCell>\n//               <TableCell align=\"right\">Protein&nbsp;(g)</TableCell>\n//             </TableRow>\n//           </TableHead>\n\n//                  {rows.map(row => (\n//             <TableRow key={row.name}>\n//               <TableCell component=\"th\" scope=\"row\">\n//                 {row.name}\n//               </TableCell>\n//               <TableCell align=\"right\">{row.calories}</TableCell>\n//               <TableCell align=\"right\">{row.fat}</TableCell>\n//               <TableCell align=\"right\">{row.carbs}</TableCell>\n//               <TableCell align=\"right\">{row.protein}</TableCell>\n//             </TableRow>\n//           ))}\n//               </Table>\n//             </TableContainer> */}\n\n//   {userReducer.likes.length || userReducer.dislikes.length ? (\n//     <Typography variant=\"h5\">\n//                 choose your side\n//       {/* <ThumbDownAltTwoToneIcon\n//                 style={{ color: '#dd2c00', fontSize: 25, marginLeft: 10 }}\n//               /> */}\n//     </Typography>\n//             ) : null}\n\n//   {userReducer.likes.length ? (\n//     <div className={classes.favTeams}>\n//       <TableContainer component={Paper}>\n//         <Table aria-label=\"simple table\">\n//           <TableHead>\n//             <TableRow>\n//               <TableCell>Name</TableCell>\n//               <TableCell>Country</TableCell>\n//               <TableCell />\n//             </TableRow>\n//           </TableHead>\n//           <TableBody>\n//             {userReducer.likes.map(team => {\n//                         console.log(team);\n//                         return (\n//                           <TableRow key={team._id}>\n//                             <TableCell component=\"th\" scope=\"row\">\n//                               {team.name}\n//                             </TableCell>\n//                             <TableCell>{team.country}</TableCell>\n//                             <TableCell align=\"right\">\n//                               <Button\n//                                 disabled={state.onHold}\n//                                 // autoFocus\n//                                 color=\"primary\"\n//                                 // className={classes.deleteButton}\n//                                 // className={classes.headerLogoutButton}\n//                                 onClick={() => handleDeleteTeams(team, 'like')}\n//                               >\n//                                 delete\n//                               </Button>\n//                             </TableCell>\n//                           </TableRow>\n//                         );\n//                       })}\n//           </TableBody>\n//         </Table>\n//       </TableContainer>\n//     </div>\n//             ) : null}\n\n//   {userReducer.dislikes.length ? (\n//     <div className={classes.favTeams}>\n//       <TableContainer component={Paper}>\n//         <Table aria-label=\"simple table\">\n//           <TableHead>\n//             <TableRow>\n//               <TableCell>Name</TableCell>\n//               <TableCell>Country</TableCell>\n//               <TableCell />\n//             </TableRow>\n//           </TableHead>\n//           <TableBody>\n//             {userReducer.dislikes.map(team => {\n//                         console.log(team);\n//                         return (\n//                           <TableRow key={team._id}>\n//                             <TableCell component=\"th\" scope=\"row\">\n//                               {team.name}\n//                             </TableCell>\n//                             <TableCell>{team.country}</TableCell>\n//                             <TableCell align=\"right\">\n//                               <Button\n//                                 disabled={state.onHold}\n//                                 // autoFocus\n//                                 color=\"primary\"\n//                                 // autoFocus\n//                                 // color=\"secondary\"\n//                                 // className={classes.deleteButton}\n//                                 // className={classes.headerLogoutButton}\n//                                 onClick={() => handleDeleteTeams(team, 'dislike')}\n//                               >\n//                                 delete\n//                               </Button>\n//                             </TableCell>\n//                           </TableRow>\n//                         );\n//                       })}\n//           </TableBody>\n//         </Table>\n//       </TableContainer>\n//     </div>\n//             ) : null}\n\n//   {/* {likesReducer.length < 5 ? ( */}\n//   <div className={classes.groupBtn}>\n//     <Button\n//                 // onClick={handleClose}\n//                 // className={classes.addNewTeamBtn}\n//       variant=\"contained\"\n//       color=\"secondary\"\n//                 // component={RedirectToLink}\n//                 // to=\"/teams/addnewteam\"\n//       style={{ marginRight: '10px' }}\n//       onClick={() => {\n//                   setState({ ...state, addNewClubModal: 'like' });\n//                 }}\n//     >\n//                 add new team\n//     </Button>\n//     <Button\n//                 // onClick={handleClose}\n//                 // className={classes.addNewTeamBtn}\n//                 // variant=\"contained\"\n//       color=\"secondary\"\n//       component={RedirectToLink}\n//       to=\"/teams/offernewteam\"\n//     >\n//                 offer a new team\n//     </Button>\n//   </div>\n//   {/* ) : null} */}\n//   {/* <Typography variant=\"h5\" className={classes.titleIcon}>\n//             Hated\n//             <ThumbDownAltTwoToneIcon style={{ color: '#dd2c00', fontSize: 25, marginLeft: 10 }} />\n//           </Typography> */}\n// </div>\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport debug from 'debug';\nimport { useSnackbar } from 'notistack';\n\n// material-ui component\nimport { makeStyles } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Divider from '@material-ui/core/Divider';\nimport RoomIcon from '@material-ui/icons/Room';\nimport SportsSoccerIcon from '@material-ui/icons/SportsSoccer';\n\n// actions\nimport mapActions from '../actions/map';\nimport clubAction from '../actions/club';\n\n// api\nimport searchClubsApi from '../api/searchClubs';\n\n// --debug\nconst log = debug('log:search');\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n    maxWidth: 400,\n    margin: 10,\n    borderRadius: 100,\n    background: '#ffffffbd',\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n    margin: 5,\n    color: theme.palette.primary.main,\n    background: '#bdbdbd82',\n  },\n  iconButtonSelected: {\n    color: 'white',\n\n    padding: 10,\n    margin: 5,\n    background: theme.palette.primary.main,\n    '&:hover': {\n      background: theme.palette.secondary.main,\n    },\n  },\n  divider: {\n    height: 28,\n    margin: 4,\n  },\n  searchInput: {\n    borderRadius: '100px',\n  },\n}));\n\nexport default function Search() {\n  const dispatch = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  // reducers\n  const mapCenterReducer = useSelector(global => global.map.center);\n\n  const [state, setState] = useState({\n    modalErrors: [],\n    searchMode: 'team',\n    open: false,\n  });\n\n  const [options, setOptions] = useState([]);\n\n  const [redirect, setRedirect] = useState(false);\n\n  function handleRedirect(inputValue) {\n    setRedirect(`/v/${inputValue._id}`);\n\n    // setOptions([]);\n  }\n\n  const loading = state.open && options.length === 1;\n  const classes = useStyles();\n\n  // \"chester.json?proximity=-74.70850,40.78375&access_token=pk.eyJ1IjoibW9oZXNlbSIsImEiOiJjanR3amhqcWcxZm05NDVtcG03Nm44Ynk4In0.YUdlvT5fABnW8BReNMSuPg\"\n  function getPlacesFromMapbox(str) {\n    axios\n      .get(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${str}.json?proximity=${mapCenterReducer.lng},${mapCenterReducer.lat}&access_token=pk.eyJ1IjoibW9oZXNlbSIsImEiOiJjanR3amhqcWcxZm05NDVtcG03Nm44Ynk4In0.YUdlvT5fABnW8BReNMSuPg`\n      )\n      .then(response => {\n        const { features } = response.data;\n        const newOptions = features.map(f => {\n          // console.log(f);\n          if (f.bbox) {\n            return { name: f.place_name, center: f.bbox };\n          }\n          return { name: f.place_name, center: f.center };\n        });\n        // console.log(newOptions);\n        setOptions(newOptions);\n\n        // setState({ ...state, options: newOptions });\n      })\n      .catch(error => {\n        console.log(error);\n        if (error.response) {\n          console.log(error.response);\n          // reject(error.response.data.msg);\n        }\n      });\n  }\n\n  function getClubs(str) {\n    // console.log(str);\n    searchClubsApi(str)\n      .then(res => {\n        // log('search result is', res);\n        // setState({ ...state, options: res.data.clubs });\n\n        setOptions(res.data.clubs);\n      })\n      .catch(err => {\n        log(err);\n        if (err.status === 503) {\n          enqueueSnackbar('Network Error', { variant: 'error' });\n        } else {\n          log(err);\n          setState({\n            ...state,\n            modalErrors: [err],\n          });\n        }\n      });\n    // axios\n    //   .post(`http://185.8.175.15/club/search`, { str })\n    //   .then(response => {\n    //     const { clubs } = response.data;\n    //     console.log(clubs);\n\n    //     setOptions(clubs);\n    //   })\n    //   .catch(error => {\n    //     console.log(error);\n    //   });\n  }\n\n  function handleSeachButton(name) {\n    setOptions([]);\n    setState({ ...state, searchMode: name });\n  }\n\n  return (\n    <>\n      {redirect ? <Redirect to={redirect} push /> : null}\n\n      <div style={{ textAlign: 'center' }}>\n        <Paper className={classes.root} id=\"searchComponent\">\n          <IconButton\n            className={\n              state.searchMode === 'place' ? classes.iconButtonSelected : classes.iconButton\n            }\n            onClick={() => handleSeachButton('place')}\n            aria-label=\"search\"\n          >\n            <RoomIcon />\n          </IconButton>\n          <Divider className={classes.divider} orientation=\"vertical\" />\n          <IconButton\n            className={\n              state.searchMode === 'team' ? classes.iconButtonSelected : classes.iconButton\n            }\n            onClick={() => handleSeachButton('team')}\n            aria-label=\"directions\"\n          >\n            <SportsSoccerIcon />\n          </IconButton>\n          {state.searchMode === 'place' ? (\n            <Autocomplete\n              style={{ width: 300 }}\n              open={state.open}\n              onOpen={() => {\n                setState({ ...state, open: true });\n                // setOpen(true);\n              }}\n              onClose={() => {\n                setState({ ...state, open: false });\n              }}\n              onChange={(e, inputValue) => {\n                if (inputValue) {\n                  dispatch(\n                    mapActions.updateFlyTo({\n                      state: true,\n                      coord: inputValue.center,\n                    })\n                  );\n                }\n              }}\n              getOptionSelected={(option, value) => option.name === value.name}\n              getOptionLabel={option => option.name}\n              options={options}\n              loading={loading}\n              renderInput={params => (\n                <TextField\n                  {...params}\n                  placeholder=\"search places\"\n                  fullWidth\n                  variant=\"outlined\"\n                  onChange={e => {\n                    getPlacesFromMapbox(e.target.value);\n                  }}\n                />\n              )}\n            />\n          ) : (\n            <Autocomplete\n              style={{ width: 300 }}\n              open={state.open}\n              onOpen={() => {\n                setState({ ...state, open: true });\n              }}\n              onClose={() => {\n                setState({ ...state, open: false });\n              }}\n              onChange={(e, inputValue) => {\n                if (inputValue) {\n                  handleRedirect(inputValue);\n                }\n\n                // setState({ ...state, redirect: `/v/${inputValue._id}` });\n              }}\n              getOptionSelected={(option, value) => option.name === value.name}\n              getOptionLabel={option => option.name}\n              options={options}\n              loading={loading}\n              renderInput={params => (\n                <TextField\n                  {...params}\n                  placeholder=\"search teams\"\n                  fullWidth\n                  variant=\"outlined\"\n                  onChange={e => {\n                    getClubs(e.target.value);\n                  }}\n                />\n              )}\n            />\n          )}\n        </Paper>\n      </div>\n    </>\n  );\n}\n","// react\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n// redux\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n// routers\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\n// snack\nimport { SnackbarProvider } from 'notistack';\n// material-ui components\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\n// service workers && reducers && theme\nimport * as serviceWorker from './serviceWorker';\nimport reducers from './reducers';\nimport theme from './themes/main';\n// CSS\nimport './css/main.css';\n// components\nimport Appbar from './components/appbar';\nimport Map from './components/map';\nimport Signup from './components/signup';\nimport Signin from './components/signin';\nimport Clubs from './components/clubs';\nimport Search from './components/search';\n\n// creating store\nconst store = createStore(\n  reducers,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <SnackbarProvider>\n      <Router>\n        <ThemeProvider theme={theme}>\n          <Route path=\"/\" component={Map} />\n          <Route path=\"/\" component={Appbar} />\n          <Route exact path=\"/signup\" component={Signup} />\n          <Route exact path={['/', '/v', '/v/:id', '/signup/getUserLocation']} component={Search} />\n\n          <Route exact path=\"/signin\" component={Signin} />\n          <Route exact path=\"/clubs\" component={Clubs} />\n\n          <CssBaseline />\n        </ThemeProvider>\n      </Router>\n    </SnackbarProvider>\n  </Provider>,\n  document.querySelector('#root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}