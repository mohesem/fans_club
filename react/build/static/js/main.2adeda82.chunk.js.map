{"version":3,"sources":["serviceWorker.js","reducers.js","reducers/user.js","reducers/singup.js","reducers/club.js","reducers/map.js","reducers/search.js","themes/main.js","actions/user.js","api/getUserInfo.js","themes/error.js","actions/signup.js","components/getUserLocation.js","components/appbar.js","actions/map.js","actions/club.js","api/getAddressFromMapbox.js","api/getMembersFromPoly.js","components/shareButtons.js","components/newMap2.js","api/makeNewUser.js","api/isUserNew.js","components/modalError.js","components/signup.js","components/hello.js","api/signin.js","components/signin.js","api/searchClubs.js","api/likeClub.js","api/dislikeClub.js","components/addNewClub.js","themes/blue.js","themes/red.js","api/deleteClub.js","components/clubs.js","actions/search.js","components/search.js","index.js"],"names":["Boolean","window","location","hostname","match","combineReducers","user","state","isVlaid","undefined","suggest","firstname","lastname","likes","dislikes","suggests","logout","action","type","payload","signup","phone_number","address","submitButtonState","country_code","club","cityName","countyName","cityCoords","clubGroup","clubName","primaryColor","secondaryColor","logoBase64","map","center","flyTo","coord","flyToClub","search","theme","createMuiTheme","palette","primary","main","dark","contrastText","secondary","error","light","warning","info","success","grey","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","background","default","log","debug","useStyles","makeStyles","container","padding","textAlign","typoContainer","backgroundColor","height","width","margin","color","submitBtnTxt","lineHeight","RedirectToLink","React","forwardRef","props","ref","innerRef","AGketUserLocationdNav","signupReducer","useSelector","dispatch","useDispatch","classes","CssBaseline","Container","maxWidth","className","Typography","component","ThemeProvider","errorTheme","Button","to","onClick","signupActions","disabled","CircularProgress","size","grow","flexGrow","menuButton","marginRight","spacing","title","linearProgress","marginTop","sectionDesktop","display","breakpoints","up","sectionMobile","appbar","borderBottom","redirectTo","withRouter","token","enqueueSnackbar","useSnackbar","useState","redirect","mobileMoreAnchorEl","setMobileMoreAnchorEl","userReducer","reduxState","isMobileMenuOpen","mobileMenuId","handleMobileMenuOpen","event","currentTarget","isValid","localStorage","fans_club","Promise","resolve","reject","tries","loop","axios","get","then","res","data","status","code","catch","response","setTimeout","console","userAction","from","err","variant","msg","handleMobileMenuClose","handleMenuClose","handleLogOut","removeItem","href","isNotuserContent","IconButton","aria-label","aria-controls","aria-haspopup","getUserInfoContent","push","AppBar","position","Toolbar","style","src","alt","content","toolbarContent","pathname","LinearProgress","Menu","anchorEl","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","renderMobileMenu","updateCenter","updateFlyTo","updateFlyToClub","updateClub","shareUrl","url","FacebookShareButton","quote","FacebookIcon","round","FacebookMessengerShareButton","appId","FacebookMessengerIcon","TwitterShareButton","TwitterIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","separator","WhatsappIcon","EmailShareButton","subject","body","EmailIcon","mapboxgl","accessToken","setRTLTextPlugin","mapContainer","RedirectTo","geojson","features","localDataRef","fsLength","searchMarker","clubMarker","userLocationMarker","coordsArray","typography","mode","setMode","chartWidth","setChartWidth","legends","setLegends","setSubmitLocationOnHold","teamId","setTeamId","likeOrDislike","setLikeOrDislike","openShareButtons","setOpenShareButtons","mainColor","setMainColor","chartTotal","chartMales","chartFemales","totalLikes","step0","step1","step2","c0","c1","c2","c3","helper","setHelper","global","mapReducer","clubReducer","calCulateColors","useCallback","firstColorStr","secondColorStr","cb","value","r","g","b","getColorCode","factorR","Math","factorG","factorB","color2","color3","getClub","base64Image","mapActions","city","geo","coordinates","clubAction","name","country","group","primary_color","secondary_color","_id","getClubTotalLikes","team","colors","males","females","total","reduce","a","stepCiterion","numbers","addToSourceOnData","getSource","fs","queryRenderedFeatures","layers","length","array","f","uniqueArray","Set","reducedDuplicates","forEach","u","i","post","Object","keys","key","setFeatureState","source","sourceLayer","fans","addToSourceOnMove","pathnameSplit","split","splitHref","off","removeFeatures","isStyleLoaded","removeFeatureState","setData","addFollowersPins","getZoom","bounds","val","_sw","lng","lat","_ne","getMembersFromPoly","getBounds","like","Number","fid","newLike","geometry","addUserLocationMarker","e","coords","lngLat","wrap","mapboxReqAddress","getAddressFromMapboxApi","place_name","remove","Marker","draggable","setLngLat","addTo","useEffect","includes","setChartWidthFunc","innerWidth","_teamId","_likeOrDislike","Map","zoom","attributionControl","maxZoom","addControl","GeolocateControl","positionOptions","enableHighAccuracy","trackUserLocation","setStyle","mapbox","getCenter","loadImage","image","addImage","essential","on","addEventListener","removeEventListener","addSource","tiles","minzoom","maxzoom","addLayer","setPaintProperty","layout","paint","deleteLayers","getLayer","removeLayer","removeSource","el","document","createElement","c","fitBounds","poly","turf","centerOfPoly","hidden","options","tooltips","displayColors","enabled","bodyFontSize","bodyFontFamily","bodyFontColor","yPadding","xPadding","cornerRadius","bodyFontStyle","legend","left","right","top","bottom","scales","yAxes","ticks","xAxes","maintainAspectRatio","animation","labels","datasets","label","fill","lineTension","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","Link","ErrorModal","setOpen","handleClose","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","errArray","errors","obj","DialogContentText","renderErrors","DialogActions","root","zIndex","boxShadow","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","avatar","form","submit","button","instructions","marginBottom","activeAccountBtn","paper","flexDirection","alignItems","stepper","stepperBody","stepperBodyParrent","hello","init","facebook","google","redirect_uri","groupButton","formStyle","searchClubs","str","AddNewClub","modalErrors","clubOptions","setState","loading","fullWidth","Autocomplete","teamsSearch","getOptionLabel","option","onChange","inputValue","clubObj","renderInput","params","TextField","target","searchClubsApi","clubs","dislikeClubApi","groupBtn","favTeams","border","borderRadius","subTitle","text","input","marginLeft","flex","iconButton","iconButtonSelected","divider","searchInput","mapCenterReducer","searchModeReducer","searchMode","setOptions","setRedirect","pathArr","searchAction","handleSeachButton","Paper","Divider","orientation","onOpen","getOptionSelected","placeholder","newOptions","bbox","store","createStore","reducers","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","path","Appbar","exact","Search","email","signupReducers","submitOnHold","selectedDate","Date","gender","genderErr","isNewUser","activeStep","try","setUser","steps","handleChange","onModalErrorClose","handleDateChange","_user","extendedUser","birth","makeNewUsedrApi","setItem","snackMsg","other","isNewuser","Grid","Hidden","xsDown","item","xs","sm","md","elevation","square","Stepper","alternativeLabel","Step","StepLabel","step","FormControl","login","scope","force","resp","api","handler","first_name","last_name","fullname","picture","thumbnail","googleId","message","facebookId","noValidate","utils","DateFnsUtils","DatePicker","disableFuture","openTo","format","views","FormLabel","fontWeight","fontSize","RadioGroup","row","FormControlLabel","control","Radio","FormHelperText","handleClick","getStepContent","handleNextDisable","signinApi","addNewClubModal","onHold","setOnHold","handleDeleteTeams","APIDeleteClub","finally","align","blueTheme","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","redTheme","querySelector","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2adeda82.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport user from './reducers/user';\nimport signup from './reducers/singup';\nimport map from './reducers/map';\nimport club from './reducers/club';\nimport search from './reducers/search';\n\nexport default combineReducers({\n  user,\n  signup,\n  club,\n  map,\n  search,\n});\n","export default (\n  state = {\n    isVlaid: undefined,\n    suggest: undefined,\n    firstname: undefined,\n    lastname: undefined,\n    likes: [],\n    dislikes: [],\n    suggests: [],\n    location: undefined,\n    logout: false,\n  },\n  action\n) => {\n  switch (action.type) {\n    case 'UPDATE_USER':\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n};\n","export default (\n  state = {\n    phone_number: undefined,\n    location: undefined,\n    address: undefined,\n    submitButtonState: false,\n    country_code: undefined,\n  },\n  action\n) => {\n  switch (action.type) {\n    case 'UPDATE_SIGNUP':\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n};\n","export default (\n  state = {\n    cityName: undefined,\n    countyName: undefined,\n    cityCoords: undefined,\n    clubGroup: undefined,\n    clubName: undefined,\n    primaryColor: undefined,\n    secondaryColor: undefined,\n    logoBase64: undefined,\n  },\n  action\n) => {\n  switch (action.type) {\n    case 'UPDATE_CLUB':\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n};\n","export default (\n  state = {\n    center: undefined,\n    flyTo: { state: false, coord: undefined },\n    flyToClub: {\n      state: false,\n      coord: undefined,\n    },\n  },\n  action\n) => {\n  switch (action.type) {\n    case 'UPDATE_CENTER':\n      return { ...state, center: action.payload };\n    case 'UPDATE_FLYTO':\n      return { ...state, flyTo: action.payload };\n    case 'UPDATE_FLYTOCLUB':\n      return { ...state, flyToClub: action.payload };\n    default:\n      return state;\n  }\n};\n","export default (state = 'like', action) => {\n  switch (action.type) {\n    case 'UPDATE_SEARCH':\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      // light: '#d32f2f',\n      main: '#263238',\n      dark: '#12181b',\n      contrastText: '#fff',\n    },\n    secondary: {\n      // light: '#26a69a',\n      main: '#4caf50',\n      // dark: '#00897b',\n      contrastText: '#fff',\n    },\n    error: {\n      light: '#e57373',\n      main: '#f44336',\n      dark: '#d32f2f',\n      contrastText: '#fff',\n    },\n    warning: {\n      light: '#ffb74d',\n      main: '#ff9800',\n      dark: '#f57c00',\n      // contrastText: 'rgba(0, 0, 0, 0.87)',\n    },\n    info: {\n      light: '#2196F3',\n      main: '#2196f3',\n      dark: '#2196F3',\n      contrastText: '#fff',\n    },\n    success: {\n      light: '#81c784',\n      main: '#4caf50',\n      dark: '#388e3c',\n      // contrastText: 'rgba(0, 0, 0, 0.87)',\n    },\n    grey: {\n      50: '#fafafa',\n      100: '#f5f5f5',\n      200: '#eeeeee',\n      300: '#e0e0e0',\n      400: '#bdbdbd',\n      500: '#9e9e9e',\n      600: '#757575',\n      700: '#616161',\n      800: '#424242',\n      900: '#212121',\n      A100: '#d5d5d5',\n      A200: '#aaaaaa',\n      A400: '#303030',\n      A700: '#616161',\n    },\n    background: {\n      default: '#e6e6fa',\n    },\n  },\n});\n\nexport default theme;\n","export default payload => {\n  return {\n    type: 'UPDATE_USER',\n    payload,\n  };\n};\n","import axios from 'axios';\nimport debug from 'debug';\n\nconst log = debug('log:isUserValidAPI');\n\nexport default token => {\n  return new Promise((resolve, reject) => {\n    let tries = 0;\n    // NOTE: looping 4 times in case of connection error\n    (function loop() {\n      axios\n        .get(`https://www.fansclub.app/api/v1/GET/getUserInfo/${token}`)\n        .then(res => {\n          log('is user valid response', res);\n          resolve({\n            data: res.data,\n            status: res.status.code,\n          });\n        })\n        .catch(error => {\n          log('is user valid error', error);\n          if (typeof error.response !== 'object') {\n            if (tries < 4) {\n              tries += 1;\n              setTimeout(() => {\n                loop();\n              }, 100);\n            } else\n              reject({\n                status: 503,\n              });\n          } else\n            reject({\n              status: error.response.status,\n              data: error.response.data,\n            });\n        });\n    })();\n  });\n};\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: '#f44336',\n    },\n  },\n});\n","export default payload => {\n  return {\n    type: 'UPDATE_SIGNUP',\n    payload,\n  };\n};\n","// import debug from 'debug';\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link as RouterLink } from 'react-router-dom';\n\n// material-ui components\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// theme\nimport errorTheme from '../themes/error';\n\n// actions\nimport signupActions from '../actions/signup';\n\n// --debuger\n// const log = debug('log:getUserLocaationNav');\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    padding: '0px',\n    textAlign: 'center',\n    // position: 'absolute',\n    // top: 61,\n  },\n  typoContainer: {\n    backgroundColor: 'rgb(29, 41, 51)',\n    height: 'fit-content',\n    width: '100%',\n    padding: '10px',\n  },\n  address: {\n    margin: '10px',\n    color: 'white',\n  },\n  submitBtnTxt: {\n    lineHeight: 0,\n    color: 'chocolate',\n  },\n}));\n\nconst RedirectToLink = React.forwardRef((props, ref) => <RouterLink innerRef={ref} {...props} />);\n\nexport default function AGketUserLocationdNav() {\n  const signupReducer = useSelector(state => state.signup);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  return (\n    <>\n      <CssBaseline />\n\n      <Container maxWidth=\"xl\" className={classes.container}>\n        <Typography component=\"div\" className={classes.typoContainer}>\n          <h3 className={classes.address}>{signupReducer.address}</h3>\n          <ThemeProvider theme={errorTheme}>\n            <Button\n              color=\"primary\"\n              component={RedirectToLink}\n              to=\"/\"\n              onClick={() => {\n                dispatch(\n                  signupActions({\n                    location: undefined,\n                    address: undefined,\n                  })\n                );\n              }}\n            >\n              Cancel\n            </Button>\n          </ThemeProvider>\n          {signupReducer.submitButtonState ? (\n            <Button color=\"secondary\" component={RedirectToLink} to=\"/signup\">\n              Submit\n            </Button>\n          ) : (\n            <Button color=\"secondary\" disabled>\n              {signupReducer.address === null ? (\n                <p className={classes.submitBtnTxt}>submit</p>\n              ) : (\n                <CircularProgress color=\"secondary\" size=\"20px\" />\n              )}\n            </Button>\n          )}\n        </Typography>\n      </Container>\n    </>\n  );\n}\n","/* eslint-disable react/destructuring-assignment */\n/* eslint-disable react/prop-types */\nimport debug from 'debug';\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { withRouter, Redirect, Link as RouterLink } from 'react-router-dom';\nimport { useSnackbar } from 'notistack';\n// material-ui\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n// import hello from './hello';\n// actions\nimport userAction from '../actions/user';\n// api\nimport getUserInfoApi from '../api/getUserInfo';\n\n// component\nimport GetUserlocationNav from './getUserLocation';\n\n// --debuger\nconst log = debug('log:Appbar');\n// creating style\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    // TODO: check it later\n    flexGrow: 1,\n  },\n  linearProgress: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n  appbar: {\n    backgroundColor: '#263238',\n    borderBottom: 'solid 6px #4caf50',\n  },\n}));\n\nconst redirectTo = React.forwardRef((props, ref) => <RouterLink innerRef={ref} {...props} />);\nfunction Appbar(props) {\n  const classes = useStyles();\n  const { enqueueSnackbar } = useSnackbar();\n  const dispatch = useDispatch();\n  // redirect helper\n\n  // states\n  const [state /* setState */] = useState({\n    redirect: false,\n  });\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = useState(undefined);\n\n  // global states\n  const userReducer = useSelector(reduxState => reduxState.user);\n\n  // handling @media\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n  const mobileMenuId = 'primary-search-account-menu-mobile';\n  const handleMobileMenuOpen = event => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n\n  log(userReducer);\n\n  if (userReducer.isValid === undefined) {\n    if (localStorage.fans_club) {\n      getUserInfoApi(localStorage.fans_club)\n        .then(res => {\n          console.log(res);\n          log('appbar getUserInfo valid res', res);\n          dispatch(\n            userAction({\n              isValid: true,\n              firstname: res.data.firstname,\n              lastname: res.data.lastname,\n              likes: res.data.likes,\n              dislikes: res.data.dislikes,\n              suggests: res.data.suggests,\n              location: res.data.location,\n              from: res.data.from,\n            })\n          );\n          // TODO: ADD TO USER REDUCER\n        })\n        .catch(err => {\n          log('appbar getUserInfo valid err', err);\n          if (err.status === 503) {\n            dispatch(userAction({ isValid: false }));\n            enqueueSnackbar('Network Error', { variant: 'error' });\n          } else {\n            log('other error messages on getUserInfo Api', err);\n            dispatch(userAction({ isValid: false }));\n            enqueueSnackbar(err.msg, { variant: 'error' });\n          }\n        });\n    } else {\n      log('no token has been found for fans_club');\n      dispatch(userAction({ isValid: false }));\n      enqueueSnackbar('Sign up to get more ...', { variant: 'error' });\n    }\n  }\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(undefined);\n  };\n\n  const handleMenuClose = () => {\n    // setAnchorEl(undefined);\n    handleMobileMenuClose();\n  };\n\n  const handleLogOut = () => {\n    // dispatch(\n    //   userAction({\n    //     isValid: undefined,\n    //     firstname: undefined,\n    //     lastname: undefined,\n    //     likes: undefined,\n    //     dislikes: undefined,\n    //     suggests: undefined,\n    //     location: undefined,\n    //     // logout: true,\n    //   })\n    // );\n    localStorage.removeItem('fans_club');\n    console.log('-----------------------------', userReducer.from);\n    if (userReducer.from === 'google') {\n      window.location.href =\n        'https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue=https://www.fansclub.app';\n    }\n  };\n\n  function renderMobileMenu() {\n    switch (userReducer.isValid) {\n      case false:\n        return (\n          <Menu\n            anchorEl={mobileMoreAnchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={mobileMenuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMobileMenuOpen}\n            onClose={handleMobileMenuClose}\n          >\n            <MenuItem onClick={handleMenuClose}>\n              <Button\n                className=\"appbarButton\"\n                color=\"secondary\"\n                component={redirectTo}\n                to=\"/signup\"\n              >\n                Sign up\n              </Button>\n            </MenuItem>\n            <MenuItem onClick={handleMenuClose}>\n              <Button color=\"secondary\" component={redirectTo} to=\"/signin\">\n                Sign in\n              </Button>\n            </MenuItem>\n          </Menu>\n        );\n      case true:\n        return (\n          <Menu\n            anchorEl={mobileMoreAnchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={mobileMenuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMobileMenuOpen}\n            onClose={handleMobileMenuClose}\n          >\n            {/* <MenuItem onClick={handleMenuClose}>\n              <Button color=\"secondary\" component={redirectTo} to=\"/profile\">\n                profile\n              </Button>\n            </MenuItem> */}\n            <MenuItem onClick={handleMenuClose}>\n              <Button color=\"secondary\" component={redirectTo} to=\"/clubs\">\n                clubs\n              </Button>\n            </MenuItem>\n            <MenuItem onClick={handleMenuClose}>\n              <Button color=\"secondary\" component={redirectTo} to=\"/\" onClick={handleLogOut}>\n                logout\n              </Button>\n            </MenuItem>\n          </Menu>\n        );\n      default:\n        return undefined;\n    }\n  }\n\n  const isNotuserContent = (\n    <>\n      <div className={classes.sectionDesktop}>\n        <Button className=\"appbarButton\" color=\"secondary\" component={redirectTo} to=\"/signup\">\n          Sign up\n        </Button>\n        <Button color=\"secondary\" component={redirectTo} to=\"/signin\">\n          Sign in\n        </Button>\n      </div>\n      <div className={classes.sectionMobile}>\n        <IconButton\n          aria-label=\"show more\"\n          aria-controls={mobileMenuId}\n          aria-haspopup=\"true\"\n          onClick={handleMobileMenuOpen}\n        >\n          <MoreIcon color=\"secondary\" />\n        </IconButton>\n      </div>\n    </>\n  );\n\n  const getUserInfoContent = (\n    <>\n      <div className={classes.sectionDesktop}>\n        {/* <Button color=\"secondary\" component={redirectTo} to=\"/profile\">\n          profile\n        </Button> */}\n        <Button color=\"secondary\" component={redirectTo} to=\"/clubs\">\n          clubs\n        </Button>\n        <Button color=\"secondary\" component={redirectTo} to=\"/\" onClick={handleLogOut}>\n          logout\n        </Button>\n      </div>\n      <div className={classes.sectionMobile}>\n        <IconButton\n          aria-label=\"show more\"\n          aria-controls={mobileMenuId}\n          aria-haspopup=\"true\"\n          onClick={handleMobileMenuOpen}\n        >\n          <MoreIcon color=\"secondary\" />\n        </IconButton>\n      </div>\n    </>\n  );\n\n  function toolbarContent() {\n    let content;\n    if (userReducer.isValid === undefined) content = <p>loading</p>;\n    if (userReducer.isValid === false) content = isNotuserContent;\n    if (userReducer.isValid === true) content = getUserInfoContent;\n\n    return content;\n  }\n\n  return (\n    <>\n      {state.redirect ? <Redirect to={state.redirect} push /> : undefined}\n      {userReducer.isValid === undefined ? (\n        <div className=\"loading-wrapper\">\n          <div className=\"wrap\">\n            <div className=\"loading\">\n              <div className=\"bounceball\" />\n              {/* <div className=\"text\">NOW LOADING</div> */}\n            </div>\n          </div>\n        </div>\n      ) : (\n        undefined\n      )}\n      <div className={classes.grow}>\n        <AppBar position=\"static\" className={classes.appbar}>\n          <Toolbar>\n            <Typography variant=\"h5\" className={classes.title}>\n              <Button component={redirectTo} to=\"/\" style={{ color: 'white' }}>\n                <img src=\"logoandlogotype.png\" alt=\"logo\" style={{ height: '35px' }} />\n                {/* <Typography variant=\"h5\" className={classes.title}>\n                  FANS CLUB\n                </Typography> */}\n              </Button>\n            </Typography>\n\n            {toolbarContent()}\n          </Toolbar>\n\n          {props.location.pathname === '/signup/getUserLocation' ? <GetUserlocationNav /> : null}\n\n          {userReducer.isValid === undefined ? (\n            <div className={classes.linearProgress}>\n              <LinearProgress />\n            </div>\n          ) : (\n            undefined\n          )}\n        </AppBar>\n        {renderMobileMenu()}\n      </div>\n    </>\n  );\n}\n\nexport default withRouter(Appbar);\n","function updateCenter(payload) {\n  return {\n    type: 'UPDATE_CENTER',\n    payload,\n  };\n}\n\nfunction updateFlyTo(payload) {\n  return {\n    type: 'UPDATE_FLYTO',\n    payload,\n  };\n}\n\nfunction updateFlyToClub(payload) {\n  return {\n    type: 'UPDATE_FLYTOCLUB',\n    payload,\n  };\n}\n\nexport default {\n  updateCenter,\n  updateFlyTo,\n  updateFlyToClub,\n};\n","export default function updateClub(payload) {\n  return {\n    type: 'UPDATE_CLUB',\n    payload,\n  };\n}\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:getUserAddressFromMapbox');\n\nconst mapboxglAccessToken =\n  'pk.eyJ1IjoibW9oZXNlbSIsImEiOiJjanR3amhqcWcxZm05NDVtcG03Nm44Ynk4In0.YUdlvT5fABnW8BReNMSuPg';\n\nexport default function getUserLocationFromMapbox(coords) {\n  return new Promise((resolve, reject) => {\n    const mainAddress = 'https://api.mapbox.com/geocoding/v5/mapbox.places/';\n    const addressResumption = '.json?access_token=';\n    const mapboxReqAddress = `${mainAddress + coords.lng},${\n      coords.lat\n    }${addressResumption}${mapboxglAccessToken}`;\n\n    axios\n      .get(mapboxReqAddress)\n      .then(res => {\n        log('mapbox api', res);\n\n        resolve(res);\n      })\n      .catch(err => {\n        log('mapbox api', err);\n        reject(err);\n      });\n  });\n}\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:signin');\n\nexport default function getMembersFromPoly(bounds, val, teamId) {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(\n        `https://www.fansclub.app/api/v1/GET/membersFromPoly/${bounds._sw.lng}/${bounds._sw.lat}/${bounds._ne.lng}/${bounds._ne.lat}/${val}/${teamId}`\n      )\n      .then(response => {\n        console.log('getMembersFromPoly', response);\n        resolve(response);\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","import React from 'react';\nimport {\n  FacebookShareButton,\n  FacebookMessengerShareButton,\n  FacebookMessengerIcon,\n  TwitterShareButton,\n  TelegramShareButton,\n  WhatsappShareButton,\n  EmailShareButton,\n  FacebookIcon,\n  TwitterIcon,\n  TelegramIcon,\n  WhatsappIcon,\n  EmailIcon,\n} from 'react-share';\n\nexport default props => {\n  const shareUrl = props.url;\n  // const content = props.c || 'fans Club';\n  const content = <p>some text goes here</p>;\n\n  return (\n    <div className=\"Demo__container\">\n      <div className=\"Demo__some-network\">\n        <FacebookShareButton\n          url={shareUrl}\n          quote={content}\n          className=\"Demo__some-network__share-button\"\n        >\n          <FacebookIcon size={32} round />\n        </FacebookShareButton>\n\n        {/* <div>\n            <FacebookShareCount url={shareUrl} className=\"Demo__some-network__share-count\">\n              {count => count}\n            </FacebookShareCount>\n          </div> */}\n      </div>\n\n      <div className=\"Demo__some-network\">\n        <FacebookMessengerShareButton\n          url={shareUrl}\n          appId=\"521270401588372\"\n          className=\"Demo__some-network__share-button\"\n        >\n          <FacebookMessengerIcon size={32} round />\n        </FacebookMessengerShareButton>\n      </div>\n\n      <div className=\"Demo__some-network\">\n        <TwitterShareButton\n          url={shareUrl}\n          content={content}\n          className=\"Demo__some-network__share-button\"\n        >\n          <TwitterIcon size={32} round />\n        </TwitterShareButton>\n\n        {/* <div className=\"Demo__some-network__share-count\">&nbsp;</div> */}\n      </div>\n\n      <div className=\"Demo__some-network\">\n        <TelegramShareButton\n          url={shareUrl}\n          content={content}\n          className=\"Demo__some-network__share-button\"\n        >\n          <TelegramIcon size={32} round />\n        </TelegramShareButton>\n\n        {/* <div className=\"Demo__some-network__share-count\">&nbsp;</div> */}\n      </div>\n\n      <div className=\"Demo__some-network\">\n        <WhatsappShareButton\n          url={shareUrl}\n          content=\"some text goes here\"\n          separator=\":: \"\n          className=\"Demo__some-network__share-button\"\n        >\n          <WhatsappIcon size={32} round />\n        </WhatsappShareButton>\n\n        {/* <div className=\"Demo__some-network__share-count\">&nbsp;</div> */}\n      </div>\n\n      <div className=\"Demo__some-network\">\n        <EmailShareButton\n          url={shareUrl}\n          subject={content}\n          body=\"body\"\n          className=\"Demo__some-network__share-button\"\n        >\n          <EmailIcon size={32} round />\n        </EmailShareButton>\n      </div>\n    </div>\n  );\n};\n","/* eslint-disable no-unused-vars */\n/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react/prefer-stateless-function */\n/* eslint-disable import/no-unresolved, import/extensions, import/no-extraneous-dependencies */\nimport debug from 'debug';\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { withRouter, Link as RouterLink } from 'react-router-dom';\nimport mapboxgl from 'mapbox-gl';\nimport axios from 'axios';\nimport * as turf from '@turf/turf';\n\n// chartjs\nimport { Line } from 'react-chartjs-2';\n\n// material-ui component\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link, Popover, Typography, IconButton } from '@material-ui/core';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport TrendingUpRoundedIcon from '@material-ui/icons/TrendingUpRounded';\nimport FormatListBulletedRoundedIcon from '@material-ui/icons/FormatListBulletedRounded';\nimport ShareRoundedIcon from '@material-ui/icons/ShareRounded';\nimport RoomIcon from '@material-ui/icons/Room';\n// actions\nimport signupActions from '../actions/signup';\nimport mapActions from '../actions/map';\nimport clubAction from '../actions/club';\n\n// API\nimport getAddressFromMapboxApi from '../api/getAddressFromMapbox';\nimport getMembersFromPoly from '../api/getMembersFromPoly';\n\n// components\nimport GetUserlocationNav from './getUserLocation';\nimport ShareButtons from './shareButtons';\n\nmapboxgl.accessToken =\n  'pk.eyJ1IjoibW9oZXNlbSIsImEiOiJjanR3amhqcWcxZm05NDVtcG03Nm44Ynk4In0.YUdlvT5fABnW8BReNMSuPg';\nmapboxgl.setRTLTextPlugin(\n  'https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js'\n);\n\n// --debug\nconst log = debug('log:Map');\n\nconst RedirectTo = React.forwardRef((props, ref) => <RouterLink innerRef={ref} {...props} />);\nlet mapContainer;\nlet map;\nconst geojson = {\n  type: 'FeatureCollection',\n  features: [],\n};\nlet _totalLikes;\nlet localDataRef = {};\nlet fsLength = 0;\nlet searchMarker = null;\nlet clubMarker = null;\nlet userLocationMarker = null;\nconst coordsArray = [];\n\nconst useStyles = makeStyles(theme => ({\n  typography: {\n    padding: theme.spacing(2),\n  },\n}));\n\nfunction Map(props) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  // porops\n  const { location } = props;\n  const { pathname } = location;\n\n  /* -------------------------------------------------------------------------- */\n  /*                                   states                                   */\n  /* -------------------------------------------------------------------------- */\n  // NOTE: 0 is normal && 1 is getUserLocation && 2 is virtualization\n  const [mode, setMode] = useState(false);\n  const [chartWidth, setChartWidth] = useState(0);\n  // NOTE: 0 is color helper and 1 is for chart\n  const [legends, setLegends] = useState(0);\n  const [submitLocationOnHold, setSubmitLocationOnHold] = useState(false);\n  const [center, setCenter] = useState(undefined);\n  const [teamId, setTeamId] = useState('');\n  const [likeOrDislike, setLikeOrDislike] = useState('');\n  const [openShareButtons, setOpenShareButtons] = useState(false);\n  const [mainColor, setMainColor] = useState('');\n  const [helper, setHelper] = useState({\n    chartTotal: undefined,\n    chartMales: undefined,\n    chartFemales: undefined,\n    totalLikes: undefined,\n    step0: undefined,\n    step1: undefined,\n    step2: undefined,\n    c0: undefined,\n    c1: undefined,\n    c2: undefined,\n    c3: 'rgb(255, 255, 255)',\n  });\n\n  // const [localDataRef, setLocalDataRef] = useState({});\n  /* -------------------------------------------------------------------------- */\n  /*                                  reducers                                  */\n  /* -------------------------------------------------------------------------- */\n  const userReducer = useSelector(global => global.user);\n  const mapReducer = useSelector(global => global.map);\n  const clubReducer = useSelector(global => global.club);\n\n  /* -------------------------------------------------------------------------- */\n  /*                                  function                                  */\n  /* -------------------------------------------------------------------------- */\n\n  function getColorCode(firstColorStr, secondColorStr, cb) {\n    let value;\n    if (firstColorStr === 'white') {\n      switch (secondColorStr) {\n        case 'red':\n          value = { r: 183, g: 28, b: 28 };\n          break;\n        case 'blue':\n          value = { r: 13, g: 71, b: 161 };\n          break;\n        case 'green':\n          value = { r: 0, g: 128, b: 0 };\n          break;\n        case 'yellow':\n          value = { r: 255, g: 193, b: 7 };\n          break;\n        default:\n          break;\n      }\n    } else {\n      switch (firstColorStr) {\n        case 'red':\n          value = { r: 183, g: 28, b: 28 };\n          break;\n        case 'blue':\n          value = { r: 13, g: 71, b: 161 };\n          break;\n        case 'green':\n          value = { r: 0, g: 128, b: 0 };\n          break;\n        case 'yellow':\n          value = { r: 255, g: 193, b: 7 };\n          break;\n        default:\n          value = { r: 183, g: 28, b: 28 };\n          break;\n      }\n    }\n\n    return cb(value);\n    // return cb(value);\n  }\n\n  /* -------------------------------------------------------------------------- */\n  /*                                  callbcks                                  */\n  /* -------------------------------------------------------------------------- */\n\n  // const specifyCriterion = useCallback(() => {\n  //   (function loop() {\n  //     // console.log('^^^^^^^^^^^^^', _totalLikes && map && map.isStyleLoaded());\n  //     if (map && map.isStyleLoaded()) {\n  //       console.log('_________________+_+_+_+_!@#@)(#*@)($&(#*$^&', { mainColor });\n  //       // const zoom = map.getZoom();\n  //       map.setPaintProperty('boundry', 'fill-color', [\n  //         'case',\n  //         ['!=', ['feature-state', 'fans'], null],\n  //         [\n  //           'interpolate',\n  //           ['linear'],\n  //           ['feature-state', 'fans'],\n  //           0,\n  //           'rgba(236, 225, 203, 1)',\n  //           1,\n  //           mainColor,\n  //         ],\n  //         'rgba(236, 225, 203, 1)',\n  //       ]);\n  //     } else {\n  //       setTimeout(() => {\n  //         loop();\n  //       }, 50);\n  //     }\n  //   })();\n  // }, [mainColor]);\n\n  // function specifyCriterion() {\n  //   (function loop() {\n  //     // console.log('^^^^^^^^^^^^^', _totalLikes && map && map.isStyleLoaded());\n  //     if (map && map.isStyleLoaded() && mainColor) {\n  //       console.log('_________________+_+_+_+_!@#@)(#*@)($&(#*$^&', { mainColor });\n  //       // const zoom = map.getZoom();\n  //       map.setPaintProperty('boundry', 'fill-color', [\n  //         'case',\n  //         ['!=', ['feature-state', 'fans'], null],\n  //         [\n  //           'interpolate',\n  //           ['linear'],\n  //           ['feature-state', 'fans'],\n  //           0,\n  //           'rgba(236, 225, 203, 1)',\n  //           1,\n  //           mainColor,\n  //         ],\n  //         'rgba(236, 225, 203, 1)',\n  //       ]);\n  //     } else {\n  //       setTimeout(() => {\n  //         loop();\n  //       }, 50);\n  //     }\n  //   })();\n  // }\n\n  const calCulateColors = useCallback((firstColorStr, secondColorStr, cb) => {\n    getColorCode(firstColorStr, secondColorStr, color => {\n      const factorR = Math.round((255 - color.r) / 3);\n      const factorG = Math.round((255 - color.g) / 3);\n      const factorB = Math.round((255 - color.b) / 3);\n      const color2 = {\n        r: color.r + factorR,\n        g: color.g + factorG,\n        b: color.b + factorB,\n      };\n      const color3 = {\n        r: color.r + factorR * 2,\n        g: color.g + factorG * 2,\n        b: color.b + factorB * 2,\n      };\n      const c0 = `rgb(${color.r}, ${color.g}, ${color.b})`;\n      const c1 = `rgb(${color2.r}, ${color2.g}, ${color2.b})`;\n      const c2 = `rgb(${color3.r}, ${color3.g},${color3.b})`;\n      setMainColor(c0);\n      // mainColor = c0;\n      return cb(c0, c1, c2);\n    });\n    console.log('---------------------------------------');\n  }, []);\n\n  const getClub = useCallback(() => {\n    console.log('get club *****************************', { teamId });\n    if (teamId) {\n      axios\n        .get(`https://www.fansclub.app/api/v1/GET/club/${teamId}`)\n        .then(res => {\n          if (res.data.base64Image) {\n            dispatch(\n              mapActions.updateFlyToClub({\n                state: true,\n                coord: res.data.city.geo.coordinates,\n              })\n            );\n\n            dispatch(\n              clubAction({\n                cityName: res.data.city.name,\n                countyName: res.data.city.country,\n                cityCoords: res.data.city.geo.coordinates,\n                clubGroup: res.data.club.group,\n                clubName: res.data.club.name,\n                primaryColor: res.data.club.primary_color,\n                secondaryColor: res.data.club.secondary_color,\n                logoBase64: res.data.base64Image,\n                teamId: res.data.club._id,\n              })\n            );\n          } else {\n            dispatch(\n              mapActions.updateFlyToClub({\n                state: true,\n                coord: undefined,\n              })\n            );\n\n            dispatch(\n              clubAction({\n                cityName: undefined,\n                countyName: res.data.country,\n                cityCoords: undefined,\n                clubGroup: res.data.group,\n                clubName: res.data.name,\n                primaryColor: res.data.primary_color,\n                secondaryColor: res.data.secondary_color,\n                logoBase64: undefined,\n                teamId: res.data._id,\n              })\n            );\n          }\n        })\n        .catch(err => {\n          console.log('errrrrrrrrrrrrrrrrrr', err);\n        });\n    }\n  }, [teamId]);\n\n  const getClubTotalLikes = useCallback(() => {\n    axios\n      .get(`https://www.fansclub.app/api/v1/GET/getClubTotalLikes/${mode}/${teamId}`)\n      .then(response => {\n        const firstColorStr = response.data.team.primary_color;\n        const secondColorStr = response.data.team.secondary_color;\n        calCulateColors(firstColorStr, secondColorStr, (c0, c1, c2) => {\n          const colors = { c0, c1, c2 };\n          const { males } = response.data;\n          const { females } = response.data;\n          const chartMales = [\n            males[0] / 3,\n            males[1] / 3,\n            males[2] / 3,\n            males[3] / 3,\n            males[4] / 3,\n            males[5] / 3,\n          ];\n\n          const chartFemales = [\n            females[0] / 3 - ((females[0] / 3) * 20) / 100,\n            females[1] / 3 - ((females[1] / 3) * 20) / 100,\n            females[2] / 3 - ((females[2] / 3) * 20) / 100,\n            females[3] / 3 - ((females[3] / 3) * 20) / 100,\n            females[4] / 3 - ((females[4] / 3) * 20) / 100,\n            females[5] / 3 - ((females[5] / 3) * 20) / 100,\n          ];\n\n          const chartTotal = [\n            chartFemales[0] + chartMales[0],\n            chartFemales[1] + chartMales[1],\n            chartFemales[2] + chartMales[2],\n            chartFemales[3] + chartMales[3],\n            chartFemales[4] + chartMales[4],\n            chartFemales[5] + chartMales[5],\n          ];\n\n          const sumMales = chartMales.reduce((a, b) => a + b, 0) / 3;\n          const sumFemales = chartFemales.reduce((a, b) => a + b, 0) / 3;\n          const total = sumMales + sumFemales;\n\n          // NOTE: dividing total to stimated number of countries\n          // TODO: finding a better logic for dividing\n          const step0 = Math.round(total / 200);\n          const stepCiterion = step0 / 3;\n          const step1 = Math.round(step0 - stepCiterion);\n          const step2 = Math.round(step1 - stepCiterion);\n          const numbers = { totalLikes: Math.round(total), step0, step1, step2 };\n          _totalLikes = Math.round(total);\n          setHelper({ ...helper, ...numbers, ...colors, chartMales, chartFemales, chartTotal });\n        });\n      })\n      .catch(error => {\n        // NOTE: as there may be lots of requests for tiles it seems that best option is poping errors on console\n        log(error);\n      });\n  }, [teamId]);\n\n  const addToSourceOnData = useCallback(() => {\n    // if (map.getSource('boundary-source')) {\n    //   const bbox = map.getBounds();\n\n    //   const fs = map.queryRenderedFeatures({ layers: ['boundry'] });\n    //   const { length } = fs;\n    //   if (fsLength !== length) {\n    //     // log('bbox is addToSourceOnData', bbox);\n    //     fsLength = length;\n    //     const array = fs.map(f => f.id);\n    //     const uniqueArray = [...new Set(array)];\n    //     const reducedDuplicates = [];\n\n    //     uniqueArray.forEach((u, i) => {\n    //       if (!localDataRef[u]) {\n    //         localDataRef[u] = 1;\n    //         reducedDuplicates.push(u);\n    //       }\n    //     });\n\n    //     if (reducedDuplicates.length) {\n    //       axios\n    //         .post('https://www.fansclub.app/api/v1/POST/getLikesForPolys', {\n    //           likeOrDislike,\n    //           teamId,\n    //           reducedDuplicates,\n    //         })\n    //         .then(response => {\n    //           const { likes } = response.data;\n    //           Object.keys(likes).forEach(key => {\n    //             map.setFeatureState(\n    //               {\n    //                 source: 'boundary-source',\n    //                 sourceLayer: 'boundry',\n    //                 id: key /* dataValues['USA1' + row.STATE_ID].id_int */,\n    //               },\n    //               { fans: likes[key] }\n    //             );\n    //           });\n    //         })\n    //         .catch(error => {\n    //           // TODO: check this out\n    //         });\n    //     }\n    //   }\n    // }\n\n    if (map.getSource('boundary-source')) {\n      // console.log('------____________------------------------------___', { teamId });\n      // const pathnameSplit = pathname.split('/');\n      // const id = pathnameSplit[pathnameSplit.length - 1];\n\n      // const splitHref = window.location.href.split('/');\n      // const val = splitHref[splitHref.length - 1];\n\n      // TODO: store val and if it chenged clear the previous ones;\n      // TODO: set different colors for likes and dislikes\n      // TODO: change dots to pins\n\n      // log('bbox is ', bbox);\n\n      const fs = map.queryRenderedFeatures({ layers: ['boundry'] });\n\n      const { length } = fs;\n      if (fsLength !== length) {\n        fsLength = length;\n        const array = fs.map(f => f.id);\n        const uniqueArray = [...new Set(array)];\n        const reducedDuplicates = [];\n        // console.log('----____----++++++', { uniqueArray });\n        uniqueArray.forEach((u, i) => {\n          if (!localDataRef[u]) {\n            // console.log({ u });\n            localDataRef[u] = 1;\n            reducedDuplicates.push(u);\n          }\n        });\n        if (reducedDuplicates.length) {\n          axios\n            .post('https://www.fansclub.app/api/v1/POST/getLikesForPolys', {\n              likeOrDislike,\n              teamId,\n              reducedDuplicates,\n            })\n            .then(response => {\n              // console.log({ response });\n              const { likes } = response.data;\n              Object.keys(likes).forEach(key => {\n                map.setFeatureState(\n                  {\n                    source: 'boundary-source',\n                    sourceLayer: 'boundry',\n                    id: key /* dataValues['USA1' + row.STATE_ID].id_int */,\n                  },\n                  { fans: likes[key] }\n                );\n              });\n            })\n            .catch(error => {\n              // TODO: check this out\n            });\n        }\n      }\n    }\n  }, [likeOrDislike, teamId]);\n\n  const addToSourceOnMove = useCallback(() => {\n    if (map.getSource('boundary-source')) {\n      console.log('------____________------------------------------___', { teamId });\n      const pathnameSplit = pathname.split('/');\n      const id = pathnameSplit[pathnameSplit.length - 1];\n\n      const splitHref = window.location.href.split('/');\n      const val = splitHref[splitHref.length - 1];\n\n      // TODO: store val and if it chenged clear the previous ones;\n      // TODO: set different colors for likes and dislikes\n      // TODO: change dots to pins\n\n      // log('bbox is ', bbox);\n\n      const fs = map.queryRenderedFeatures({ layers: ['boundry'] });\n\n      const { length } = fs;\n      if (fsLength !== length) {\n        fsLength = length;\n        const array = fs.map(f => f.id);\n        const uniqueArray = [...new Set(array)];\n        const reducedDuplicates = [];\n        // console.log('----____----++++++', { uniqueArray });\n        uniqueArray.forEach((u, i) => {\n          if (!localDataRef[u]) {\n            // console.log({ u });\n            localDataRef[u] = 1;\n            reducedDuplicates.push(u);\n          }\n        });\n        if (reducedDuplicates.length) {\n          axios\n            .post('https://www.fansclub.app/api/v1/POST/getLikesForPolys', {\n              likeOrDislike,\n              teamId,\n              reducedDuplicates,\n            })\n            .then(response => {\n              // console.log({ response });\n              const { likes } = response.data;\n              Object.keys(likes).forEach(key => {\n                map.setFeatureState(\n                  {\n                    source: 'boundary-source',\n                    sourceLayer: 'boundry',\n                    id: key /* dataValues['USA1' + row.STATE_ID].id_int */,\n                  },\n                  { fans: likes[key] }\n                );\n              });\n            })\n            .catch(error => {\n              // TODO: check this out\n            });\n        }\n      }\n    }\n\n    setTimeout(() => {\n      map.off('data', addToSourceOnData);\n    }, 5000);\n    return null;\n  }, [likeOrDislike, teamId, mode]);\n\n  const removeFeatures = useCallback(() => {\n    console.log(')))))))))))))))))))))))))))))))))))))))))))0');\n    if (map && map.isStyleLoaded()) {\n      map.removeFeatureState({\n        source: 'boundary-source',\n        sourceLayer: 'boundry',\n      });\n      map.getSource('likes').setData({\n        type: 'FeatureCollection',\n        features: [],\n      });\n      map.getSource('dislikes').setData({\n        type: 'FeatureCollection',\n        features: [],\n      });\n    }\n  }, [mode, teamId, likeOrDislike]);\n\n  const addFollowersPins = useCallback(() => {\n    if (mode === 2 && map.getZoom() > 8) {\n      const bbox = map.getBounds();\n      getMembersFromPoly(bbox, likeOrDislike, teamId)\n        .then(res => {\n          geojson.features = [];\n          res.data.likes.forEach(like => {\n            if (Number(like.fid) < 500) {\n              const newLike = {\n                type: 'Feature',\n                geometry: like.geo,\n                // properties: { icon-image: 'love' },\n              };\n              geojson.features.push(newLike);\n            }\n          });\n\n          if (likeOrDislike === 'like') {\n            map.getSource('likes').setData(geojson);\n          } else {\n            map.getSource('dislikes').setData(geojson);\n          }\n        })\n        .catch(err => {\n          log(err);\n        });\n    } else if (map.getSource('likes') || map.getSource('dislikes')) {\n      map.getSource('likes').setData({\n        type: 'FeatureCollection',\n        features: [],\n      });\n      map.getSource('dislikes').setData({\n        type: 'FeatureCollection',\n        features: [],\n      });\n    }\n  }, [likeOrDislike, teamId, mode]);\n\n  const addUserLocationMarker = useCallback(\n    e => {\n      const getAddress = coords => {\n        return new Promise((resolve, reject) => {\n          /* TODO: use getLocation bar as a sub component and pass submit on hold to that */\n          setSubmitLocationOnHold(true);\n          // setState({ ...state, submitLocationOnHold: true });\n          coordsArray.push(coords);\n\n          getAddressFromMapboxApi(coords)\n            .then(res => {\n              log('mapbox res', res);\n              resolve(res);\n              setSubmitLocationOnHold(false);\n\n              // setState({ ...state, submitLocationOnHold: false });\n            })\n            .catch(err => {\n              reject(err);\n            });\n        });\n      };\n\n      dispatch(signupActions({ submitButtonState: false }));\n      getAddress(e.lngLat.wrap())\n        .then(address => {\n          if (address) {\n            log('final result is ==> ', {\n              location: e.lngLat.wrap(),\n              address: address.data.features[0].place_name,\n            });\n            dispatch(\n              signupActions({\n                location: e.lngLat.wrap(),\n                address: address.data.features[0].place_name,\n                submitButtonState: true,\n              })\n            );\n          }\n        })\n        .catch(() => {\n          log('some error came from mapbox');\n        });\n\n      if (userLocationMarker !== null) {\n        userLocationMarker.remove();\n      }\n      userLocationMarker = new mapboxgl.Marker({\n        draggable: false,\n      });\n      userLocationMarker.setLngLat(e.lngLat.wrap());\n      userLocationMarker.addTo(map);\n    },\n    [mode]\n  );\n  /* -------------------------------------------------------------------------- */\n  /*                                  handlers                                  */\n  /* -------------------------------------------------------------------------- */\n  function handleLegendsVisibility() {\n    if (legends === 0) return setLegends(1);\n    return setLegends(0);\n  }\n\n  function handleShreButtons() {\n    if (openShareButtons) return setOpenShareButtons(false);\n    return setOpenShareButtons(true);\n  }\n\n  /* -------------------------------------------------------------------------- */\n  /*                                   effects                                  */\n  /* -------------------------------------------------------------------------- */\n  useEffect(() => {\n    if (pathname === '/' && mode !== 0) setMode(0);\n    if (pathname === '/signup/getUserLocation' && mode !== 1) setMode(1);\n    if (pathname.includes('/v/') && mode !== 2) setMode(2);\n  }, [pathname]);\n\n  const setChartWidthFunc = useCallback(() => {\n    console.log('*&&&**%&#*&#^$*&#^%$*&^');\n    if (window.innerWidth >= 360 && chartWidth < 300) {\n      setChartWidth(300);\n    }\n    if (window.innerWidth < 360) {\n      setChartWidth(window.innerWidth - 60);\n    }\n  }, [chartWidth]);\n\n  useEffect(() => {\n    if (mode === 2) {\n      const split = pathname.split('/');\n      const _teamId = split[split.length - 1];\n      const _likeOrDislike = split[split.length - 2];\n\n      setTeamId(_teamId);\n      setLikeOrDislike(_likeOrDislike);\n    }\n  }, [pathname, mode]);\n\n  useEffect(() => {\n    map = new mapboxgl.Map({\n      container: mapContainer,\n      center: userReducer.location || [0, 0],\n      zoom: 2,\n      attributionControl: false,\n      maxZoom: 14,\n    });\n    map.addControl(\n      new mapboxgl.GeolocateControl({\n        positionOptions: {\n          enableHighAccuracy: true,\n        },\n        trackUserLocation: true,\n      }),\n      'bottom-right'\n    );\n    map.setStyle('mapbox://styles/mohesem/ck59dnl2k1ij41co38c3zy6ib');\n\n    // FIXME: delete on production\n    window.mapbox = map;\n\n    dispatch(mapActions.updateCenter(map.getCenter()));\n    // setState({ ...state, isLoaded: true });\n    map.loadImage(\n      `data:image/png;base64,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`,\n      (error, image) => {\n        if (error) console.log('err on adding new image ', error);\n        map.addImage('love-1', image);\n      }\n    );\n  }, []);\n\n  useEffect(() => {\n    if (mode === 2) {\n      console.log(clubReducer);\n      if (userLocationMarker) userLocationMarker.remove();\n\n      setChartWidthFunc();\n\n      getClub();\n      getClubTotalLikes();\n    }\n  }, [mode, teamId]);\n\n  useEffect(() => {\n    if (clubReducer.cityCoords) {\n      map.flyTo({\n        center: clubReducer.cityCoords,\n        zoom: 5,\n        essential: true, // this animation is considered essential with respect to prefers-reduced-motion\n      });\n    }\n  }, [clubReducer]);\n\n  // console.log('^^^ 6^^ ^^^', { mode, teamId, mainColor });\n\n  useEffect(() => {\n    function clear() {\n      map.off('data', addToSourceOnData);\n      map.off('moveend', addToSourceOnMove);\n      map.off('moveend', addFollowersPins);\n      window.removeEventListener('resize', setChartWidthFunc);\n    }\n\n    if (mode === 1) {\n      map.on('click', addUserLocationMarker);\n      return () => map.off('click', addUserLocationMarker);\n    }\n    if (mode === 2) {\n      map.on('data', addToSourceOnData);\n      map.on('moveend', addToSourceOnMove);\n      map.on('moveend', addFollowersPins);\n      window.addEventListener('resize', setChartWidthFunc);\n      return () => clear();\n    }\n  }, [mode, teamId]);\n\n  useEffect(() => {\n    if (mode === 2 && !map.getSource('boundary-source')) {\n      console.log('+++++++++++++============+++++++++++++++++++++');\n      (function loop() {\n        if (map && map.isStyleLoaded()) {\n          // boundary source >>\n          map.addSource('boundary-source', {\n            type: 'vector',\n            tiles: ['https://www.fansclub.app/api/v1/GET/tiles/{z}/{x}/{y}'],\n            minzoom: 0,\n            maxzoom: 14,\n          });\n\n          // <<\n          // main boundary layer >>\n          const boundry = {\n            id: 'boundry',\n            type: 'fill',\n            source: 'boundary-source',\n            'source-layer': 'boundry',\n          };\n          map.addLayer(boundry, 'waterway-label');\n          map.setPaintProperty('boundry', 'fill-color', [\n            'case',\n            ['!=', ['feature-state', 'fans'], null],\n            [\n              'interpolate',\n              ['linear'],\n              ['feature-state', 'fans'],\n              0,\n              'rgba(236, 225, 203, 1)',\n              1,\n              'rgba(236, 225, 203, 1)',\n            ],\n            'rgba(236, 225, 203, 1)',\n          ]);\n\n          // <<\n          // boundary border lines >>\n          const boundaryLine = {\n            id: 'boundryLine',\n            type: 'line',\n            source: 'boundary-source',\n            'source-layer': 'boundry',\n            layout: {\n              'line-join': 'round',\n              'line-cap': 'round',\n            },\n            paint: {\n              'line-color': '#424242',\n              'line-width': 2,\n            },\n          };\n          map.addLayer(boundaryLine, 'waterway-label');\n          // <<\n          // likes Layer >>\n          const likesLayer = {\n            id: 'likes',\n            type: 'symbol',\n            source: 'likes',\n            layout: {\n              'icon-image': 'love-1',\n              'icon-size': 0.5,\n            },\n          };\n          map.addSource('likes', {\n            type: 'geojson',\n            data: geojson,\n          });\n          map.addLayer(likesLayer, 'waterway-label');\n          // <<\n          // dislike Layer\n          const dislikesLayer = {\n            id: 'dislikes',\n            type: 'symbol',\n            source: 'dislikes',\n            layout: {\n              'icon-image': 'love-1',\n              'icon-size': 0.5,\n            },\n          };\n          map.addSource('dislikes', {\n            type: 'geojson',\n            data: geojson,\n          });\n          map.addLayer(dislikesLayer, 'waterway-label');\n          // <<\n\n          console.log('layers are all loaded');\n        } else {\n          setTimeout(() => {\n            loop();\n          }, 50);\n        }\n      })();\n    }\n  }, [mode]);\n\n  useEffect(() => {\n    if (mode === 2) {\n      if (likeOrDislike === 'like') {\n        removeFeatures(teamId, 'like');\n        // specifyCriterion();\n        fsLength = 0;\n        localDataRef = {};\n      } else if (likeOrDislike === 'dislike') {\n        removeFeatures(teamId, 'dislike');\n        // specifyCriterion();\n        fsLength = 0;\n        localDataRef = {};\n      }\n    }\n  }, [mode, teamId, likeOrDislike]);\n  // criterion\n  useEffect(() => {\n    // const zoom = map.getZoom();\n    if (mode === 2) {\n      (function loop() {\n        if (map && map.isStyleLoaded() && mainColor) {\n          console.log('000000000000000000000000000000000000000000000', { mainColor });\n          map.setPaintProperty('boundry', 'fill-color', [\n            'case',\n            ['!=', ['feature-state', 'fans'], null],\n            [\n              'interpolate',\n              ['linear'],\n              ['feature-state', 'fans'],\n              0,\n              'rgba(236, 225, 203, 1)',\n              1,\n              mainColor,\n            ],\n            'rgba(236, 225, 203, 1)',\n          ]);\n        } else {\n          setTimeout(() => {\n            loop();\n          }, 50);\n        }\n      })();\n    }\n  }, [mode, mainColor]);\n\n  useEffect(() => {\n    const deleteLayers = () => {\n      if (map.getLayer('likes')) {\n        map.removeLayer('likes');\n        map.removeSource('likes');\n      }\n      if (map.getLayer('dislikes')) {\n        map.removeLayer('dislikes');\n        map.removeSource('dislikes');\n      }\n      if (map.getLayer('boundryLine')) map.removeLayer('boundryLine');\n      if (map.getLayer('boundry')) map.removeLayer('boundry');\n      if (map.getSource('boundary-source')) map.removeSource('boundary-source');\n    };\n\n    if (mode === 0) {\n      deleteLayers();\n      if (userLocationMarker) userLocationMarker.remove();\n    }\n\n    if (mode === 1) {\n      deleteLayers();\n    }\n  }, [mode]);\n\n  /* -------------------------------------------------------------------------- */\n  /*                                 situational                                */\n  /* -------------------------------------------------------------------------- */\n  if (mapReducer.flyToClub.state === true) {\n    // log('%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%', clubMarker !== null, clubMarker);\n    if (clubMarker !== null) {\n      log('remove the fucking marker pleeeeeeeeeeeeeeeeeeeeeeeeease');\n      clubMarker.remove();\n    }\n\n    if (clubReducer.logoBase64) {\n      const el = document.createElement('div');\n      el.style.background = `url(data:image/png;base64,${clubReducer.logoBase64})`;\n      el.style['background-position'] = 'center';\n      el.style['background-size'] = 'contain';\n      el.style.height = `60px`;\n      el.style.width = `60px`;\n      el.style['background-repeat'] = 'no-repeat';\n      clubMarker = new mapboxgl.Marker(el);\n      clubMarker.setLngLat(clubReducer.cityCoords);\n      clubMarker.addTo(map);\n    }\n\n    setTimeout(() => {\n      dispatch(mapActions.updateFlyToClub({ state: false, coord: [] }));\n    }, 10);\n  }\n\n  if (mapReducer.flyTo.state === true) {\n    if (mapReducer.flyTo.coord.length === 2) {\n      if (searchMarker !== null) {\n        searchMarker.remove();\n      }\n\n      map.flyTo({\n        center: mapReducer.flyTo.coord,\n        zoom: 5,\n        essential: true, // this animation is considered essential with respect to prefers-reduced-motion\n      });\n      searchMarker = new mapboxgl.Marker({\n        draggable: false,\n      });\n      searchMarker.setLngLat(mapReducer.flyTo.coord);\n      searchMarker.addTo(map);\n      dispatch(mapActions.updateFlyTo({ state: false, coord: [] }));\n    } else {\n      if (searchMarker !== null) {\n        searchMarker.remove();\n      }\n      const c = mapReducer.flyTo.coord;\n      map.fitBounds([\n        [c[0], c[1]],\n        [c[2], c[3]],\n      ]);\n\n      const poly = turf.bboxPolygon(c);\n      const centerOfPoly = turf.centroid(poly);\n      log('----------------------------------', centerOfPoly);\n      searchMarker = new mapboxgl.Marker({\n        draggable: false,\n      });\n\n      searchMarker.setLngLat(centerOfPoly.geometry.coordinates);\n      searchMarker.addTo(map);\n      dispatch(mapActions.updateFlyTo({ state: false, coord: [] }));\n    }\n  }\n\n  /* -------------------------------------------------------------------------- */\n  /*                                   return                                   */\n  /* -------------------------------------------------------------------------- */\n  return (\n    <>\n      <div\n        ref={function ref(el) {\n          mapContainer = el;\n        }}\n        className=\"mapContainer\"\n      />\n      {mode === 2 ? (\n        <>\n          <div id=\"state-legend\" className=\"legend\" hidden={legends === 0}>\n            <h4>Population</h4>\n            <div>\n              <span style={{ backgroundColor: helper.c0 }} />\n              {helper.step0}\n            </div>\n            <div>\n              <span style={{ backgroundColor: helper.c1 }} />\n              {helper.step1}\n            </div>\n            <div>\n              <span style={{ backgroundColor: helper.c2 }} />\n              {helper.step2}\n            </div>\n            <div>\n              <span style={{ backgroundColor: helper.c3 }} />0\n            </div>\n          </div>\n          <div\n            id=\"state-legend\"\n            className=\"legend legend-chart\"\n            style={{ width: chartWidth }}\n            hidden={legends === 1}\n          >\n            <h4>Population</h4>\n            <div>\n              <Line\n                options={{\n                  tooltips: {\n                    displayColors: false,\n                    // backgroundColor: 'black',\n                    enabled: true,\n                    mode: 'multiple',\n                    bodyFontSize: 15,\n                    bodyFontFamily: 'Gamja Flower',\n                    bodyFontColor: 'white',\n                    yPadding: 5,\n                    xPadding: 5,\n                    cornerRadius: 4,\n                    bodyFontStyle: 'bold',\n                  },\n                  legend: {\n                    display: true,\n                  },\n                  layout: {\n                    padding: {\n                      left: 0,\n                      right: 0,\n                      top: 0,\n                      bottom: 0,\n                    },\n                  },\n                  scales: {\n                    yAxes: [\n                      {\n                        ticks: {},\n                      },\n                    ],\n                    xAxes: [\n                      {\n                        ticks: {},\n                      },\n                    ],\n                  },\n                  maintainAspectRatio: true,\n                  animation: true,\n                }}\n                data={{\n                  labels: ['0', '1', '2', '3', '4', '5', '6'],\n\n                  datasets: [\n                    {\n                      label: 'total',\n                      fill: false,\n                      lineTension: 0.1,\n                      backgroundColor: 'rgba(75,192,192,0.4)',\n                      borderColor: '#2196f3',\n                      borderCapStyle: 'butt',\n                      borderDash: [],\n                      borderDashOffset: 0.0,\n                      borderJoinStyle: 'miter',\n                      pointBorderColor: 'rgba(75,192,192,1)',\n                      pointBackgroundColor: '#fff',\n                      pointBorderWidth: 1,\n                      pointHoverRadius: 5,\n                      pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n                      pointHoverBorderColor: 'rgba(220,220,220,1)',\n                      pointHoverBorderWidth: 2,\n                      pointRadius: 3,\n                      pointHitRadius: 10,\n                      data: helper.chartTotal,\n                    },\n                    {\n                      label: 'male',\n                      fill: false,\n                      lineTension: 0.1,\n                      backgroundColor: 'rgba(75,192,192,0.4)',\n                      borderColor: '#fb8c00',\n                      borderCapStyle: 'butt',\n                      borderDash: [],\n                      borderDashOffset: 0.0,\n                      borderJoinStyle: 'miter',\n                      pointBorderColor: 'rgba(75,192,192,1)',\n                      pointBackgroundColor: '#fff',\n                      pointBorderWidth: 1,\n                      pointHoverRadius: 5,\n                      pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n                      pointHoverBorderColor: 'rgba(220,220,220,1)',\n                      pointHoverBorderWidth: 2,\n                      pointRadius: 3,\n                      pointHitRadius: 10,\n                      data: helper.chartMales,\n                    },\n                    {\n                      label: 'female',\n                      fill: false,\n                      lineTension: 0.1,\n                      backgroundColor: 'rgba(75,192,192,0.4)',\n                      borderColor: '#673ab7',\n                      borderCapStyle: 'butt',\n                      borderDash: [],\n                      borderDashOffset: 0.0,\n                      borderJoinStyle: 'miter',\n                      pointBorderColor: 'rgba(75,192,192,1)',\n                      pointBackgroundColor: '#fff',\n                      pointBorderWidth: 1,\n                      pointHoverRadius: 5,\n                      pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n                      pointHoverBorderColor: 'rgba(220,220,220,1)',\n                      pointHoverBorderWidth: 2,\n                      pointRadius: 3,\n                      pointHitRadius: 10,\n                      data: helper.chartFemales,\n                    },\n                  ],\n                }}\n              />\n            </div>\n          </div>\n          <div id=\"stop-virtualization\" className=\"legend-stop-virtualization\">\n            <IconButton style={{ padding: 3, color: '#dd2c01' }}>\n              <Link\n                variant=\"body2\"\n                component={RedirectTo}\n                to=\"/\"\n                style={{ height: '24px', width: '24px' }}\n              >\n                <CloseRoundedIcon />\n              </Link>\n            </IconButton>\n          </div>\n\n          <div id=\"show-chart\" className=\"legend-show-chart\">\n            <IconButton style={{ padding: 3, color: '#263238' }}>\n              <Link\n                variant=\"body2\"\n                onClick={handleLegendsVisibility}\n                style={{ height: '24px', width: '24px' }}\n              >\n                {legends === 0 ? <FormatListBulletedRoundedIcon /> : <TrendingUpRoundedIcon />}\n              </Link>\n            </IconButton>\n          </div>\n\n          <div id=\"link-legend\" className=\"legend-Link\">\n            <IconButton style={{ padding: 3, color: '#263238' }} onClick={handleShreButtons}>\n              <ShareRoundedIcon />\n            </IconButton>\n          </div>\n          {openShareButtons ? <ShareButtons url={window.location.href} c=\"content\" /> : null}\n        </>\n      ) : null}\n    </>\n  );\n}\n\nexport default withRouter(Map);\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:makeNewUser');\n\nexport default function makeNewUser(user) {\n  log('user is : ', user);\n  return new Promise((resolve, reject) => {\n    axios\n      .post('https://www.fansclub.app/api/v1/POST/makeNewUser', user)\n      .then(res => {\n        log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status.code,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:isUserNew');\n\nexport default function isUserNew(email) {\n  return new Promise((resolve, reject) => {\n    axios\n      .post('https://www.fansclub.app/api/v1/POST/isUserNew', { email })\n      .then(res => {\n        log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","import React from 'react';\n\n// material-ui component\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default function ErrorModal(props) {\n  const [open, setOpen] = React.useState(true);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  function renderErrors() {\n    const errArray = [];\n    props.errors.forEach((obj, i) => {\n      Object.keys(obj).forEach(key => {\n        errArray.push(\n          <DialogContentText style={{ color: 'red' }} key={i}>\n            {obj[key]}\n          </DialogContentText>\n        );\n      });\n    });\n    return errArray;\n  }\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">ERROR</DialogTitle>\n        <DialogContent>{renderErrors()}</DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","// debug\nimport debug from 'debug';\nimport React, { useState } from 'react';\nimport { Redirect, Link as RouterLink } from 'react-router-dom';\nimport { useSelector /* useDispatch */ } from 'react-redux';\nimport { useSnackbar } from 'notistack';\nimport hello from 'hellojs';\nimport { FacebookLoginButton, GoogleLoginButton } from 'react-social-login-buttons';\nimport { DatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\n\n// material-ui component\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Hidden from '@material-ui/core/Hidden';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\n\n// api\nimport makeNewUsedrApi from '../api/makeNewUser';\nimport isUserNewApi from '../api/isUserNew';\n// action\n/*  */\n\n// theme\nimport errorTheme from '../themes/error';\n\n// COMPONENT\nimport ModalError from './modalError';\n\n// --debug\nconst log = debug('log:signupComponent');\n\nconst RedirectToLink = React.forwardRef((props, ref) => <RouterLink innerRef={ref} {...props} />);\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    zIndex: -1,\n    boxShadow: 'none',\n  },\n  image: {\n    backgroundImage: 'url(./img/3.jpeg)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'dark' ? theme.palette.grey[900] : theme.palette.grey[50],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    position: 'fixed',\n    // width: '-webkit-fill-available',\n    // height: '-webkit-fill-available',\n    // position: 'fixed',\n    // top: 0,\n    // bottom: 0,\n    // left: 0,\n    // right: 0,\n    zIndex: -1,\n    width: '100%',\n    height: '100%',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n    backgroundColor: theme.palette.background.default,\n    boxShadow: 'none',\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  button: {\n    marginRight: theme.spacing(1),\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  activeAccountBtn: {\n    margin: '21px 0px',\n  },\n  paper: {\n    margin: '25% 10% 10% 10%',\n    boxShadow: 'none',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  stepper: {\n    padding: theme.spacing(0),\n    margin: theme.spacing(0, 0, 2, 0),\n    background: theme.palette.background.default,\n    width: '-webkit-fill-available',\n    marginBottom: '20%',\n  },\n  stepperBody: {\n    '& > *': {\n      marginBottom: '7%',\n    },\n  },\n  stepperBodyParrent: {\n    width: '-webkit-fill-available',\n    textAlign: 'center',\n  },\n  title: {\n    marginBottom: '20%',\n  },\n}));\n\nhello.init(\n  {\n    facebook: '726965834493962',\n    google: '951334179095-359plh303nv4b6oi184594gi11jmpvfk.apps.googleusercontent.com',\n  },\n  { redirect_uri: 'https://www.fansclub.app/auth/google/callback' }\n);\n\nexport default function Signup() {\n  const { enqueueSnackbar } = useSnackbar();\n  // const dispatch = useDispatch();\n  const signupReducers = useSelector(state => state.signup);\n\n  const classes = useStyles();\n\n  // local states\n  const [state, setState] = useState({\n    modalErrors: [],\n    submitOnHold: false,\n    redirect: false,\n    selectedDate: new Date(0),\n    gender: undefined,\n    genderErr: undefined,\n    isNewUser: undefined,\n    activeStep: 0,\n    try: false,\n  });\n\n  const [user, setUser] = useState({});\n\n  function getSteps() {\n    return ['submit location', 'signup with', 'complete registration'];\n  }\n  const steps = getSteps();\n\n  function handleChange(event) {\n    setState({ ...state, gender: event.target.value });\n  }\n\n  function handleBack() {\n    setState({ ...state, activeStep: state.activeStep - 1 });\n  }\n\n  function onModalErrorClose() {\n    setState({ ...state, modalErrors: [] });\n  }\n\n  function handleDateChange(e) {\n    log('DATE', e);\n    setState({ ...state, selectedDate: new Date(e) });\n  }\n\n  function signup(_user) {\n    return new Promise((resolve, reject) => {\n      console.log(user);\n      const extendedUser = _user;\n      extendedUser.location = signupReducers.location;\n      extendedUser.address = signupReducers.address;\n      extendedUser.birth = state.selectedDate;\n      extendedUser.gender = state.gender;\n\n      log('extendedUser', extendedUser);\n      makeNewUsedrApi(extendedUser)\n        .then(res => {\n          log('newUserApi res', res);\n          localStorage.setItem('fans-club', res.data.token);\n          enqueueSnackbar(`${res.data.snackMsg}`, { variant: 'success' });\n          /* TODO: change user reducer */\n          resolve();\n        })\n        .catch(err => {\n          if (err.status === 503) {\n            enqueueSnackbar('Network Error', { variant: 'error' });\n          } else {\n            console.log('errrrrrrrrrrrrrrrr', err);\n            setState({\n              ...state,\n              modalErrors: [err],\n            });\n          }\n          reject();\n        });\n    });\n  }\n\n  if (state.try === true) {\n    // setState({ ...state, try: false });\n\n    isUserNewApi(user.email)\n      .then(res => {\n        console.log('reeeeeeeeeeeees', res);\n        if (res.data.err) {\n          setState({\n            ...state,\n            modalErrors: [{ other: res.data.other }],\n            isNewuser: false,\n            try: false,\n          });\n        } else {\n          setState({\n            ...state,\n            isNewuser: true,\n            try: false,\n          });\n        }\n      })\n      .catch(err => {\n        console.log('errrrrrrrrrrrrrrrrrrr', err);\n        if (err === 'network error') {\n          setState({\n            ...state,\n            modalErrors: [{ other: 'network error' }],\n            isNewuser: false,\n            try: false,\n          });\n        }\n\n        // else {\n        //   setState({\n        //     ...state,\n        //     modalErrors: [err],\n        //     isNewuser: false,\n        //     try: false,\n        //   });\n        // }\n      });\n  }\n\n  const handleNext = () => {\n    if (state.activeStep === 1) {\n      return setState({ ...state, activeStep: state.activeStep + 1 });\n    }\n    if (state.activeStep === 2) {\n      if (state.selectedDate && state.gender) {\n        signup(user)\n          .then(() => {\n            return setState({ ...state, activeStep: state.activeStep + 1 });\n          })\n          .catch(() => {\n            return false;\n          });\n      }\n\n      if (!state.gender) {\n        setState({ ...state, genderErr: true });\n      }\n\n      if (state.gender) {\n        setState({ ...state, genderErr: false });\n      }\n    } else {\n      return setState({ ...state, activeStep: state.activeStep + 1 });\n    }\n    return undefined;\n  };\n\n  function getStepContent(step) {\n    switch (step) {\n      case 0:\n        return (\n          <>\n            {signupReducers.location ? (\n              <div className={classes.stepperBody}>\n                <Typography className={classes.instructions}>\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n                  incididunt ut labore et dolore magna aliqua.\n                </Typography>\n\n                <Typography className={classes.instructions}>\n                  {signupReducers.address || undefined}\n                </Typography>\n\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submit}\n                  disabled={state.submitOnHold === true}\n                  component={RedirectToLink}\n                  to=\"/signup/getUserLocation\"\n                >\n                  change your location\n                </Button>\n              </div>\n            ) : (\n              <div className={classes.stepperBody}>\n                <Typography className={classes.instructions}>\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n                  incididunt ut labore et dolore magna aliqua.\n                </Typography>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  disabled={state.submitOnHold === true}\n                  component={RedirectToLink}\n                  to=\"/signup/getUserLocation\"\n                >\n                  Choose your location on map\n                </Button>\n              </div>\n            )}\n          </>\n        );\n      case 1:\n        return (\n          <div className={classes.stepperBody}>\n            {/* <Typography className={classes.instructions}>Signin with</Typography> */}\n            <FormControl fullWidth disabled={signupReducers.location === undefined}>\n              <GoogleLoginButton\n                onClick={() => {\n                  hello('google')\n                    .login({\n                      scope: 'email',\n                      force: true,\n                      display: 'popup',\n                    })\n                    .then(\n                      resp => {\n                        console.log(resp);\n                        hello('google')\n                          .api('me')\n                          .then(\n                            handler => {\n                              setUser({\n                                from: 'google',\n                                email: handler.email,\n                                firstname: handler.first_name,\n                                lastname: handler.last_name,\n                                fullname: handler.name,\n                                picture: handler.picture,\n                                thumbnail: handler.thumbnail,\n                                googleId: handler.id,\n                              });\n                              setState({ ...state, try: true });\n                            },\n                            e => {\n                              setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                            }\n                          );\n                      },\n                      e => {\n                        console.log(e);\n                        setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                      }\n                    );\n                }}\n              />\n\n              <FacebookLoginButton\n                onClick={() => {\n                  hello('facebook')\n                    .login()\n                    .then(\n                      resp => {\n                        console.log(resp);\n                        hello('facebook')\n                          .api('me')\n                          .then(\n                            handler => {\n                              setUser({\n                                from: 'facebook',\n                                email: handler.email,\n                                firstname: handler.first_name,\n                                lastname: handler.last_name,\n                                fullname: handler.name,\n                                picture: handler.picture,\n                                thumbnail: handler.thumbnail,\n                                facebookId: handler.id,\n                              });\n                              setState({ ...state, try: true });\n                            },\n                            e => {\n                              setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                            }\n                          );\n                      },\n                      e => {\n                        setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                      }\n                    );\n                }}\n              />\n            </FormControl>\n          </div>\n        );\n      case 2:\n        return (\n          <div className={classes.stepperBody}>\n            <Typography className={classes.instructions}>\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n              incididunt ut labore et dolore magna aliqua.\n            </Typography>\n\n            <FormControl fullWidth className={classes.formStyle} variant=\"outlined\" noValidate>\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <DatePicker\n                  disableFuture\n                  openTo=\"year\"\n                  format=\"dd/MM/yyyy\"\n                  label=\"Date of birth\"\n                  views={['year', 'month', 'date']}\n                  value={state.selectedDate}\n                  onChange={handleDateChange}\n                />\n              </MuiPickersUtilsProvider>\n              <FormLabel\n                component=\"legend\"\n                style={{\n                  fontWeight: 600,\n                  textAlign: 'left',\n                  margin: '30px 0px 15px 0px',\n                  fontSize: 'large',\n                  color: 'rgb(230, 230, 250)',\n                  background: '#4caf50',\n                  width: 'fit-content',\n                  padding: '10px',\n                  borderRadius: '5px',\n                }}\n              >\n                Gender\n              </FormLabel>\n              <RadioGroup\n                aria-label=\"gender\"\n                name=\"gender1\"\n                value={state.gender}\n                onChange={handleChange}\n                row\n              >\n                <FormControlLabel value=\"male\" control={<Radio />} label=\"Male\" />\n                <FormControlLabel value=\"female\" control={<Radio />} label=\"Female\" />\n                <FormControlLabel value=\"other\" control={<Radio />} label=\"Other\" />\n              </RadioGroup>\n              <FormHelperText>\n                {state.genderErr === true ? 'gender is required' : undefined}\n              </FormHelperText>\n            </FormControl>\n            {state.modalErrors.length ? (\n              <ModalError errors={state.modalErrors} handleClick={onModalErrorClose} />\n            ) : (\n              undefined\n            )}\n          </div>\n        );\n      default:\n        return 'Unknown step';\n    }\n  }\n\n  function handleNextDisable() {\n    let val = true;\n    if (state.activeStep === 0 && signupReducers.location) {\n      val = false;\n    }\n    if (state.activeStep === 1 && state.isNewuser === true) {\n      val = false;\n    }\n    if (state.activeStep === 2) {\n      val = false;\n    }\n    return val;\n  }\n\n  return (\n    <>\n      {state.redirect ? <Redirect to={state.redirect} push /> : undefined}\n\n      <Grid container component=\"main\" className={classes.root}>\n        <CssBaseline />\n        <Hidden xsDown>\n          <Grid item xs={false} sm={12} md={12} className={classes.image} />\n        </Hidden>\n        <Grid item xs={false} sm={2} md={3} />\n        <Grid\n          className={classes.form}\n          item\n          xs={12}\n          sm={8}\n          md={6}\n          component={Paper}\n          elevation={6}\n          square\n        >\n          <div className={classes.paper}>\n            <Typography className={classes.title} color=\"secondary\" component=\"h5\" variant=\"h3\">\n              Signup\n            </Typography>\n            <Stepper activeStep={state.activeStep} alternativeLabel className={classes.stepper}>\n              {steps.map(label => (\n                <Step key={label}>\n                  <StepLabel>{label}</StepLabel>\n                </Step>\n              ))}\n            </Stepper>\n\n            <div className={classes.stepperBodyParrent}>\n              {state.activeStep === steps.length ? (\n                <div className={classes.stepperBody}>\n                  <Typography className={classes.instructions}>\n                    All steps completed - you&apos;re finished\n                  </Typography>\n                  <ThemeProvider theme={errorTheme}>\n                    <Button\n                      color=\"primary\"\n                      component={RedirectToLink}\n                      to=\"/\"\n                      className={classes.button}\n                    >\n                      Back To Home\n                    </Button>\n                  </ThemeProvider>\n                </div>\n              ) : (\n                <>\n                  <div className={classes.instructions}>{getStepContent(state.activeStep)}</div>\n                  <div>\n                    <ThemeProvider theme={errorTheme}>\n                      <Button\n                        disabled={state.activeStep === 0}\n                        onClick={handleBack}\n                        className={classes.button}\n                        color=\"primary\"\n                        variant=\"contained\"\n                      >\n                        Back\n                      </Button>\n                    </ThemeProvider>\n\n                    <Button\n                      variant=\"contained\"\n                      disabled={handleNextDisable()}\n                      color=\"primary\"\n                      onClick={handleNext}\n                      className={classes.button}\n                    >\n                      {state.activeStep === steps.length - 1 ? 'Submit' : 'Next'}\n                    </Button>\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        </Grid>\n        <Grid item xs={false} sm={2} md={3} />\n      </Grid>\n\n      {state.modalErrors.length ? (\n        <ModalError errors={state.modalErrors} handleClick={onModalErrorClose} />\n      ) : (\n        undefined\n      )}\n    </>\n  );\n}\n","import hello from 'hellojs';\n\nhello.init(\n  {\n    facebook: '726965834493962',\n    google: '951334179095-359plh303nv4b6oi184594gi11jmpvfk.apps.googleusercontent.com',\n  },\n\n  { redirect_uri: 'https://www.fansclub.app/auth/callback' }\n);\n\nwindow.hello = hello;\n\nexport default hello;\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:signin');\n\nexport default function signin(user) {\n  log('====================== user is : ', user);\n  return new Promise((resolve, reject) => {\n    axios\n      .post('https://www.fansclub.app/api/v1/POST/signin', user)\n      .then(res => {\n        log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status.code,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","import debug from 'debug';\n\nimport React, { useState } from 'react';\nimport { Redirect /* Link as  RouterLink */ } from 'react-router-dom';\nimport { FacebookLoginButton, GoogleLoginButton } from 'react-social-login-buttons';\nimport { /* useSelector */ useDispatch } from 'react-redux';\nimport { useSnackbar } from 'notistack';\n\n// material-ui component\nimport { makeStyles /* ThemeProvider */ } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Hidden from '@material-ui/core/Hidden';\nimport hello from './hello';\n\n// api\nimport signinApi from '../api/signin';\n\n// componnet\nimport ModalError from './modalError';\n\n// actions\nimport userAction from '../actions/user';\n\n// --debugger\nconst log = debug('log:signinComponent');\n\nconst useStyles = makeStyles(theme => ({\n  groupButton: {\n    marginTop: '10%',\n\n    '& > *': {\n      marginRight: theme.spacing(1),\n    },\n  },\n  root: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    zIndex: -1,\n  },\n  image: {\n    backgroundImage: 'url(./img/4.jpeg)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'dark' ? theme.palette.grey[900] : theme.palette.grey[50],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    position: 'fixed',\n    // width: '-webkit-fill-available',\n    // height: '-webkit-fill-available',\n    // position: 'fixed',\n    // top: 0,\n    // bottom: 0,\n    // left: 0,\n    // right: 0,\n    zIndex: -1,\n    width: '100%',\n    height: '100%',\n  },\n  paper: {\n    margin: '25% 10% 10% 10%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    height: '100vh',\n    marginTop: theme.spacing(1),\n    background: theme.palette.background.default,\n  },\n  formStyle: {\n    '& > *': {\n      margin: '3% 0%',\n    },\n  },\n  title: {\n    marginBottom: '20%',\n  },\n}));\n\nhello.init(\n  {\n    facebook: '726965834493962',\n    google: '951334179095-359plh303nv4b6oi184594gi11jmpvfk.apps.googleusercontent.com',\n  },\n\n  { redirect_uri: 'https://www.fansclub.app/auth/callback' }\n);\n\nexport default function Singin() {\n  const { enqueueSnackbar } = useSnackbar();\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const [state, setState] = useState({\n    modalErrors: [],\n    redirect: false,\n    try: false,\n  });\n  const [user, setUser] = useState({});\n\n  function onModalErrorClose() {\n    setState({ ...state, modalErrors: [] });\n  }\n\n  if (state.try === true) {\n    setState({ ...state, try: false });\n    log('this fucking shit is working ');\n    signinApi(user)\n      .then(res => {\n        dispatch(\n          userAction({\n            isValid: true,\n            firstname: res.data.firstname,\n            lastname: res.data.lastname,\n            likes: res.data.likes,\n            dislikes: res.data.dislikes,\n            suggests: res.data.suggests,\n            location: res.data.location,\n            from: res.data.from,\n          })\n        );\n        if (!localStorage.fans_club) {\n          enqueueSnackbar(`${res.data.snackMsg}`, { variant: 'success' });\n        }\n        localStorage.setItem('fans_club', res.data.token);\n        setState({ ...state, redirect: '/' });\n      })\n      .catch(err => {\n        setState({ ...state, try: false });\n        if (err.status === 503) {\n          enqueueSnackbar('Network Error', { variant: 'error' });\n        } else {\n          log(err);\n          setState({\n            ...state,\n            modalErrors: [err],\n          });\n        }\n      });\n  }\n\n  return (\n    <>\n      {state.redirect ? <Redirect to={state.redirect} push /> : null}\n\n      <Grid container component=\"main\" className={classes.root}>\n        <CssBaseline />\n        <Hidden xsDown>\n          <Grid item xs={false} sm={12} md={12} className={classes.image} />\n        </Hidden>\n        <Grid item xs={false} sm={2} md={3} />\n        <Grid\n          className={classes.form}\n          item\n          xs={12}\n          sm={8}\n          md={6}\n          component={Paper}\n          elevation={6}\n          square\n        >\n          <div className={classes.paper}>\n            <Typography className={classes.title} color=\"secondary\" component=\"h5\" variant=\"h3\">\n              Signin\n            </Typography>\n            <FormControl fullWidth className={classes.formStyle} variant=\"outlined\">\n              <Typography color=\"primary\" className={classes.instructions}>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n                incididunt ut labore et dolore magna aliqua.\n              </Typography>\n              <GoogleLoginButton\n                onClick={() => {\n                  hello('google')\n                    .login({\n                      scope: 'email',\n                      force: true,\n                      display: 'popup',\n                    })\n                    .then(\n                      resp => {\n                        console.log(resp);\n                        hello('google')\n                          .api('me')\n                          .then(\n                            handler => {\n                              console.log('handler', handler);\n\n                              setUser({\n                                from: 'google',\n                                email: handler.email,\n                                firstname: handler.first_name,\n                                lastname: handler.last_name,\n                                fullname: handler.name,\n                                picture: handler.picture,\n                                thumbnail: handler.thumbnail,\n                                googleId: handler.id,\n                              });\n                              setState({ ...state, try: true });\n                            },\n                            e => {\n                              setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                            }\n                          );\n                      },\n                      e => {\n                        console.log(e);\n                        setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                      }\n                    );\n                }}\n              />\n              <FacebookLoginButton\n                onClick={() => {\n                  hello('facebook')\n                    .login()\n                    .then(\n                      resp => {\n                        console.log(resp);\n                        hello('facebook')\n                          .api('me')\n                          .then(\n                            handler => {\n                              console.log(handler);\n\n                              setUser({\n                                from: 'facebook',\n                                email: handler.email,\n                                firstname: handler.first_name,\n                                lastname: handler.last_name,\n                                fullname: handler.name,\n                                picture: handler.picture,\n                                thumbnail: handler.thumbnail,\n                                facebookId: handler.id,\n                              });\n                              setState({ ...state, try: true });\n                            },\n                            e => {\n                              setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                            }\n                          );\n                      },\n                      e => {\n                        console.log('*******', e);\n                        setState({ ...state, modalErrors: [{ msg: e.error.message }] });\n                      }\n                    );\n                }}\n              />\n              {/* TODO: check it */}\n              {/* <h3 style={{ color: '#dd2c00', marginBottom: '-15px' }}>{msg}</h3> */}\n            </FormControl>\n          </div>\n        </Grid>\n        <Grid item xs={false} sm={2} md={3} />\n      </Grid>\n\n      {state.modalErrors.length ? (\n        <ModalError errors={state.modalErrors} handleClick={onModalErrorClose} />\n      ) : null}\n    </>\n  );\n}\n","import debug from 'debug';\nimport axios from 'axios';\n\nconst log = debug('log:searchClubsApi');\n\nexport default function searchClubs(str) {\n  return new Promise((resolve, reject) => {\n    axios\n      .post('https://www.fansclub.app/api/v1/POST/searchClubs', { str })\n      .then(res => {\n        // log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:isUserNew');\n\nexport default function likeClub(club) {\n  return new Promise((resolve, reject) => {\n    axios\n      .post('https://www.fansclub.app/api/v1/POST/likeClub', {\n        token: localStorage.fans_club,\n        club,\n      })\n      .then(res => {\n        log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:isUserNew');\n\nexport default function likeClub(club) {\n  return new Promise((resolve, reject) => {\n    axios\n      .post('https://www.fansclub.app/api/v1/POST/dislikeClub', {\n        token: localStorage.fans_club,\n        club,\n      })\n      .then(res => {\n        log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","/* eslint-disable react/prop-types */\nimport debug from 'debug';\nimport React, { useState } from 'react';\n// import { Redirect } from 'react-router-dom';\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport { useDispatch } from 'react-redux';\nimport { useSnackbar } from 'notistack';\n\n// material-ui component\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\n// API\nimport searchClubsApi from '../api/searchClubs';\nimport likeClubApi from '../api/likeClub';\nimport dislikeClubApi from '../api/dislikeClub';\n\n// themes\nimport errorTheme from '../themes/error';\n\n// actions\nimport userAction from '../actions/user';\n\n// component\nimport ModalError from './modalError';\n\n// --debugger\nconst log = debug('log:addNewTeam');\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n}));\n\nexport default function AddNewClub(props) {\n  const dispatch = useDispatch();\n\n  const [open /* setOpen */] = useState(true);\n  const { enqueueSnackbar } = useSnackbar();\n\n  log(props);\n\n  const [state, setState] = useState({\n    modalErrors: [],\n    club: null,\n    clubOptions: [],\n    value: null,\n  });\n\n  const classes = useStyles();\n  const loading = open && state.clubOptions.length === 1;\n\n  const handleClose = () => {\n    // setOpen(false);\n    props.handleClose();\n  };\n\n  function handleSearch(clubObj) {\n    setState({ ...state, club: clubObj, clubOptions: [] });\n  }\n\n  function getClubs(str) {\n    console.log(str);\n    searchClubsApi(str)\n      .then(res => {\n        log('search result is', res);\n        setState({ ...state, clubOptions: res.data.clubs });\n      })\n      .catch(err => {\n        log(err);\n        if (err.status === 503) {\n          enqueueSnackbar('Network Error', { variant: 'error' });\n        } else {\n          log(err);\n          setState({\n            ...state,\n            modalErrors: [err],\n          });\n        }\n      });\n  }\n\n  function onModalErrorClose() {\n    log('clooooooooooooooose modal');\n    setState({ ...state, modalErrors: [] });\n  }\n\n  // function handleChange(event) {\n  //   setState({ ...state, value: event.target.value });\n  // }\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        fullWidth\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{props.type}</DialogTitle>\n        <DialogContent className={classes.root}>\n          <DialogContentText>Add new club</DialogContentText>\n\n          <Autocomplete\n            id=\"seatchInput\"\n            className={classes.teamsSearch}\n            options={state.clubOptions}\n            getOptionLabel={option => option.name}\n            onChange={(e, inputValue) => handleSearch(inputValue)}\n            loading={loading}\n            // getOptionSelected={(option, v) => option.name === v.name}\n            // style={{ width: 300 }}\n            renderInput={params => (\n              <TextField\n                {...params}\n                label=\"Combo box\"\n                variant=\"outlined\"\n                fullWidth\n                onChange={e => {\n                  getClubs(e.target.value);\n                }}\n              />\n            )}\n          />\n\n          {/* <Autocomplete\n            // className={classes.teamsSearch}\n            // style={{ width: 300 }}\n            open={open}\n            // onOpen={() => {\n            //   setOpen(true);\n            // }}\n            // onClose={() => {\n            //   setOpen(false);\n            // }}\n            value={state.value}\n            onChange={(e, inputValue) => handleSearch(inputValue)}\n            getOptionSelected={(option, v) => option.name === v.name}\n            getOptionLabel={option => option.name}\n            options={state.clubOptions}\n            loading={loading}\n            renderInput={params => (\n              <TextField\n                {...params}\n                placeholder=\"search teams\"\n                fullWidth\n                variant=\"outlined\"\n                onChange={e => {\n                  getClubs(e.target.value);\n                }}\n              />\n            )}\n          /> */}\n          {/* <RadioGroup\n            aria-label=\"gender\"\n            name=\"gender1\"\n            value={state.value}\n            onChange={handleChange}\n            row\n          >\n            <FormControlLabel value=\"like\" control={<Radio />} label=\"like\" />\n            <FormControlLabel value=\"dislike\" control={<Radio />} label=\"dislike\" />\n          </RadioGroup> */}\n        </DialogContent>\n\n        <DialogActions>\n          <ThemeProvider theme={errorTheme}>\n            <Button onClick={props.handleClose} color=\"primary\" variant=\"contained\">\n              close\n            </Button>\n          </ThemeProvider>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => {\n              log(props.type);\n              if (props.type === 'like') {\n                if (state.club) {\n                  likeClubApi(state.club)\n                    .then(res => {\n                      log(res);\n                      // TODO: dispatch new like to user on redux\n                      dispatch(\n                        userAction({\n                          isValid: true,\n                          firstname: res.data.firstname,\n                          lastname: res.data.lastname,\n                          likes: res.data.likes,\n                          dislikes: res.data.dislikes,\n                          suggests: res.data.suggests,\n                          location: res.data.location,\n                        })\n                      );\n                      props.handleClose();\n                    })\n                    .catch(err => {\n                      log('errrrrrror', err);\n                      if (err.status === 503) {\n                        enqueueSnackbar('Network Error', { variant: 'error' });\n                      } else {\n                        log(err);\n                        setState({\n                          ...state,\n                          modalErrors: [err],\n                        });\n                      }\n                    });\n                }\n              }\n              if (props.type === 'dislike') {\n                if (state.club) {\n                  dislikeClubApi(state.club)\n                    .then(res => {\n                      log('dislike res is :: ', res);\n                      // TODO: dispatch new like to user on redux\n                      dispatch(\n                        userAction({\n                          isValid: true,\n                          firstname: res.data.firstname,\n                          lastname: res.data.lastname,\n                          likes: res.data.likes,\n                          dislikes: res.data.dislikes,\n                          suggests: res.data.suggests,\n                          location: res.data.location,\n                        })\n                      );\n                      props.handleClose();\n                    })\n                    .catch(err => {\n                      log('errrrrrror', err);\n                      if (err.status === 503) {\n                        enqueueSnackbar('Network Error', { variant: 'error' });\n                      } else {\n                        log(err);\n                        setState({\n                          ...state,\n                          modalErrors: [err],\n                        });\n                      }\n                    });\n                }\n              }\n            }}\n          >\n            submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {state.modalErrors.length ? (\n        <ModalError errors={state.modalErrors} handleClose={onModalErrorClose} />\n      ) : null}\n    </div>\n  );\n}\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: '#2196F3',\n    },\n  },\n});\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: '#f44336',\n    },\n  },\n});\n","import debug from 'debug';\n\nimport axios from 'axios';\n\nconst log = debug('log:isUserNew');\n\nexport default function deleteClub(club, type) {\n  return new Promise((resolve, reject) => {\n    axios\n      .post('https://www.fansclub.app/api/v1/POST/deleteClub', {\n        token: localStorage.fans_club,\n        club,\n        type,\n      })\n      .then(res => {\n        log('res', res);\n        resolve({\n          data: res.data,\n          status: res.status,\n        });\n      })\n      .catch(err => {\n        log('err', err);\n\n        if (typeof err.response !== 'object')\n          reject({\n            status: 503,\n          });\n        else reject(err.response.data);\n      });\n  });\n}\n","// import debug from 'debug';\nimport { useSelector, useDispatch } from 'react-redux';\nimport React, { useState } from 'react';\nimport { Redirect, Link as RouterLink } from 'react-router-dom';\n\n// material-ui\nimport Hidden from '@material-ui/core/Hidden';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableBody from '@material-ui/core/TableBody';\nimport Table from '@material-ui/core/Table';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\n\n// COMPONENT\nimport ModalError from './modalError';\nimport AddNewClub from './addNewClub';\n\n// Themes\nimport blueTheme from '../themes/blue';\nimport redTheme from '../themes/red';\n\n// API\nimport APIDeleteClub from '../api/deleteClub';\n\n// actions\nimport userAction from '../actions/user';\n\n// --debuger\n// const log = debug('log:clubs');\n\nconst useStyles = makeStyles(theme => ({\n  groupBtn: {\n    '& > *': {\n      margin: theme.spacing(1, 0),\n    },\n  },\n\n  root: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    zIndex: -1,\n  },\n  image: {\n    backgroundImage: 'url(./img/4.jpeg)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'dark' ? theme.palette.grey[900] : theme.palette.grey[50],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    position: 'fixed',\n    // width: '-webkit-fill-available',\n    // height: '-webkit-fill-available',\n    // position: 'fixed',\n    // top: 0,\n    // bottom: 0,\n    // left: 0,\n    // right: 0,\n    zIndex: -1,\n    width: '100%',\n    height: '100%',\n  },\n  paper: {\n    margin: '25% 10% 10% 10%',\n    display: 'flex',\n    flexDirection: 'column',\n    // alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.Fix IE 11 issue.\n    height: '100vh',\n    marginTop: theme.spacing(1),\n    background: theme.palette.background.default,\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  favTeams: {\n    background: '#E0E0E0',\n    border: 'solid 1px #212f3a',\n    borderRadius: 5,\n    marginBottom: 35,\n    marginTop: 25,\n  },\n  title: {\n    marginBottom: '5%',\n  },\n  subTitle: {\n    marginTop: 30,\n  },\n  text: {\n    margin: 20,\n  },\n  formStyle: {\n    width: '-webkit-fill-available',\n\n    '& > *': {\n      margin: '3% 0%',\n    },\n  },\n}));\n\n// const RedirectToLink = React.forwardRef((props, ref) => <RouterLink innerRef={ref} {...props} />);\n\nconst redirectTo = React.forwardRef((props, ref) => <RouterLink innerRef={ref} {...props} />);\n\nexport default function Club() {\n  const dispatch = useDispatch();\n  const userReducer = useSelector(state => state.user);\n  const classes = useStyles();\n\n  const [state, setState] = useState({\n    addNewClubModal: undefined,\n    modalErrors: [],\n    onHold: false,\n    redirect: false,\n  });\n  const [onHold, setOnHold] = useState(false);\n\n  function onModalErrorClose() {\n    setState({ ...state, modalErrors: [] });\n  }\n\n  function onAddNewClubModalClose() {\n    setState({ ...state, addNewClubModal: undefined });\n  }\n\n  function handleDeleteTeams(teamId, type) {\n    // console.log(teamId, type);\n    setOnHold(true);\n\n    APIDeleteClub(teamId, type)\n      .then(res => {\n        dispatch(\n          userAction({\n            isValid: true,\n            firstname: res.data.firstname,\n            lastname: res.data.lastname,\n            likes: res.data.likes,\n            dislikes: res.data.dislikes,\n            suggests: res.data.suggests,\n            location: res.data.location,\n          })\n        );\n        console.log('...........................', res);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setOnHold(false);\n      });\n  }\n\n  return (\n    <>\n      {state.redirect ? <Redirect to={state.redirect} push /> : null}\n\n      <Grid container component=\"main\" className={classes.root}>\n        <CssBaseline />\n        <Hidden xsDown>\n          <Grid item xs={false} sm={12} md={12} className={classes.image} />\n        </Hidden>\n        <Grid item xs={false} sm={2} md={3} />\n        <Grid\n          className={classes.form}\n          // style={{ backgroundColor: 'red' }}\n          item\n          xs={12}\n          sm={8}\n          md={6}\n          component={Paper}\n          elevation={6}\n          square\n        >\n          <div className={classes.paper}>\n            {/* <Avatar className={classes.avatar}>\n              <LockOutlinedIcon />\n            </Avatar>\n            */}\n            <Typography className={classes.title} align=\"center\" color=\"secondary\" variant=\"h3\">\n              Clubs\n            </Typography>\n\n            <ThemeProvider theme={blueTheme}>\n              <Typography className={classes.subTitle} align=\"left\" color=\"primary\" variant=\"h4\">\n                Likes\n              </Typography>\n              {userReducer.likes.length ? (\n                <Typography align=\"left\" variant=\"subtitle1\">\n                  <div className={classes.favTeams}>\n                    <TableContainer component={Paper}>\n                      <Table aria-label=\"simple table\">\n                        <TableHead>\n                          <TableRow>\n                            <TableCell>Name</TableCell>\n                            <TableCell>Country</TableCell>\n                            <TableCell />\n                          </TableRow>\n                        </TableHead>\n                        <TableBody>\n                          {userReducer.likes.map(team => {\n                            console.log(team);\n                            return (\n                              <TableRow key={team._id}>\n                                <TableCell component=\"th\" scope=\"row\">\n                                  <Button\n                                    disabled={onHold}\n                                    component={redirectTo}\n                                    to={`/v/like/${team._id}`}\n                                  >\n                                    {team.name}\n                                  </Button>\n                                </TableCell>\n                                <TableCell>{team.country}</TableCell>\n                                <TableCell align=\"right\">\n                                  <Button\n                                    disabled={onHold}\n                                    // autoFocus\n                                    color=\"primary\"\n                                    // className={classes.deleteButton}\n                                    // className={classes.headerLogoutButton}\n                                    onClick={() => handleDeleteTeams(team, 'like')}\n                                  >\n                                    delete\n                                  </Button>\n                                </TableCell>\n                              </TableRow>\n                            );\n                          })}\n                        </TableBody>\n                      </Table>\n                    </TableContainer>\n                  </div>\n                </Typography>\n              ) : (\n                <Typography className={classes.text} align=\"left\" variant=\"subtitle1\">\n                  You didn&rsquo;t add any club yet\n                </Typography>\n              )}\n              {userReducer.likes.length < 5 ? (\n                <Button\n                  // onClick={handleClose}\n                  // className={classes.addNewTeamBtn}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  // component={RedirectToLink}\n                  // to=\"/teams/addnewteam\"\n                  style={{ marginRight: '10px' }}\n                  onClick={() => {\n                    setState({ ...state, addNewClubModal: 'like' });\n                  }}\n                >\n                  LIKE A CLUB\n                </Button>\n              ) : null}\n            </ThemeProvider>\n            <ThemeProvider theme={redTheme}>\n              <Typography className={classes.subTitle} align=\"left\" color=\"primary\" variant=\"h4\">\n                Dislikes\n              </Typography>\n              {userReducer.dislikes.length ? (\n                <Typography align=\"left\" variant=\"subtitle1\">\n                  <div className={classes.favTeams}>\n                    <TableContainer component={Paper}>\n                      <Table aria-label=\"simple table\">\n                        <TableHead>\n                          <TableRow>\n                            <TableCell>Name</TableCell>\n                            <TableCell>Country</TableCell>\n                            <TableCell />\n                          </TableRow>\n                        </TableHead>\n                        <TableBody>\n                          {userReducer.dislikes.map(team => {\n                            console.log(team);\n                            return (\n                              <TableRow key={team._id}>\n                                <TableCell component=\"th\" scope=\"row\">\n                                  <Button\n                                    disabled={onHold}\n                                    component={redirectTo}\n                                    to={`/v/dislike/${team._id}`}\n                                  >\n                                    {team.name}\n                                  </Button>\n                                </TableCell>\n                                <TableCell>{team.country}</TableCell>\n                                <TableCell align=\"right\">\n                                  <Button\n                                    disabled={onHold}\n                                    // autoFocus\n                                    color=\"primary\"\n                                    // className={classes.deleteButton}\n                                    // className={classes.headerLogoutButton}\n                                    onClick={() => handleDeleteTeams(team, 'dislike')}\n                                  >\n                                    delete\n                                  </Button>\n                                </TableCell>\n                              </TableRow>\n                            );\n                          })}\n                        </TableBody>\n                      </Table>\n                    </TableContainer>\n                  </div>\n                </Typography>\n              ) : (\n                <Typography className={classes.text} align=\"left\" variant=\"subtitle1\">\n                  You didn&rsquo;t add any club yet\n                </Typography>\n              )}\n\n              {userReducer.dislikes.length < 5 ? (\n                <Button\n                  // onClick={handleClose}\n                  // className={classes.addNewTeamBtn}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  // component={RedirectToLink}\n                  // to=\"/teams/addnewteam\"\n                  style={{ marginRight: '10px' }}\n                  onClick={() => {\n                    setState({ ...state, addNewClubModal: 'dislike' });\n                  }}\n                >\n                  DISLIKE A CLUB\n                </Button>\n              ) : null}\n            </ThemeProvider>\n          </div>\n        </Grid>\n        <Grid item xs={false} sm={2} md={3} />\n      </Grid>\n\n      {state.modalErrors.length ? (\n        <ModalError errors={state.modalErrors} handleClose={onModalErrorClose} />\n      ) : null}\n\n      {state.addNewClubModal ? (\n        <AddNewClub type={state.addNewClubModal} handleClose={onAddNewClubModalClose} />\n      ) : null}\n    </>\n  );\n}\n\n// <div className={classes.formStyle}>\n//   {/* <TableContainer component={Paper}>\n//               <Table aria-label=\"simple table\">\n//                  <TableHead>\n//             <TableRow>\n//               <TableCell>Dessert (100g serving)</TableCell>\n//               <TableCell align=\"right\">Calories</TableCell>\n//               <TableCell align=\"right\">Fat&nbsp;(g)</TableCell>\n//               <TableCell align=\"right\">Carbs&nbsp;(g)</TableCell>\n//               <TableCell align=\"right\">Protein&nbsp;(g)</TableCell>\n//             </TableRow>\n//           </TableHead>\n\n//                  {rows.map(row => (\n//             <TableRow key={row.name}>\n//               <TableCell component=\"th\" scope=\"row\">\n//                 {row.name}\n//               </TableCell>\n//               <TableCell align=\"right\">{row.calories}</TableCell>\n//               <TableCell align=\"right\">{row.fat}</TableCell>\n//               <TableCell align=\"right\">{row.carbs}</TableCell>\n//               <TableCell align=\"right\">{row.protein}</TableCell>\n//             </TableRow>\n//           ))}\n//               </Table>\n//             </TableContainer> */}\n\n//   {userReducer.likes.length || userReducer.dislikes.length ? (\n//     <Typography variant=\"h5\">\n//                 choose your side\n//       {/* <ThumbDownAltTwoToneIcon\n//                 style={{ color: '#dd2c00', fontSize: 25, marginLeft: 10 }}\n//               /> */}\n//     </Typography>\n//             ) : null}\n\n//   {userReducer.likes.length ? (\n//     <div className={classes.favTeams}>\n//       <TableContainer component={Paper}>\n//         <Table aria-label=\"simple table\">\n//           <TableHead>\n//             <TableRow>\n//               <TableCell>Name</TableCell>\n//               <TableCell>Country</TableCell>\n//               <TableCell />\n//             </TableRow>\n//           </TableHead>\n//           <TableBody>\n//             {userReducer.likes.map(team => {\n//                         console.log(team);\n//                         return (\n//                           <TableRow key={team._id}>\n//                             <TableCell component=\"th\" scope=\"row\">\n//                               {team.name}\n//                             </TableCell>\n//                             <TableCell>{team.country}</TableCell>\n//                             <TableCell align=\"right\">\n//                               <Button\n//                                 disabled={state.onHold}\n//                                 // autoFocus\n//                                 color=\"primary\"\n//                                 // className={classes.deleteButton}\n//                                 // className={classes.headerLogoutButton}\n//                                 onClick={() => handleDeleteTeams(team, 'like')}\n//                               >\n//                                 delete\n//                               </Button>\n//                             </TableCell>\n//                           </TableRow>\n//                         );\n//                       })}\n//           </TableBody>\n//         </Table>\n//       </TableContainer>\n//     </div>\n//             ) : null}\n\n//   {userReducer.dislikes.length ? (\n//     <div className={classes.favTeams}>\n//       <TableContainer component={Paper}>\n//         <Table aria-label=\"simple table\">\n//           <TableHead>\n//             <TableRow>\n//               <TableCell>Name</TableCell>\n//               <TableCell>Country</TableCell>\n//               <TableCell />\n//             </TableRow>\n//           </TableHead>\n//           <TableBody>\n//             {userReducer.dislikes.map(team => {\n//                         console.log(team);\n//                         return (\n//                           <TableRow key={team._id}>\n//                             <TableCell component=\"th\" scope=\"row\">\n//                               {team.name}\n//                             </TableCell>\n//                             <TableCell>{team.country}</TableCell>\n//                             <TableCell align=\"right\">\n//                               <Button\n//                                 disabled={state.onHold}\n//                                 // autoFocus\n//                                 color=\"primary\"\n//                                 // autoFocus\n//                                 // color=\"secondary\"\n//                                 // className={classes.deleteButton}\n//                                 // className={classes.headerLogoutButton}\n//                                 onClick={() => handleDeleteTeams(team, 'dislike')}\n//                               >\n//                                 delete\n//                               </Button>\n//                             </TableCell>\n//                           </TableRow>\n//                         );\n//                       })}\n//           </TableBody>\n//         </Table>\n//       </TableContainer>\n//     </div>\n//             ) : null}\n\n//   {/* {likesReducer.length < 5 ? ( */}\n//   <div className={classes.groupBtn}>\n//     <Button\n//                 // onClick={handleClose}\n//                 // className={classes.addNewTeamBtn}\n//       variant=\"contained\"\n//       color=\"secondary\"\n//                 // component={RedirectToLink}\n//                 // to=\"/teams/addnewteam\"\n//       style={{ marginRight: '10px' }}\n//       onClick={() => {\n//                   setState({ ...state, addNewClubModal: 'like' });\n//                 }}\n//     >\n//                 add new team\n//     </Button>\n//     <Button\n//                 // onClick={handleClose}\n//                 // className={classes.addNewTeamBtn}\n//                 // variant=\"contained\"\n//       color=\"secondary\"\n//       component={RedirectToLink}\n//       to=\"/teams/offernewteam\"\n//     >\n//                 offer a new team\n//     </Button>\n//   </div>\n//   {/* ) : null} */}\n//   {/* <Typography variant=\"h5\" className={classes.titleIcon}>\n//             Hated\n//             <ThumbDownAltTwoToneIcon style={{ color: '#dd2c00', fontSize: 25, marginLeft: 10 }} />\n//           </Typography> */}\n// </div>\n","export default function updateClub(payload) {\n  return {\n    type: 'UPDATE_SEARCH',\n    payload,\n  };\n}\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport axios from 'axios';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport debug from 'debug';\nimport { useSnackbar } from 'notistack';\n\n// material-ui component\nimport { makeStyles, Button } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Divider from '@material-ui/core/Divider';\nimport RoomIcon from '@material-ui/icons/Room';\nimport SportsSoccerIcon from '@material-ui/icons/SportsSoccer';\nimport ThumbUpAltRoundedIcon from '@material-ui/icons/ThumbUpAltRounded';\nimport ThumbDownAltRoundedIcon from '@material-ui/icons/ThumbDownAltRounded';\n\n// actions\nimport mapActions from '../actions/map';\nimport clubAction from '../actions/club';\nimport searchAction from '../actions/search';\n\n// api\nimport searchClubsApi from '../api/searchClubs';\n\n// --debug\nconst log = debug('log:search');\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n    maxWidth: 400,\n    margin: 10,\n    borderRadius: 100,\n    background: '#ffffffbd',\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n    margin: 5,\n    color: theme.palette.primary.main,\n    background: '#bdbdbd82',\n  },\n  iconButtonSelected: {\n    color: 'white',\n\n    padding: 10,\n    margin: 5,\n    background: theme.palette.primary.main,\n    '&:hover': {\n      background: theme.palette.secondary.main,\n    },\n  },\n  divider: {\n    height: 28,\n    margin: 4,\n  },\n  searchInput: {\n    borderRadius: '100px',\n  },\n}));\n\nfunction Search(props) {\n  const dispatch = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  // reducers\n  const mapCenterReducer = useSelector(global => global.map.center);\n  const searchModeReducer = useSelector(global => global.search);\n\n  const [state, setState] = useState({\n    modalErrors: [],\n    searchMode: 'team',\n    open: false,\n  });\n\n  const [options, setOptions] = useState([]);\n\n  const [redirect, setRedirect] = useState(false);\n\n  const { location } = props;\n  const { pathname } = location;\n\n  function handleRedirect(val) {\n    setRedirect(`/v/${searchModeReducer}/${val._id}`);\n  }\n\n  if (redirect) {\n    setTimeout(() => {\n      setRedirect('');\n    }, 0);\n  }\n\n  const pathArr = pathname.split('/');\n  if (pathArr[2] != searchModeReducer && pathArr[2]) {\n    dispatch(searchAction(pathArr[2]));\n  }\n\n  function handleChangeTeamSearchMode() {\n    if (searchModeReducer === 'like') {\n      dispatch(searchAction('dislike'));\n      if (pathArr.length > 3) {\n        setRedirect(`/v/dislike/${pathArr[3]}`);\n      }\n    } else {\n      dispatch(searchAction('like'));\n      if (pathArr.length > 3) {\n        setRedirect(`/v/like/${pathArr[3]}`);\n      }\n    }\n  }\n\n  const loading = state.open && options.length === 1;\n  const classes = useStyles();\n\n  // \"chester.json?proximity=-74.70850,40.78375&access_token=pk.eyJ1IjoibW9oZXNlbSIsImEiOiJjanR3amhqcWcxZm05NDVtcG03Nm44Ynk4In0.YUdlvT5fABnW8BReNMSuPg\"\n  function getPlacesFromMapbox(str) {\n    axios\n      .get(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${str}.json?proximity=${mapCenterReducer.lng},${mapCenterReducer.lat}&access_token=pk.eyJ1IjoibW9oZXNlbSIsImEiOiJjanR3amhqcWcxZm05NDVtcG03Nm44Ynk4In0.YUdlvT5fABnW8BReNMSuPg`\n      )\n      .then(response => {\n        const { features } = response.data;\n        const newOptions = features.map(f => {\n          // console.log(f);\n          if (f.bbox) {\n            return { name: f.place_name, center: f.bbox };\n          }\n          return { name: f.place_name, center: f.center };\n        });\n        // console.log('new options are :: ', newOptions);\n        setOptions(newOptions);\n\n        // setState({ ...state, options: newOptions });\n      })\n      .catch(error => {\n        // console.log(error);\n        if (error.response) {\n          // console.log(error.response);\n          // reject(error.response.data.msg);\n        }\n      });\n  }\n\n  // console.log('options are ::', options);\n\n  function getClubs(str) {\n    // console.log(str);\n    searchClubsApi(str)\n      .then(res => {\n        // log('search result is', res);\n        // setState({ ...state, options: res.data.clubs });\n\n        setOptions(res.data.clubs);\n      })\n      .catch(err => {\n        log(err);\n        if (err.status === 503) {\n          enqueueSnackbar('Network Error', { variant: 'error' });\n        } else {\n          log(err);\n          setState({\n            ...state,\n            modalErrors: [err],\n          });\n        }\n      });\n    // axios\n    //   .post(`https://www.fansclub.app/club/search`, { str })\n    //   .then(response => {\n    //     const { clubs } = response.data;\n    //     console.log(clubs);\n\n    //     setOptions(clubs);\n    //   })\n    //   .catch(error => {\n    //     console.log(error);\n    //   });\n  }\n\n  function handleSeachButton(name) {\n    // setOptions([]);\n    setState({ ...state, searchMode: name });\n  }\n\n  return (\n    <>\n      {redirect ? <Redirect to={redirect} push /> : null}\n\n      <div style={{ textAlign: 'center' }}>\n        <Paper className={classes.root} id=\"searchComponent\">\n          <IconButton\n            className={\n              state.searchMode === 'place' ? classes.iconButtonSelected : classes.iconButton\n            }\n            onClick={() => handleSeachButton('place')}\n            aria-label=\"search\"\n          >\n            <RoomIcon />\n          </IconButton>\n          <Divider className={classes.divider} orientation=\"vertical\" />\n          <IconButton\n            className={\n              state.searchMode === 'team' ? classes.iconButtonSelected : classes.iconButton\n            }\n            onClick={() => handleSeachButton('team')}\n            aria-label=\"directions\"\n          >\n            <SportsSoccerIcon />\n          </IconButton>\n          {state.searchMode === 'place' ? (\n            <Autocomplete\n              style={{ width: 300 }}\n              open={state.open}\n              onOpen={() => {\n                setState({ ...state, open: true });\n              }}\n              onClose={() => {\n                setState({ ...state, open: false });\n              }}\n              onChange={(e, inputValue) => {\n                if (inputValue) {\n                  dispatch(\n                    mapActions.updateFlyTo({\n                      state: true,\n                      coord: inputValue.center,\n                    })\n                  );\n                }\n              }}\n              getOptionSelected={(option, value) => option.name === value.name}\n              getOptionLabel={option => option.name}\n              options={options}\n              loading={loading}\n              renderInput={params => (\n                <TextField\n                  {...params}\n                  placeholder=\"search places\"\n                  fullWidth\n                  variant=\"outlined\"\n                  onChange={e => {\n                    getPlacesFromMapbox(e.target.value);\n                  }}\n                />\n              )}\n            />\n          ) : (\n            <Autocomplete\n              style={{ width: 300 }}\n              open={state.open}\n              onOpen={() => {\n                setState({ ...state, open: true });\n              }}\n              onClose={() => {\n                setState({ ...state, open: false });\n              }}\n              onChange={(e, inputValue) => {\n                if (inputValue) {\n                  handleRedirect(inputValue);\n                }\n              }}\n              getOptionSelected={(option, value) => option.name === value.name}\n              getOptionLabel={option => option.name}\n              options={options}\n              loading={loading}\n              renderInput={params => (\n                <TextField\n                  {...params}\n                  placeholder=\"search teams\"\n                  fullWidth\n                  variant=\"outlined\"\n                  onChange={e => {\n                    getClubs(e.target.value);\n                  }}\n                />\n              )}\n            />\n          )}\n          {state.searchMode === 'team' ? (\n            <IconButton\n              // className={\n              //   state.searchMode === 'place' ? classes.iconButtonSelected : classes.iconButton\n              // }\n              onClick={() => handleChangeTeamSearchMode()}\n              aria-label=\"search\"\n            >\n              {searchModeReducer === 'like' ? (\n                <ThumbUpAltRoundedIcon style={{ color: '#4caf50' }} />\n              ) : (\n                <ThumbDownAltRoundedIcon style={{ color: '#f44336' }} />\n              )}\n            </IconButton>\n          ) : null}\n          {/* <Button>\n            <ThumbUpAltRoundedIcon />\n          </Button> */}\n        </Paper>\n      </div>\n    </>\n  );\n}\n\nexport default withRouter(Search);\n","// react\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n// redux\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n// routers\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\n// snack\nimport { SnackbarProvider } from 'notistack';\n// material-ui components\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\n// service workers && reducers && theme\nimport * as serviceWorker from './serviceWorker';\nimport reducers from './reducers';\nimport theme from './themes/main';\n// CSS\nimport './css/main.css';\n// components\nimport Appbar from './components/appbar';\nimport Map from './components/newMap2';\n// import Map from './components/newMap';\nimport Signup from './components/signup';\nimport Signin from './components/signin';\nimport Clubs from './components/clubs';\nimport Search from './components/search';\n\n// creating store\nconst store = createStore(\n  reducers,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <SnackbarProvider>\n      <Router>\n        <ThemeProvider theme={theme}>\n          <Route path=\"/\" component={Map} />\n          <Route path=\"/\" component={Appbar} />\n          <Route\n            exact\n            path={['/', '/v', '/v/:likeOrDislike/:id', '/signup/getUserLocation']}\n            component={Search}\n          />\n          <Route exact path=\"/signup\" component={Signup} />\n\n          <Route exact path=\"/signin\" component={Signin} />\n          <Route exact path=\"/clubs\" component={Clubs} />\n\n          <CssBaseline />\n        </ThemeProvider>\n      </Router>\n    </SnackbarProvider>\n  </Provider>,\n  document.querySelector('#root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}