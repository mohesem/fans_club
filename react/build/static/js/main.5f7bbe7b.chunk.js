(this["webpackJsonpfans-club-front"]=this["webpackJsonpfans-club-front"]||[]).push([[0],{194:function(e,t,a){e.exports=a(331)},213:function(e,t,a){},331:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(12),c=a.n(r),l=a(68),i=a(16),s=a(31),d=a(60),u=a(36),m=a(395),p=a(387);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=a(6),b=Object(l.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isVlaid:void 0,suggest:void 0,firstname:void 0,lastname:void 0,likes:[],dislikes:[],suggests:[],location:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER":return Object(g.a)({},e,{},t.payload);default:return e}},signup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{phone_number:void 0,location:void 0,address:void 0,submitButtonState:!1,country_code:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SIGNUP":return Object(g.a)({},e,{},t.payload);default:return e}},club:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cityName:void 0,countyName:void 0,cityCoords:void 0,clubGroup:void 0,clubName:void 0,primaryColor:void 0,secondaryColor:void 0,logoBase64:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CLUB":return Object(g.a)({},e,{},t.payload);default:return e}},map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{center:void 0,flyTo:{state:!1,coord:void 0},flyToClub:{state:!1,coord:void 0}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CENTER":return Object(g.a)({},e,{center:t.payload});case"UPDATE_FLYTO":return Object(g.a)({},e,{flyTo:t.payload});case"UPDATE_FLYTOCLUB":return Object(g.a)({},e,{flyToClub:t.payload});default:return e}}}),f=a(89),h=Object(f.a)({palette:{primary:{main:"#263238",dark:"#12181b",contrastText:"#fff"},secondary:{main:"#4caf50",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},warning:{light:"#ffb74d",main:"#ff9800",dark:"#f57c00"},info:{light:"#2196F3",main:"#2196f3",dark:"#2196F3",contrastText:"#fff"},success:{light:"#81c784",main:"#4caf50",dark:"#388e3c"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},background:{default:"#e6e6fa"}}}),E=(a(213),a(17)),v=a(81),y=a(13),k=a.n(y),O=a(132),j=a(392),w=a(393),C=a(98),N=a(390),S=a(391),x=a(394),T=a(120),B=a.n(T),L=a(174),_=a(423),I=function(e){return{type:"UPDATE_USER",payload:e}},P=a(14),F=a.n(P),R=k()("log:isUserValidAPI"),U=k()("log:Appbar"),D=Object(O.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},linearProgress:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},sectionDesktop:Object(v.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(v.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),appbar:{backgroundColor:"#263238",borderBottom:"solid 6px #4caf50"}}})),M=o.a.forwardRef((function(e,t){return o.a.createElement(s.b,Object.assign({innerRef:t},e))}));var A=a(122),W=a(46),z=a.n(W),H=a(121),V=a(162),G=a(398),q=a(164),Y=a.n(q),J=a(166),Z=a.n(J),X=a(165),K=a.n(X),$=a(167),Q=a.n($),ee=function(e){return{type:"UPDATE_SIGNUP",payload:e}};var te={updateCenter:function(e){return{type:"UPDATE_CENTER",payload:e}},updateFlyTo:function(e){return{type:"UPDATE_FLYTO",payload:e}},updateFlyToClub:function(e){return{type:"UPDATE_FLYTOCLUB",payload:e}}};function ae(e){return{type:"UPDATE_CLUB",payload:e}}var ne=k()("log:getUserAddressFromMapbox");var oe=k()("log:signin");var re=a(396),ce=a(397),le=Object(f.a)({palette:{primary:{main:"#f44336"}}}),ie=Object(O.a)((function(e){return{container:{padding:"0px",textAlign:"center",position:"absolute",top:61},typoContainer:{backgroundColor:"rgb(29, 41, 51)",height:"fit-content",width:"100%",padding:"10px"},address:{margin:"10px",color:"white"},submitBtnTxt:{lineHeight:0,color:"chocolate"}}})),se=o.a.forwardRef((function(e,t){return o.a.createElement(s.b,Object.assign({innerRef:t},e))}));function de(){var e=Object(i.c)((function(e){return e.signup})),t=Object(i.b)(),a=ie();return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,null),o.a.createElement(re.a,{maxWidth:"xl",className:a.container},o.a.createElement(C.a,{component:"div",className:a.typoContainer},o.a.createElement("h3",{className:a.address},e.address),o.a.createElement(p.a,{theme:le},o.a.createElement(N.a,{color:"primary",component:se,to:"/",onClick:function(){t(ee({location:void 0,address:void 0}))}},"Cancel")),e.submitButtonState?o.a.createElement(N.a,{color:"secondary",component:se,to:"/signup"},"Submit"):o.a.createElement(N.a,{color:"secondary",disabled:!0},null===e.address?o.a.createElement("p",{className:a.submitBtnTxt},"submit"):o.a.createElement(ce.a,{color:"secondary",size:"20px"})))))}z.a.accessToken="pk.eyJ1IjoibW9oZXNlbSIsImEiOiJjanR3amhqcWcxZm05NDVtcG03Nm44Ynk4In0.YUdlvT5fABnW8BReNMSuPg",z.a.setRTLTextPlugin("https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js");var ue,me,pe,ge=k()("log:Map"),be=o.a.forwardRef((function(e,t){return o.a.createElement(s.b,Object.assign({innerRef:t},e))})),fe={type:"FeatureCollection",features:[]},he={},Ee=0,ve=null,ye=null,ke=null,Oe=[];var je=Object(d.f)((function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.user})),r=Object(i.c)((function(e){return e.map})),c=Object(i.c)((function(e){return e.club})),l=Object(n.useState)({submitLocationOnHold:!1,isLoader:!0,mode:"wait",likeOrDislike:1,legends:0,clubId:void 0,center:void 0,chartWidth:0,teamId:void 0}),s=Object(E.a)(l,2),d=s[0],u=s[1],m=Object(n.useState)({chartTotal:void 0,chartMales:void 0,chartFemales:void 0,totalLikes:void 0,step0:void 0,step1:void 0,step2:void 0,c0:void 0,c1:void 0,c2:void 0,c3:"rgb(255, 255, 255)"}),p=Object(E.a)(m,2),b=p[0],f=p[1],h=Object(n.useState)(!0),v=Object(E.a)(h,2),y=v[0];function k(){var e=me.getZoom();!function t(){if(pe){if(e<4)return me.setPaintProperty("boundry","fill-color",["case",["!=",["feature-state","fans"],null],["interpolate",["linear"],["feature-state","fans"],0,"rgb(236, 225, 203)",pe/200,"rgba(211,47,47,1.0)"],"rgba(255,255,255,1.0)"]),!0;if(e<7)return me.setPaintProperty("boundry","fill-color",["case",["!=",["feature-state","fans"],null],["interpolate",["linear"],["feature-state","fans"],0,"rgb(236, 225, 203)",pe/2e3,"rgba(211,47,47,1.0)"],"rgba(255,255,255,1.0)"]),!0;me.setPaintProperty("boundry","fill-color",["case",["!=",["feature-state","fans"],null],["interpolate",["linear"],["feature-state","fans"],0,"rgb(236, 225, 203)",pe/2e4,"rgba(211,47,47,1.0)"],"rgba(255,255,255,1.0)"])}else setTimeout((function(){t()}),50)}()}function O(){window.innerWidth>=360&&d.chartWidth<300&&u(Object(g.a)({},d,{chartWidth:300})),window.innerWidth<360&&u(Object(g.a)({},d,{chartWidth:window.innerWidth-60}))}if(v[1],window.addEventListener("resize",(function(){O()})),!0===r.flyTo.state)if(2===r.flyTo.coord.length)null!==ve&&ve.remove(),me.flyTo({center:r.flyTo.coord,zoom:5,essential:!0}),(ve=new z.a.Marker({draggable:!1})).setLngLat(r.flyTo.coord),ve.addTo(me),t(te.updateFlyTo({state:!1,coord:[]}));else{null!==ve&&ve.remove();var j=r.flyTo.coord;me.fitBounds([[j[0],j[1]],[j[2],j[3]]]);var w=H.bboxPolygon(j),C=H.centroid(w);ge("----------------------------------",C),(ve=new z.a.Marker({draggable:!1})).setLngLat(C.geometry.coordinates),ve.addTo(me),t(te.updateFlyTo({state:!1,coord:[]}))}if(!0===r.flyToClub.state){if(null!==ye&&(ge("remove the fucking marker pleeeeeeeeeeeeeeeeeeeeeeeeease"),ye.remove()),c.cityCoords&&me.flyTo({center:c.cityCoords,zoom:5,essential:!0}),c.logoBase64){var N=document.createElement("div");N.style.background="url(data:image/png;base64,".concat(c.logoBase64,")"),N.style["background-position"]="center",N.style["background-size"]="contain",N.style.height="60px",N.style.width="60px",N.style["background-repeat"]="no-repeat",(ye=new z.a.Marker(N)).setLngLat(c.cityCoords),ye.addTo(me)}setTimeout((function(){t(te.updateFlyToClub({state:!1,coord:[]}))}),10)}var x=e.location.pathname;function T(e){return new Promise((function(t,a){u(Object(g.a)({},d,{submitLocationOnHold:!0})),Oe.push(e),function(e){return new Promise((function(t,a){var n="".concat("https://api.mapbox.com/geocoding/v5/mapbox.places/"+e.lng,",").concat(e.lat).concat(".json?access_token=").concat("pk.eyJ1IjoibW9oZXNlbSIsImEiOiJjanR3amhqcWcxZm05NDVtcG03Nm44Ynk4In0.YUdlvT5fABnW8BReNMSuPg");F.a.get(n).then((function(e){ne("mapbox api",e),t(e)})).catch((function(e){ne("mapbox api",e),a(e)}))}))}(e).then((function(e){ge("mapbox res",e),t(e),u(Object(g.a)({},d,{submitLocationOnHold:!1}))})).catch((function(e){a(e)}))}))}function B(e){t(ee({submitButtonState:!1})),T(e.lngLat.wrap()).then((function(a){a&&(ge("final result is ==> ",{location:e.lngLat.wrap(),address:a.data.features[0].place_name}),t(ee({location:e.lngLat.wrap(),address:a.data.features[0].place_name,submitButtonState:!0})))})).catch((function(){ge("some error came from mapbox")})),null!==ke&&ke.remove(),(ke=new z.a.Marker({draggable:!1})).setLngLat(e.lngLat.wrap()),ke.addTo(me)}function L(){if(me.getSource("boundary-source")){var e=x.split("/")[2],t=!0===y?"like":"dislike",a=me.getBounds();me.getZoom()>8&&function(e,t,a){return new Promise((function(n,o){F.a.get("http://http://185.8.175.15//api/v1/GET/membersFromPoly/".concat(e._sw.lng,"/").concat(e._sw.lat,"/").concat(e._ne.lng,"/").concat(e._ne.lat,"/").concat(t,"/").concat(a)).then((function(e){n(e)})).catch((function(e){oe("err",e),"object"!==typeof e.response?o({status:503}):o(e.response.data)}))}))}(a,t,e).then((function(e){fe.features=[],e.data.likes.forEach((function(e){if(Number(e.fid)<500){var t={type:"Feature",geometry:e.geo};fe.features.push(t)}})),me.getSource("custom").setData(fe)})).catch((function(e){ge(e)}));var n=me.queryRenderedFeatures({layers:["boundry"]}),o=n.length;if(Ee!==o){Ee=o;var r=n.map((function(e){return e.id})),c=Object(A.a)(new Set(r)),l=[];c.forEach((function(e,t){he[e]||(he[e]=1,l.push(e)),c.length-1===t&&l.length&&F.a.post("http://http://185.8.175.15//api/v1/POST/getLikesForPolys",{teamId:d.teamId,reducedDuplicates:l}).then((function(e){var t=e.data.likes;Object.keys(t).forEach((function(e){me.setFeatureState({source:"boundary-source",sourceLayer:"boundry",id:e},{fans:t[e]/3})}))})).catch((function(e){}))}))}}return null}function _(){!function(){if(me.getSource("boundary-source")){me.getBounds();var e=me.queryRenderedFeatures({layers:["boundry"]}),t=e.length;if(Ee!==t){Ee=t;var a=e.map((function(e){return e.id})),n=Object(A.a)(new Set(a)),o=[];n.forEach((function(e,t){he[e]||(he[e]=1,o.push(e)),n.length-1===t&&o.length&&F.a.post("http://http://185.8.175.15//api/v1/POST/getLikesForPolys",{teamId:d.teamId,reducedDuplicates:o}).then((function(e){var t=e.data.likes;Object.keys(t).forEach((function(e){me.setFeatureState({source:"boundary-source",sourceLayer:"boundry",id:e},{fans:t[e]/3})}))})).catch((function(e){}))}))}}}(),k()}function I(){L(),k(),me.off("data",_)}function P(e){T(e.lngLat.wrap()),null!==ke&&ke.remove(),(ke=new z.a.Marker({draggable:!1})).setLngLat(e.lngLat.wrap()),ke.addTo(me)}function R(){me.getZoom()<8&&me.getSource("custom")&&me.getSource("custom")._data.features.length&&me.getSource("custom").setData({type:"FeatureCollection",features:[]})}if(Object(n.useEffect)((function(){void 0===me&&((me=new z.a.Map({container:ue,center:a.location||[0,0],zoom:2,attributionControl:!1,maxZoom:14})).addControl(new z.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}),"bottom-right"),me.setStyle("mapbox://styles/mohesem/ck59dnl2k1ij41co38c3zy6ib"),window.mapbox=me,t(te.updateCenter(me.getCenter())))})),0===d.mode&&(me.off("click",B),null!==ke&&ke.remove()),1===d.mode&&me.on("click",B),"wait"!==d.mode&&2!==d.mode&&me.off("moveend",R),2===d.mode){O(),me.on("moveend",R);var U=x.split("/");U[2]&&d.teamId!==U[2]&&(ge("<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<",d.teamId,U[2],U[2]&&d.teamId!==U[2]),pe=null,F.a.get("http://http://185.8.175.15//api/v1/GET/club/".concat(U[2])).then((function(e){e.data.base64Image?(t(te.updateFlyToClub({state:!0,coord:e.data.city.geo.coordinates})),t(ae({cityName:e.data.city.name,countyName:e.data.city.country,cityCoords:e.data.city.geo.coordinates,clubGroup:e.data.club.group,clubName:e.data.club.name,primaryColor:e.data.club.primary_color,secondaryColor:e.data.club.secondary_color,logoBase64:e.data.base64Image,teamId:e.data.club._id}))):(t(te.updateFlyToClub({state:!0,coord:void 0})),t(ae({cityName:void 0,countyName:e.data.country,cityCoords:void 0,clubGroup:e.data.group,clubName:e.data.name,primaryColor:e.data.primary_color,secondaryColor:e.data.secondary_color,logoBase64:void 0,teamId:e.data._id})))})).catch((function(e){ge(e)})),F.a.get("http://http://185.8.175.15//api/v1/GET/getClubTotalLikes/".concat(U[2])).then((function(e){!function(e,t,a){!function(e,t,a){if("white"===e)switch(t){case"red":({r:183,g:28,b:28})}else switch(t){case"red":({r:183,g:28,b:28})}a({r:183,g:28,b:28})}(e,t,(function(e){var t=Math.round((255-e.r)/3),n=Math.round((255-e.g)/3),o=Math.round((255-e.b)/3),r={r:e.r+t,g:e.g+n,b:e.b+o},c={r:e.r+2*t,g:e.g+2*n,b:e.b+2*o},l="rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"),i="rgb(".concat(r.r,", ").concat(r.g,", ").concat(r.b,")"),s="rgb(".concat(c.r,", ").concat(c.g,",").concat(c.b,")");return a(l,i,s)}))}(e.data.team.primary_color,e.data.team.secondary_color,(function(t,a,n){var o={c0:t,c1:a,c2:n},r=e.data.males,c=e.data.females,l=[r[0]/3,r[1]/3,r[2]/3,r[3]/3,r[4]/3,r[5]/3],i=[c[0]/3-c[0]/3*20/100,c[1]/3-c[1]/3*20/100,c[2]/3-c[2]/3*20/100,c[3]/3-c[3]/3*20/100,c[4]/3-c[4]/3*20/100,c[5]/3-c[5]/3*20/100],s=[i[0]+l[0],i[1]+l[1],i[2]+l[2],i[3]+l[3],i[4]+l[4],i[5]+l[5]],d=l.reduce((function(e,t){return e+t}),0)/3+i.reduce((function(e,t){return e+t}),0)/3,u=Math.round(d/200),m=u/3,p=Math.round(u-m),h=Math.round(p-m),E={totalLikes:Math.round(d),step0:u,step1:p,step2:h};pe=Math.round(d),f(Object(g.a)({},b,{},E,{},o,{chartMales:l,chartFemales:i,chartTotal:s}))}))})).catch((function(e){ge(e)})),u(Object(g.a)({},d,{teamId:U[2]}))),function e(){if(me&&me.isStyleLoaded()){if(!me.getSource("boundary-source")){me.addSource("boundary-source",{type:"vector",tiles:["http://http://185.8.175.15//api/v1/GET/tiles/{z}/{x}/{y}"],minzoom:0,maxzoom:18});me.addSource("custom",{type:"geojson",data:fe});me.addLayer({id:"boundry",type:"fill",source:"boundary-source","source-layer":"boundry",paint:{"fill-color":"rgb(255, 255, 255)"}},"waterway-label"),me.addLayer({id:"boundryLine",type:"line",source:"boundary-source","source-layer":"boundry",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#424242","line-width":2}},"waterway-label"),me.addLayer({id:"likes",type:"circle",source:"custom",paint:{"circle-radius":6,"circle-color":"#B42222"}},"waterway-label"),me.on("data",_),me.on("moveend",I),me.off("click",P)}}else setTimeout((function(){e()}),50)}()}return o.a.createElement(o.a.Fragment,null,function(){if(me){var e="/signup/getUserLocation"===x?1:"/"===x?0:x.includes("/v/")?2:0;e!==d.mode&&(ge("new state after route change"),u(Object(g.a)({},d,{mode:e})))}}(),o.a.createElement("div",{ref:function(e){ue=e},className:"mapContainer"}),1===d.mode?o.a.createElement(de,null):null,2===d.mode?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"state-legend",className:"legend",hidden:0===d.legends},o.a.createElement("h4",null,"Population"),o.a.createElement("div",null,o.a.createElement("span",{style:{backgroundColor:b.c0}}),b.step0),o.a.createElement("div",null,o.a.createElement("span",{style:{backgroundColor:b.c1}}),b.step1),o.a.createElement("div",null,o.a.createElement("span",{style:{backgroundColor:b.c2}}),b.step2),o.a.createElement("div",null,o.a.createElement("span",{style:{backgroundColor:b.c3}}),"0")),o.a.createElement("div",{id:"state-legend",className:"legend legend-chart",style:{width:d.chartWidth},hidden:1===d.legends},o.a.createElement("h4",null,"Population"),o.a.createElement("div",null,o.a.createElement(V.a,{options:{tooltips:{displayColors:!1,enabled:!0,mode:"multiple",bodyFontSize:15,bodyFontFamily:"Gamja Flower",bodyFontColor:"white",yPadding:5,xPadding:5,cornerRadius:4,bodyFontStyle:"bold"},legend:{display:!0},layout:{padding:{left:0,right:0,top:0,bottom:0}},scales:{yAxes:[{ticks:{}}],xAxes:[{ticks:{}}]},maintainAspectRatio:!0,animation:!0},data:{labels:["0","1","2","3","4","5","6"],datasets:[{label:"total",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"#2196f3",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:3,pointHitRadius:10,data:b.chartTotal},{label:"male",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"#fb8c00",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:3,pointHitRadius:10,data:b.chartMales},{label:"female",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"#673ab7",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:3,pointHitRadius:10,data:b.chartFemales}]}}))),o.a.createElement("div",{id:"stop-virtualization",className:"legend-stop-virtualization"},o.a.createElement(S.a,{style:{padding:3,color:"#dd2c01"}},o.a.createElement(G.a,{variant:"body2",component:be,to:"/",style:{height:"24px",width:"24px"}},o.a.createElement(Y.a,null)))),o.a.createElement("div",{id:"show-chart",className:"legend-show-chart"},o.a.createElement(S.a,{style:{padding:3,color:"#263238"}},o.a.createElement(G.a,{variant:"body2",onClick:function(){return 0===d.legends?u(Object(g.a)({},d,{legends:1})):u(Object(g.a)({},d,{legends:0}))},style:{height:"24px",width:"24px"}},0===d.legends?o.a.createElement(K.a,null):o.a.createElement(Z.a,null)))),o.a.createElement("div",{id:"link-legend",className:"legend-Link"},o.a.createElement(S.a,{style:{padding:3,color:"#263238"},onClick:function(){!function(){var e=document.createElement("textarea");e.value=window.location.href,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}()}},o.a.createElement(Q.a,null)))):null)})),we=a(41),Ce=a.n(we),Ne=a(75),Se=a(26),xe=a(416),Te=a(173),Be=a(424),Le=a(408),_e=a(420),Ie=a(124),Pe=a(407),Fe=a(404),Re=a(406),Ue=a(422),De=a(419),Me=a(405),Ae=a(403),We=k()("log:makeNewUser");var ze=k()("log:isUserNew");var He=a(421),Ve=a(402),Ge=a(401),qe=a(399),Ye=a(400);function Je(e){var t=o.a.useState(!0),a=Object(E.a)(t,2),n=a[0],r=a[1];return o.a.createElement("div",null,o.a.createElement(He.a,{open:n,onClose:function(){r(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(Ye.a,{id:"alert-dialog-title"},"ERROR"),o.a.createElement(Ge.a,null,function(){var t=[];return e.errors.forEach((function(e,a){Object.keys(e).forEach((function(n){t.push(o.a.createElement(qe.a,{style:{color:"red"},key:a},e[n]))}))})),t}()),o.a.createElement(Ve.a,null,o.a.createElement(N.a,{onClick:e.handleClose,color:"primary"},"close"))))}var Ze=k()("log:signupComponent"),Xe=o.a.forwardRef((function(e,t){return o.a.createElement(s.b,Object.assign({innerRef:t},e))})),Ke=Object(O.a)((function(e){return{root:{position:"absolute",top:0,bottom:0,zIndex:-1},image:{backgroundImage:"url(./img/3.jpeg)",backgroundRepeat:"no-repeat",backgroundColor:"dark"===e.palette.type?e.palette.grey[900]:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center",position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:-1},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1),backgroundColor:e.palette.background.default},submit:{margin:e.spacing(3,0,2)},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},activeAccountBtn:{margin:"21px 0px"},paper:{margin:"25% 10% 10% 10%",display:"flex",flexDirection:"column",alignItems:"center"},stepper:{padding:e.spacing(0),margin:e.spacing(0,0,2,0),background:e.palette.background.default,width:"-webkit-fill-available",marginBottom:"20%"},stepperBody:{"& > *":{marginBottom:"7%"}},stepperBodyParrent:{width:"-webkit-fill-available",textAlign:"center"},title:{marginBottom:"20%"}}}));Ce.a.init({facebook:"726965834493962",google:"951334179095-359plh303nv4b6oi184594gi11jmpvfk.apps.googleusercontent.com"},{redirect_uri:"http://localhost:3000/auth/google/callback"});var $e=k()("log:signin");var Qe=k()("log:signinComponent"),et=Object(O.a)((function(e){return{groupButton:{marginTop:"10%","& > *":{marginRight:e.spacing(1)}},root:{position:"absolute",top:0,bottom:0,zIndex:-1},image:{backgroundImage:"url(./img/4.jpeg)",backgroundRepeat:"no-repeat",backgroundColor:"dark"===e.palette.type?e.palette.grey[900]:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center",position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:-1},paper:{margin:"25% 10% 10% 10%",display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1),background:e.palette.background.default},formStyle:{"& > *":{margin:"3% 0%"}},title:{marginBottom:"20%"}}}));Ce.a.init({facebook:"726965834493962",google:"951334179095-359plh303nv4b6oi184594gi11jmpvfk.apps.googleusercontent.com"},{redirect_uri:"http://localhost:3000/auth/google/callback"});var tt=a(412),at=a(411),nt=a(413),ot=a(414),rt=a(410),ct=a(409),lt=a(417),it=a(418),st=k()("log:searchClubsApi");function dt(e){return new Promise((function(t,a){F.a.post("http://http://185.8.175.15//api/v1/POST/searchClubs",{str:e}).then((function(e){t({data:e.data,status:e.status})})).catch((function(e){st("err",e),"object"!==typeof e.response?a({status:503}):a(e.response.data)}))}))}var ut=k()("log:isUserNew");var mt=k()("log:isUserNew");var pt=k()("log:addNewTeam"),gt=Object(O.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));function bt(e){var t=Object(i.b)(),a=Object(n.useState)(!0),r=Object(E.a)(a,1)[0],c=Object(u.useSnackbar)().enqueueSnackbar;pt(e);var l=Object(n.useState)({modalErrors:[],club:null,clubOptions:[],value:null}),s=Object(E.a)(l,2),d=s[0],m=s[1],b=gt(),f=r&&1===d.clubOptions.length;return o.a.createElement("div",null,o.a.createElement(He.a,{open:r,onClose:function(){e.handleClose()},fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(Ye.a,{id:"alert-dialog-title"},e.type),o.a.createElement(Ge.a,{className:b.root},o.a.createElement(qe.a,null,"Add new club"),o.a.createElement(it.a,{id:"seatchInput",className:b.teamsSearch,options:d.clubOptions,getOptionLabel:function(e){return e.name},onChange:function(e,t){return a=t,void m(Object(g.a)({},d,{club:a,clubOptions:[]}));var a},loading:f,renderInput:function(e){return o.a.createElement(lt.a,Object.assign({},e,{label:"Combo box",variant:"outlined",fullWidth:!0,onChange:function(e){var t;t=e.target.value,console.log(t),dt(t).then((function(e){pt("search result is",e),m(Object(g.a)({},d,{clubOptions:e.data.clubs}))})).catch((function(e){pt(e),503===e.status?c("Network Error",{variant:"error"}):(pt(e),m(Object(g.a)({},d,{modalErrors:[e]})))}))}}))}})),o.a.createElement(Ve.a,null,o.a.createElement(p.a,{theme:le},o.a.createElement(N.a,{onClick:e.handleClose,color:"primary",variant:"contained"},"close")),o.a.createElement(N.a,{variant:"contained",color:"secondary",onClick:function(){var a;pt(e.type),"like"===e.type&&(a=d.club,new Promise((function(e,t){F.a.post("http://http://185.8.175.15//api/v1/POST/likeClub",{token:localStorage.fans_club,club:a}).then((function(t){ut("res",t),e({data:t.data,status:t.status})})).catch((function(e){ut("err",e),"object"!==typeof e.response?t({status:503}):t(e.response.data)}))}))).then((function(a){pt(a),t(I({isValid:!0,firstname:a.data.firstname,lastname:a.data.lastname,likes:a.data.likes,dislikes:a.data.dislikes,suggests:a.data.suggests,location:a.data.location})),e.handleClose()})).catch((function(e){pt("errrrrrror",e),503===e.status?c("Network Error",{variant:"error"}):(pt(e),m(Object(g.a)({},d,{modalErrors:[e]})))})),"dislike"===e.type&&function(e){return new Promise((function(t,a){F.a.post("http://http://185.8.175.15//api/v1/POST/dislikeClub",{token:localStorage.fans_club,club:e}).then((function(e){mt("res",e),t({data:e.data,status:e.status})})).catch((function(e){mt("err",e),"object"!==typeof e.response?a({status:503}):a(e.response.data)}))}))}(d.club).then((function(a){pt(a),t(I({isValid:!0,firstname:a.data.firstname,lastname:a.data.lastname,likes:a.data.likes,dislikes:a.data.dislikes,suggests:a.data.suggests,location:a.data.location})),e.handleClose()})).catch((function(e){pt("errrrrrror",e),503===e.status?c("Network Error",{variant:"error"}):(pt(e),m(Object(g.a)({},d,{modalErrors:[e]})))}))}},"submit"))),d.modalErrors.length?o.a.createElement(Je,{errors:d.modalErrors,handleClose:function(){pt("clooooooooooooooose modal"),m(Object(g.a)({},d,{modalErrors:[]}))}}):null)}var ft=Object(f.a)({palette:{primary:{main:"#2196F3"}}}),ht=Object(f.a)({palette:{primary:{main:"#f44336"}}}),Et=Object(O.a)((function(e){return{groupBtn:{"& > *":{margin:e.spacing(1,0)}},root:{position:"absolute",top:0,bottom:0,zIndex:-1},image:{backgroundImage:"url(./img/4.jpeg)",backgroundRepeat:"no-repeat",backgroundColor:"dark"===e.palette.type?e.palette.grey[900]:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center",position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:-1},paper:{margin:"25% 10% 10% 10%",display:"flex",flexDirection:"column"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},favTeams:{background:"#E0E0E0",border:"solid 1px #212f3a",borderRadius:5,marginBottom:35,marginTop:25},title:{marginBottom:"5%"},subTitle:{marginTop:30},text:{margin:20},formStyle:{width:"-webkit-fill-available","& > *":{margin:"3% 0%"}}}}));var vt=a(415),yt=a(171),kt=a.n(yt),Ot=a(172),jt=a.n(Ot),wt=k()("log:search"),Ct=Object(O.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:400,margin:10,borderRadius:100,background:"#ffffffbd"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10,margin:5,color:e.palette.primary.main,background:"#bdbdbd82"},iconButtonSelected:{color:"white",padding:10,margin:5,background:e.palette.primary.main,"&:hover":{background:e.palette.secondary.main}},divider:{height:28,margin:4},searchInput:{borderRadius:"100px"}}}));var Nt=Object(l.c)(b,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(o.a.createElement(i.a,{store:Nt},o.a.createElement(u.SnackbarProvider,null,o.a.createElement(s.a,null,o.a.createElement(p.a,{theme:h},o.a.createElement(d.b,{path:"/",component:je}),o.a.createElement(d.b,{path:"/",component:function(){var e,t=D(),a=Object(u.useSnackbar)().enqueueSnackbar,r=Object(i.b)(),c=Object(n.useState)({redirect:!1}),l=Object(E.a)(c,1)[0],s=Object(n.useState)(void 0),m=Object(E.a)(s,2),p=m[0],g=m[1],b=Object(i.c)((function(e){return e.user})),f=Boolean(p),h="primary-search-account-menu-mobile",v=function(e){g(e.currentTarget)};U(b),void 0===b.isValid&&(localStorage.fans_club?(e=localStorage.fans_club,new Promise((function(t,a){var n=0;!function o(){F.a.get("http://http://185.8.175.15//api/v1/GET/getUserInfo/".concat(e)).then((function(e){R("is user valid response",e),t({data:e.data,status:e.status.code})})).catch((function(e){R("is user valid error",e),"object"!==typeof e.response?n<4?(n+=1,setTimeout((function(){o()}),100)):a({status:503}):a({status:e.response.status,data:e.response.data})}))}()}))).then((function(e){U("appbar getUserInfo valid res",e),r(I({isValid:!0,firstname:e.data.firstname,lastname:e.data.lastname,likes:e.data.likes,dislikes:e.data.dislikes,suggests:e.data.suggests,location:e.data.location}))})).catch((function(e){U("appbar getUserInfo valid err",e),503===e.status?(r(I({isValid:!1})),a("Network Error",{variant:"error"})):(U("other error messages on getUserInfo Api",e),r(I({isValid:!1})),a(e.msg,{variant:"error"}))})):(U("no token has been found for fans_club"),r(I({isValid:!1})),a("Signup to get more ...",{variant:"error"})));var y=function(){g(void 0)},k=function(){y()},O=function(){localStorage.removeItem("fans_club"),r(I({isValid:void 0,firstname:void 0,lastname:void 0,likes:void 0,dislikes:void 0,suggests:void 0,location:void 0}))},T=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.sectionDesktop},o.a.createElement(N.a,{className:"appbarButton",color:"secondary",component:M,to:"/signup"},"Signup"),o.a.createElement(N.a,{color:"secondary",component:M,to:"/signin"},"Signin")),o.a.createElement("div",{className:t.sectionMobile},o.a.createElement(S.a,{"aria-label":"show more","aria-controls":h,"aria-haspopup":"true",onClick:v},o.a.createElement(B.a,{color:"secondary"})))),P=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.sectionDesktop},o.a.createElement(N.a,{color:"secondary",component:M,to:"/clubs"},"teams"),o.a.createElement(N.a,{color:"secondary",component:M,to:"/",onClick:O},"logout")),o.a.createElement("div",{className:t.sectionMobile},o.a.createElement(S.a,{"aria-label":"show more","aria-controls":h,"aria-haspopup":"true",onClick:v},o.a.createElement(B.a,{color:"secondary"}))));return o.a.createElement(o.a.Fragment,null,l.redirect?o.a.createElement(d.a,{to:l.redirect,push:!0}):void 0,void 0===b.isValid?o.a.createElement("div",{className:"loading-wrapper"},o.a.createElement("div",{className:"wrap"},o.a.createElement("div",{className:"loading"},o.a.createElement("div",{className:"bounceball"})))):void 0,o.a.createElement("div",{className:t.grow},o.a.createElement(j.a,{position:"static",className:t.appbar},o.a.createElement(w.a,null,o.a.createElement(C.a,{variant:"h5",className:t.title},o.a.createElement(N.a,{component:M,to:"/",style:{color:"white"}},o.a.createElement(C.a,{variant:"h5",className:t.title},"FANS CLUB"))),function(){var e;return void 0===b.isValid&&(e=o.a.createElement("p",null,"loading")),!1===b.isValid&&(e=T),!0===b.isValid&&(e=P),e}()),void 0===b.isValid?o.a.createElement("div",{className:t.linearProgress},o.a.createElement(x.a,null)):void 0),function(){switch(b.isValid){case!1:return o.a.createElement(L.a,{anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},id:h,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:y},o.a.createElement(_.a,{onClick:k},o.a.createElement(N.a,{className:"appbarButton",color:"secondary",component:M,to:"/signup"},"Signup")),o.a.createElement(_.a,{onClick:k},o.a.createElement(N.a,{color:"secondary",component:M,to:"/signin"},"Signin")));case!0:return o.a.createElement(L.a,{anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},id:h,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:y},o.a.createElement(_.a,{onClick:k},o.a.createElement(N.a,{color:"secondary",component:M,to:"/clubs"},"teams")),o.a.createElement(_.a,{onClick:k},o.a.createElement(N.a,{color:"secondary",component:M,to:"/",onClick:O},"logout")));default:return}}()))}}),o.a.createElement(d.b,{exact:!0,path:"/signup",component:function(){var e,t=Object(u.useSnackbar)().enqueueSnackbar,a=Object(i.c)((function(e){return e.signup})),r=Ke(),c=Object(n.useState)({modalErrors:[],submitOnHold:!1,redirect:!1,selectedDate:new Date(0),gender:void 0,genderErr:void 0,isNewUser:void 0,activeStep:0,try:!1}),l=Object(E.a)(c,2),s=l[0],b=l[1],f=Object(n.useState)({}),h=Object(E.a)(f,2),v=h[0],y=h[1],k=["submit location","signup with","complete registration"];function O(e){b(Object(g.a)({},s,{gender:e.target.value}))}function j(){b(Object(g.a)({},s,{modalErrors:[]}))}function w(e){Ze("DATE",e),b(Object(g.a)({},s,{selectedDate:new Date(e)}))}function S(e){return new Promise((function(n,o){console.log(v);var r=e;r.location=a.location,r.address=a.address,r.birth=s.selectedDate,r.gender=s.gender,Ze("extendedUser",r),function(e){return We("user is : ",e),new Promise((function(t,a){F.a.post("http://http://185.8.175.15//api/v1/POST/makeNewUser",e).then((function(e){We("res",e),t({data:e.data,status:e.status.code})})).catch((function(e){We("err",e),"object"!==typeof e.response?a({status:503}):a(e.response.data)}))}))}(r).then((function(e){Ze("newUserApi res",e),localStorage.setItem("fans-club",e.data.token),t("".concat(e.data.snackMsg),{variant:"success"}),n()})).catch((function(e){503===e.status?t("Network Error",{variant:"error"}):(Ze(e),b(Object(g.a)({},s,{modalErrors:[e]}))),o()}))}))}return!0===s.try&&(e=v.email,new Promise((function(t,a){F.a.post("http://http://185.8.175.15//api/v1/POST/isUserNew",{email:e}).then((function(e){ze("res",e),t({data:e.data,status:e.status})})).catch((function(e){ze("err",e),"object"!==typeof e.response?a({status:503}):a(e.response.data)}))}))).then((function(e){Ze("reeeeeeeeeeeees",e),b(Object(g.a)({},s,{isNewuser:!0,try:!1}))})).catch((function(e){Ze(e),b("network error"===e?Object(g.a)({},s,{modalErrors:[{other:"network error"}],isNewuser:!1,try:!1}):Object(g.a)({},s,{modalErrors:[e],isNewuser:!1,try:!1}))})),o.a.createElement(o.a.Fragment,null,s.redirect?o.a.createElement(d.a,{to:s.redirect,push:!0}):void 0,o.a.createElement(Pe.a,{container:!0,component:"main",className:r.root},o.a.createElement(m.a,null),o.a.createElement(Pe.a,{item:!0,xs:!1,sm:12,md:12,className:r.image}),o.a.createElement(Pe.a,{item:!0,xs:!1,sm:2,md:3}),o.a.createElement(Pe.a,{className:r.form,item:!0,xs:12,sm:8,md:6,component:Ie.a,elevation:6,square:!0},o.a.createElement("div",{className:r.paper},o.a.createElement(C.a,{className:r.title,color:"secondary",component:"h5",variant:"h3"},"Signup"),o.a.createElement(Be.a,{activeStep:s.activeStep,alternativeLabel:!0,className:r.stepper},k.map((function(e){return o.a.createElement(Le.a,{key:e},o.a.createElement(_e.a,null,e))}))),o.a.createElement("div",{className:r.stepperBodyParrent},s.activeStep===k.length?o.a.createElement("div",{className:r.stepperBody},o.a.createElement(C.a,{className:r.instructions},"All steps completed - you're finished"),o.a.createElement(p.a,{theme:le},o.a.createElement(N.a,{color:"primary",component:Xe,to:"/",className:r.button},"Back To Home"))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:r.instructions},function(e){switch(e){case 0:return o.a.createElement(o.a.Fragment,null,a.location?o.a.createElement("div",{className:r.stepperBody},o.a.createElement(C.a,{className:r.instructions},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),o.a.createElement(C.a,{className:r.instructions},a.address||void 0),o.a.createElement(N.a,{fullWidth:!0,variant:"contained",color:"primary",className:r.submit,disabled:!0===s.submitOnHold,component:Xe,to:"/signup/getUserLocation"},"change your location")):o.a.createElement("div",{className:r.stepperBody},o.a.createElement(C.a,{className:r.instructions},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),o.a.createElement(N.a,{fullWidth:!0,variant:"contained",color:"secondary",disabled:!0===s.submitOnHold,component:Xe,to:"/signup/getUserLocation"},"Choose your location on map")));case 1:return o.a.createElement("div",{className:r.stepperBody},o.a.createElement(C.a,{className:r.instructions},"Signin with"),o.a.createElement(Ae.a,{fullWidth:!0,disabled:void 0===a.location},o.a.createElement(Ne.GoogleLoginButton,{onClick:function(){Ce()("google").login({scope:"email"}).then((function(e){console.log(e),Ce()("google").api("me").then((function(e){y({from:"google",email:e.email,firstname:e.first_name,lastname:e.last_name,fullname:e.name,picture:e.picture,thumbnail:e.thumbnail,googleId:e.id}),b(Object(g.a)({},s,{try:!0}))}),(function(e){b(Object(g.a)({},s,{modalErrors:[{msg:e.error.message}]}))}))}),(function(e){console.log(e),b(Object(g.a)({},s,{modalErrors:[{msg:e.error.message}]}))}))}}),o.a.createElement(Ne.FacebookLoginButton,{onClick:function(){Ce()("facebook").login().then((function(e){console.log(e),Ce()("facebook").api("me").then((function(e){y({from:"facebook",email:e.email,firstname:e.first_name,lastname:e.last_name,fullname:e.name,picture:e.picture,thumbnail:e.thumbnail,facebookId:e.id}),b(Object(g.a)({},s,{try:!0}))}),(function(e){b(Object(g.a)({},s,{modalErrors:[{msg:e.error.message}]}))}))}),(function(e){b(Object(g.a)({},s,{modalErrors:[{msg:e.error.message}]}))}))}})));case 2:return o.a.createElement("div",{className:r.stepperBody},o.a.createElement(C.a,{className:r.instructions},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),o.a.createElement(Ae.a,{fullWidth:!0,className:r.formStyle,variant:"outlined",noValidate:!0},o.a.createElement(Se.a,{utils:Te.a},o.a.createElement(xe.a,{disableFuture:!0,openTo:"year",format:"dd/MM/yyyy",label:"Date of birth",views:["year","month","date"],value:s.selectedDate,onChange:w})),o.a.createElement(Fe.a,{component:"legend",style:{fontWeight:600,textAlign:"left",margin:"30px 0px 15px 0px",fontSize:"large",color:"rgb(230, 230, 250)",background:"#4caf50",width:"fit-content",padding:"10px",borderRadius:"5px"}},"Gender"),o.a.createElement(Ue.a,{"aria-label":"gender",name:"gender1",value:s.gender,onChange:O,row:!0},o.a.createElement(Re.a,{value:"male",control:o.a.createElement(De.a,null),label:"Male"}),o.a.createElement(Re.a,{value:"female",control:o.a.createElement(De.a,null),label:"Female"}),o.a.createElement(Re.a,{value:"other",control:o.a.createElement(De.a,null),label:"Other"})),o.a.createElement(Me.a,null,!0===s.genderErr?"gender is required":void 0)),s.modalErrors.length?o.a.createElement(Je,{errors:s.modalErrors,handleClick:j}):void 0);default:return"Unknown step"}}(s.activeStep)),o.a.createElement("div",null,o.a.createElement(p.a,{theme:le},o.a.createElement(N.a,{disabled:0===s.activeStep,onClick:function(){b(Object(g.a)({},s,{activeStep:s.activeStep-1}))},className:r.button,color:"primary",variant:"contained"},"Back")),o.a.createElement(N.a,{variant:"contained",disabled:function(){var e=!0;return 0===s.activeStep&&a.location&&(e=!1),1===s.activeStep&&!0===s.isNewuser&&(e=!1),2===s.activeStep&&(e=!1),e}(),color:"primary",onClick:function(){return 1===s.activeStep||2!==s.activeStep?b(Object(g.a)({},s,{activeStep:s.activeStep+1})):(s.selectedDate&&s.gender&&S(v).then((function(){return b(Object(g.a)({},s,{activeStep:s.activeStep+1}))})).catch((function(){return!1})),s.gender||b(Object(g.a)({},s,{genderErr:!0})),void(s.gender&&b(Object(g.a)({},s,{genderErr:!1}))))},className:r.button},s.activeStep===k.length-1?"Submit":"Next")))))),o.a.createElement(Pe.a,{item:!0,xs:!1,sm:2,md:3})),s.modalErrors.length?o.a.createElement(Je,{errors:s.modalErrors,handleClick:j}):void 0)}}),o.a.createElement(d.b,{exact:!0,path:["/","/v","/v/:id","/signup/getUserLocation"],component:function(){var e=Object(i.b)(),t=Object(u.useSnackbar)().enqueueSnackbar,a=Object(i.c)((function(e){return e.map.center})),r=Object(n.useState)({modalErrors:[],searchMode:"team",open:!1}),c=Object(E.a)(r,2),l=c[0],s=c[1],m=Object(n.useState)([]),p=Object(E.a)(m,2),b=p[0],f=p[1],h=Object(n.useState)(!1),v=Object(E.a)(h,2),y=v[0],k=v[1],O=l.open&&1===b.length,j=Ct();function w(e){f([]),s(Object(g.a)({},l,{searchMode:e}))}return o.a.createElement(o.a.Fragment,null,y?o.a.createElement(d.a,{to:y,push:!0}):null,o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(Ie.a,{className:j.root,id:"searchComponent"},o.a.createElement(S.a,{className:"place"===l.searchMode?j.iconButtonSelected:j.iconButton,onClick:function(){return w("place")},"aria-label":"search"},o.a.createElement(kt.a,null)),o.a.createElement(vt.a,{className:j.divider,orientation:"vertical"}),o.a.createElement(S.a,{className:"team"===l.searchMode?j.iconButtonSelected:j.iconButton,onClick:function(){return w("team")},"aria-label":"directions"},o.a.createElement(jt.a,null)),"place"===l.searchMode?o.a.createElement(it.a,{style:{width:300},open:l.open,onOpen:function(){s(Object(g.a)({},l,{open:!0}))},onClose:function(){s(Object(g.a)({},l,{open:!1}))},onChange:function(t,a){a&&e(te.updateFlyTo({state:!0,coord:a.center}))},getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},options:b,loading:O,renderInput:function(e){return o.a.createElement(lt.a,Object.assign({},e,{placeholder:"search places",fullWidth:!0,variant:"outlined",onChange:function(e){var t;t=e.target.value,F.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,".json?proximity=").concat(a.lng,",").concat(a.lat,"&access_token=pk.eyJ1IjoibW9oZXNlbSIsImEiOiJjanR3amhqcWcxZm05NDVtcG03Nm44Ynk4In0.YUdlvT5fABnW8BReNMSuPg")).then((function(e){var t=e.data.features.map((function(e){return e.bbox?{name:e.place_name,center:e.bbox}:{name:e.place_name,center:e.center}}));f(t)})).catch((function(e){console.log(e),e.response&&console.log(e.response)}))}}))}}):o.a.createElement(it.a,{style:{width:300},open:l.open,onOpen:function(){s(Object(g.a)({},l,{open:!0}))},onClose:function(){s(Object(g.a)({},l,{open:!1}))},onChange:function(e,t){t&&function(e){k("/v/".concat(e._id))}(t)},getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},options:b,loading:O,renderInput:function(e){return o.a.createElement(lt.a,Object.assign({},e,{placeholder:"search teams",fullWidth:!0,variant:"outlined",onChange:function(e){dt(e.target.value).then((function(e){f(e.data.clubs)})).catch((function(e){wt(e),503===e.status?t("Network Error",{variant:"error"}):(wt(e),s(Object(g.a)({},l,{modalErrors:[e]})))}))}}))}}))))}}),o.a.createElement(d.b,{exact:!0,path:"/signin",component:function(){var e=Object(u.useSnackbar)().enqueueSnackbar,t=Object(i.b)(),a=et(),r=Object(n.useState)({modalErrors:[],redirect:!1,try:!1}),c=Object(E.a)(r,2),l=c[0],s=c[1],p=Object(n.useState)({}),b=Object(E.a)(p,2),f=b[0],h=b[1];return!0===l.try&&(s(Object(g.a)({},l,{try:!1})),Qe("this fucking shit is working "),function(e){return $e("====================== user is : ",e),new Promise((function(t,a){F.a.post("http://http://185.8.175.15//api/v1/POST/signin",e).then((function(e){$e("res",e),t({data:e.data,status:e.status.code})})).catch((function(e){$e("err",e),"object"!==typeof e.response?a({status:503}):a(e.response.data)}))}))}(f).then((function(a){Qe(a),localStorage.setItem("fans_club",a.data.token),s(Object(g.a)({},l,{redirect:"/"})),t(I({isValid:!0,firstname:a.data.firstname,lastname:a.data.lastname,likes:a.data.likes,dislikes:a.data.dislikes,suggests:a.data.suggests,location:a.data.location})),e("".concat(a.data.snackMsg),{variant:"success"})})).catch((function(t){Qe(t),503===t.status?e("Network Error",{variant:"error"}):(Qe(t),s(Object(g.a)({},l,{modalErrors:[t]})))}))),o.a.createElement(o.a.Fragment,null,l.redirect?o.a.createElement(d.a,{to:l.redirect,push:!0}):null,o.a.createElement(Pe.a,{container:!0,component:"main",className:a.root},o.a.createElement(m.a,null),o.a.createElement(Pe.a,{item:!0,xs:!1,sm:12,md:12,className:a.image}),o.a.createElement(Pe.a,{item:!0,xs:!1,sm:2,md:3}),o.a.createElement(Pe.a,{className:a.form,item:!0,xs:12,sm:8,md:6,component:Ie.a,elevation:6,square:!0},o.a.createElement("div",{className:a.paper},o.a.createElement(C.a,{className:a.title,color:"secondary",component:"h5",variant:"h3"},"Signin"),o.a.createElement(Ae.a,{fullWidth:!0,className:a.formStyle,variant:"outlined"},o.a.createElement(C.a,{color:"primary",className:a.instructions},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),o.a.createElement(Ne.GoogleLoginButton,{onClick:function(){Ce()("google").login({scope:"email"}).then((function(e){console.log(e),Ce()("google").api("me").then((function(e){console.log("handler",e),h({from:"google",email:e.email,firstname:e.first_name,lastname:e.last_name,fullname:e.name,picture:e.picture,thumbnail:e.thumbnail,googleId:e.id}),s(Object(g.a)({},l,{try:!0}))}),(function(e){s(Object(g.a)({},l,{modalErrors:[{msg:e.error.message}]}))}))}),(function(e){console.log(e),s(Object(g.a)({},l,{modalErrors:[{msg:e.error.message}]}))}))}}),o.a.createElement(Ne.FacebookLoginButton,{onClick:function(){Ce()("facebook").login().then((function(e){console.log(e),Ce()("facebook").api("me").then((function(e){console.log(e),h({from:"facebook",email:e.email,firstname:e.first_name,lastname:e.last_name,fullname:e.name,picture:e.picture,thumbnail:e.thumbnail,facebookId:e.id}),s(Object(g.a)({},l,{try:!0}))}),(function(e){s(Object(g.a)({},l,{modalErrors:[{msg:e.error.message}]}))}))}),(function(e){console.log("*******",e),s(Object(g.a)({},l,{modalErrors:[{msg:e.error.message}]}))}))}})))),o.a.createElement(Pe.a,{item:!0,xs:!1,sm:2,md:3})),l.modalErrors.length?o.a.createElement(Je,{errors:l.modalErrors,handleClick:function(){s(Object(g.a)({},l,{modalErrors:[]}))}}):null)}}),o.a.createElement(d.b,{exact:!0,path:"/clubs",component:function(){var e=Object(i.c)((function(e){return e.user})),t=Et(),a=Object(n.useState)({addNewClubModal:void 0,modalErrors:[],onHold:!1,redirect:!1}),r=Object(E.a)(a,2),c=r[0],l=r[1];function s(e,t){console.log(e,t)}return o.a.createElement(o.a.Fragment,null,c.redirect?o.a.createElement(d.a,{to:c.redirect,push:!0}):null,o.a.createElement(Pe.a,{container:!0,component:"main",className:t.root},o.a.createElement(m.a,null),o.a.createElement(Pe.a,{item:!0,xs:!1,sm:12,md:12,className:t.image}),o.a.createElement(Pe.a,{item:!0,xs:!1,sm:2,md:3}),o.a.createElement(Pe.a,{className:t.form,item:!0,xs:12,sm:8,md:6,component:Ie.a,elevation:6,square:!0},o.a.createElement("div",{className:t.paper},o.a.createElement(C.a,{className:t.title,align:"center",color:"secondary",variant:"h3"},"Clubs"),o.a.createElement(p.a,{theme:ft},o.a.createElement(C.a,{className:t.subTitle,align:"left",color:"primary",variant:"h4"},"Likes"),e.likes.length?o.a.createElement(C.a,{align:"left",variant:"subtitle1"},o.a.createElement("div",{className:t.favTeams},o.a.createElement(ct.a,{component:Ie.a},o.a.createElement(rt.a,{"aria-label":"simple table"},o.a.createElement(at.a,null,o.a.createElement(tt.a,null,o.a.createElement(nt.a,null,"Name"),o.a.createElement(nt.a,null,"Country"),o.a.createElement(nt.a,null))),o.a.createElement(ot.a,null,e.likes.map((function(e){return console.log(e),o.a.createElement(tt.a,{key:e._id},o.a.createElement(nt.a,{component:"th",scope:"row"},e.name),o.a.createElement(nt.a,null,e.country),o.a.createElement(nt.a,{align:"right"},o.a.createElement(N.a,{color:"primary",onClick:function(){return s(e,"like")}},"delete")))}))))))):o.a.createElement(C.a,{className:t.text,align:"left",variant:"subtitle1"},"You didn\u2019t add any club yet"),e.likes.length<5?o.a.createElement(N.a,{variant:"contained",color:"primary",style:{marginRight:"10px"},onClick:function(){l(Object(g.a)({},c,{addNewClubModal:"like"}))}},"LIKE A CLUB"):null),o.a.createElement(p.a,{theme:ht},o.a.createElement(C.a,{className:t.subTitle,align:"left",color:"primary",variant:"h4"},"Dislikes"),e.dislikes.length?o.a.createElement(C.a,{align:"left",variant:"subtitle1"},o.a.createElement("div",{className:t.favTeams},o.a.createElement(ct.a,{component:Ie.a},o.a.createElement(rt.a,{"aria-label":"simple table"},o.a.createElement(at.a,null,o.a.createElement(tt.a,null,o.a.createElement(nt.a,null,"Name"),o.a.createElement(nt.a,null,"Country"),o.a.createElement(nt.a,null))),o.a.createElement(ot.a,null,e.dislikes.map((function(e){return console.log(e),o.a.createElement(tt.a,{key:e._id},o.a.createElement(nt.a,{component:"th",scope:"row"},e.name),o.a.createElement(nt.a,null,e.country),o.a.createElement(nt.a,{align:"right"},o.a.createElement(N.a,{color:"primary",onClick:function(){return s(e,"like")}},"delete")))}))))))):o.a.createElement(C.a,{className:t.text,align:"left",variant:"subtitle1"},"You didn\u2019t add any club yet"),e.dislikes.length<5?o.a.createElement(N.a,{variant:"contained",color:"primary",style:{marginRight:"10px"},onClick:function(){l(Object(g.a)({},c,{addNewClubModal:"dislike"}))}},"DISLIKE A CLUB"):null))),o.a.createElement(Pe.a,{item:!0,xs:!1,sm:2,md:3})),c.modalErrors.length?o.a.createElement(Je,{errors:c.modalErrors,handleClose:function(){l(Object(g.a)({},c,{modalErrors:[]}))}}):null,c.addNewClubModal?o.a.createElement(bt,{type:c.addNewClubModal,handleClose:function(){l(Object(g.a)({},c,{addNewClubModal:void 0}))}}):null)}}),o.a.createElement(m.a,null))))),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[194,1,2]]]);
//# sourceMappingURL=main.5f7bbe7b.chunk.js.map